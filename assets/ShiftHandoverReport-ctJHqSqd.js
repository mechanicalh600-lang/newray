import{bk as o,b4 as de,j as e,aH as ce,Z as oe,a5 as xe,a0 as I,bi as R,aT as me,bn as E,bA as he,a_ as be,aD as pe,bB as fe,bC as L,bD as P,aK as je}from"./index-Ba5jVD6p.js";import{S as ge}from"./share-2-DqqORqgq.js";import{R as x,v as $,B as ue,C as z,X as O,Y as K,T as W,w as _,a as G}from"./BarChart-CG56lHO5.js";import{c as H,d as U}from"./PieChart-D5hrt51y.js";import{L as ye,a as Y}from"./LineChart-BSiQnK8R.js";import{R as q}from"./refresh-ccw-7aaP1mjM.js";const Ce=({reportData:r,adminAvatar:m,onBack:J})=>{var y,N,v,w,A,k,B,S,C,M,T,F;const V=r.totalA||0,X=r.totalB||0,Z=((y=r.shiftInfo)==null?void 0:y.shiftDuration)||"12:00",Q=Object.values(r.attendanceMap||{}).filter(s=>s==="PRESENT").length,D=Object.values(r.attendanceMap||{}).filter(s=>s==="LEAVE").length,ee=Object.values(r.attendanceMap||{}).filter(s=>s==="ABSENT").length,se=o(((v=(N=r.downtime)==null?void 0:N.lineA)==null?void 0:v.workTime)||"00:00"),te=o(((A=(w=r.downtime)==null?void 0:w.lineA)==null?void 0:A.stopTime)||"00:00"),re=o(((B=(k=r.downtime)==null?void 0:k.lineB)==null?void 0:B.workTime)||"00:00"),le=o(((C=(S=r.downtime)==null?void 0:S.lineB)==null?void 0:C.stopTime)||"00:00"),h=[{name:"کارکرد",value:se,color:"#22c55e"},{name:"توقف",value:te,color:"#ef4444"}],b=[{name:"کارکرد",value:re,color:"#22c55e"},{name:"توقف",value:le,color:"#ef4444"}],p=de(((M=r.shiftInfo)==null?void 0:M.type)||"Day1").map(s=>{var t,l,a,n;return{time:s,lineA:((l=(t=r.production)==null?void 0:t.lineA)==null?void 0:l[s])||0,lineB:((n=(a=r.production)==null?void 0:a.lineB)==null?void 0:n[s])||0}}),ne=s=>{const t=je(s);return t?["یکشنبه","دوشنبه","سه‌شنبه","چهارشنبه","پنج‌شنبه","جمعه","شنبه"][t.getDay()]:""},f=s=>{var n;const t={},l=((n=r.feedInfo)==null?void 0:n[s])||{};Object.values(l).forEach(c=>{Array.isArray(c)&&c.forEach(i=>{i.type&&i.percent>0&&(t[i.type]||(t[i.type]={total:0,count:0}),t[i.type].total+=i.percent,t[i.type].count+=1)})});const a=Object.keys(l).length||12;return Object.entries(t).map(([c,i])=>{const ie=Math.round(i.total/a);return{type:c,percent:ie}}).filter(c=>c.percent>0)},j=f("lineA"),g=f("lineB"),ae=()=>{const s=document.getElementById("report-content");if(!s)return;const l=`ShiftReport_${r.shiftInfo.date.replace(/\//g,"-")}_Shift${r.shiftInfo.name}_${r.shiftInfo.type}.pdf`,a=document.createElement("script");a.src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js",a.onload=()=>{const n={margin:0,filename:l,image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}};window.html2pdf().set(n).from(s).save()},document.body.appendChild(a)},u=async()=>{const s=document.getElementById("report-content");if(!s)return;if(!window.html2pdf){const n=document.createElement("script");n.src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js",n.onload=()=>u(),document.body.appendChild(n);return}const l=`ShiftReport_${r.shiftInfo.date.replace(/\//g,"-")}_Shift${r.shiftInfo.name}.pdf`,a={margin:0,filename:l,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}};try{const c=await window.html2pdf().set(a).from(s).toPdf().output("blob"),i=new File([c],l,{type:"application/pdf"});if(navigator.canShare&&navigator.canShare({files:[i]}))await navigator.share({files:[i],title:"گزارش شیفت",text:`گزارش شیفت ${r.shiftInfo.date} - ${R[r.shiftInfo.type]}`});else throw new Error("Sharing files not supported")}catch(n){console.error("Sharing failed, fallback to URL:",n),navigator.share?navigator.share({title:"گزارش شیفت",url:window.location.href}):alert("مرورگر شما از اشتراک گذاری پشتیبانی نمی‌کند.")}},d=({title:s,icon:t,children:l,colorClass:a="bg-gray-50 border-gray-200",isActive:n=!0})=>e.jsxs("div",{className:`border rounded-lg p-2 ${a} h-full flex flex-col relative overflow-hidden`,children:[e.jsxs("div",{className:"flex items-center gap-1 mb-2 border-b pb-1 border-gray-300/50",children:[t&&e.jsx(t,{className:"w-3 h-3 opacity-50"}),e.jsx("span",{className:"font-bold text-[10px]",children:s})]}),e.jsx("div",{className:"flex-1 flex flex-col justify-center",children:n?e.jsx("div",{className:"text-[9px] space-y-1",children:l}):e.jsx("div",{className:"flex items-center justify-center h-full absolute inset-0 top-6 bg-white/50 backdrop-blur-[1px]",children:e.jsx("span",{className:"text-yellow-600 font-black text-xl bg-yellow-100 px-3 py-1 rounded -rotate-12 border-4 border-yellow-500 opacity-80 shadow-lg",children:"خاموش"})})})]});return e.jsxs("div",{className:"bg-gray-200 min-h-screen p-8 flex flex-col items-center gap-8 text-black overflow-y-auto",children:[e.jsxs("div",{className:"fixed bottom-4 z-50 flex gap-4 no-print bg-white/90 backdrop-blur p-3 rounded-2xl shadow-xl border border-gray-200 left-1/2 transform -translate-x-1/2",children:[e.jsxs("button",{onClick:J,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-xl text-gray-700 font-bold transition",children:[e.jsx(ce,{className:"w-5 h-5"})," بازگشت"]}),e.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-4 py-2 bg-blue-100 hover:bg-blue-200 text-blue-700 rounded-xl font-bold transition",children:[e.jsx(ge,{className:"w-5 h-5"})," اشتراک گذاری"]}),e.jsxs("button",{onClick:ae,className:"flex items-center gap-2 px-4 py-2 bg-green-100 hover:bg-green-200 text-green-700 rounded-xl font-bold transition",children:[e.jsx(oe,{className:"w-5 h-5"})," دانلود PDF"]}),e.jsxs("button",{onClick:()=>window.print(),className:"flex items-center justify-center gap-2 px-6 py-2 bg-[#800020] text-white rounded-xl font-bold shadow-lg hover:bg-red-800 transition",children:[e.jsx(xe,{className:"w-5 h-5"})," چاپ"]})]}),e.jsxs("div",{id:"report-content",className:"w-[210mm] mx-auto box-border relative print:w-full print:shadow-none print:m-0 print:p-0",children:[e.jsx("style",{children:`
                    @media print {
                        @page { 
                            size: A4 portrait; 
                            margin: 0; 
                        }
                        
                        html, body {
                            width: 100%;
                            height: auto !important;
                            min-height: 100% !important;
                            overflow: visible !important;
                            margin: 0 !important;
                            padding: 0 !important;
                            background: white;
                        }

                        /* Hide everything by default */
                        body * {
                            visibility: hidden;
                        }

                        /* Ensure root doesn't constrain us, though we hide its children via body * */
                        #root {
                            display: block !important;
                            overflow: visible !important;
                            height: auto !important;
                        }
                        
                        /* Hide non-print elements explicitly */
                        .no-print {
                            display: none !important;
                        }

                        /* REPORT CONTAINER CONFIGURATION */
                        #report-content {
                            visibility: visible !important;
                            position: absolute !important;
                            left: 0 !important;
                            top: 0 !important;
                            width: 210mm !important;
                            height: auto !important;
                            margin: 0 !important;
                            padding: 0 !important;
                            z-index: 99999;
                            display: block !important;
                            box-shadow: none !important;
                        }
                        
                        #report-content * {
                            visibility: visible !important;
                        }

                        .page-sheet {
                            width: 210mm !important;
                            height: 297mm !important; /* Exact A4 Height */
                            page-break-after: always !important;
                            break-after: page !important;
                            padding: 10mm !important;
                            background: white !important;
                            box-shadow: none !important;
                            margin: 0 !important;
                            border: none !important;
                            position: relative !important;
                            overflow: hidden !important;
                        }

                        .page-sheet:last-of-type {
                            page-break-after: auto !important;
                            break-after: auto !important;
                        }
                    }
                `}),e.jsxs("div",{className:"page-sheet bg-white shadow-2xl p-[10mm] h-[297mm] flex flex-col box-border relative",children:[e.jsxs("div",{className:"flex justify-between items-center border-b-4 border-[#800020] pb-2 mb-2",children:[e.jsx("div",{className:"w-1/4 flex justify-start",children:e.jsx("div",{className:"w-16 h-16 rounded-full border-2 border-[#800020] overflow-hidden shadow-sm",children:m?e.jsx("img",{src:m,className:"w-full h-full object-cover",alt:"Admin"}):e.jsx("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center text-gray-400",children:e.jsx(I,{className:"w-8 h-8"})})})}),e.jsxs("div",{className:"text-center flex-1",children:[e.jsx("h1",{className:"text-xl font-black text-[#800020] mb-1",children:"شرکت توسعه معدنی و صنعتی صبانور"}),e.jsx("h2",{className:"text-sm font-bold text-gray-700 px-3 py-1",children:"گزارش شیفت تولید کارخانه کنسانتره همدان"})]}),e.jsxs("div",{className:"w-1/4 text-xs space-y-1 text-right font-medium text-gray-600 bg-gray-50 p-2 rounded-lg border border-gray-100",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"کد رهگیری"})," ",e.jsx("span",{className:"font-mono font-bold text-black",children:r.code})]}),e.jsx("div",{className:"border-t border-dashed border-gray-300"}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"تاریخ"})," ",e.jsxs("span",{className:"font-bold text-black text-left",dir:"ltr",children:[(T=r.shiftInfo)==null?void 0:T.date," (",ne(((F=r.shiftInfo)==null?void 0:F.date)||""),")"]})]}),e.jsx("div",{className:"border-t border-dashed border-gray-300"}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"شیفت"})," ",e.jsxs("span",{className:"font-bold text-black text-left",dir:"ltr",children:[R[r.shiftInfo.type]," (",r.shiftInfo.name,")"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-3 h-24",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-100 p-1.5 rounded-xl text-center flex flex-col justify-between shadow-sm",children:[e.jsxs("div",{className:"border-b border-blue-200 pb-0.5 mb-0.5",children:[e.jsx("span",{className:"text-[9px] text-blue-600 font-bold block",children:"خوراک مصرفی خط A"}),e.jsxs("span",{className:"text-base font-black text-blue-800 block",children:[V.toLocaleString()," ",e.jsx("span",{className:"text-[9px] font-normal",children:"تن"})]})]}),e.jsx("div",{className:"flex flex-row flex-wrap justify-center gap-1 content-center flex-1",children:j.length>0?j.map((s,t)=>e.jsxs("span",{className:"bg-blue-600 text-white px-1.5 py-0.5 rounded text-[8px] font-bold",children:[s.type,": ",s.percent,"%"]},t)):e.jsx("span",{className:"text-[8px] text-gray-400",children:"-"})})]}),e.jsxs("div",{className:"bg-red-50 border border-red-100 p-1.5 rounded-xl text-center flex flex-col justify-between shadow-sm",children:[e.jsxs("div",{className:"border-b border-red-200 pb-0.5 mb-0.5",children:[e.jsx("span",{className:"text-[9px] text-red-600 font-bold block",children:"خوراک مصرفی خط B"}),e.jsxs("span",{className:"text-base font-black text-red-800 block",children:[X.toLocaleString()," ",e.jsx("span",{className:"text-[9px] font-normal",children:"تن"})]})]}),e.jsx("div",{className:"flex flex-row flex-wrap justify-center gap-1 content-center flex-1",children:g.length>0?g.map((s,t)=>e.jsxs("span",{className:"bg-red-600 text-white px-1.5 py-0.5 rounded text-[8px] font-bold",children:[s.type,": ",s.percent,"%"]},t)):e.jsx("span",{className:"text-[8px] text-gray-400",children:"-"})})]}),e.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-2 rounded-xl text-center flex flex-col justify-center shadow-sm",children:[e.jsx("span",{className:"block text-[9px] text-gray-600 font-bold mb-1",children:"مدت زمان شیفت"}),e.jsx("span",{className:"text-2xl font-black text-gray-800 tracking-wider font-mono",children:Z})]}),e.jsxs("div",{className:"bg-white border border-gray-200 p-1.5 rounded-xl flex flex-col justify-between shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-center gap-1 border-b border-gray-100 pb-0.5 mb-0.5",children:[e.jsx(I,{className:"w-3 h-3 text-gray-500"}),e.jsx("span",{className:"text-[9px] text-gray-700 font-bold",children:"وضعیت نفرات"})]}),e.jsxs("div",{className:"flex justify-between items-center text-[9px] bg-green-50 px-1.5 py-0.5 rounded",children:[e.jsx("span",{children:"حاضر"}),e.jsx("span",{className:"font-bold text-green-800",children:Q})]}),e.jsxs("div",{className:"flex justify-between items-center text-[9px] bg-orange-50 px-1.5 py-0.5 rounded",children:[e.jsx("span",{children:"مرخصی"}),e.jsx("span",{className:"font-bold text-orange-800",children:D})]}),e.jsxs("div",{className:"flex justify-between items-center text-[9px] bg-red-50 px-1.5 py-0.5 rounded",children:[e.jsx("span",{children:"غایب"}),e.jsx("span",{className:"font-bold text-red-800",children:ee})]})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-3 h-40",children:[e.jsxs("div",{className:"bg-blue-50/30 rounded-xl p-1 border border-blue-100 relative flex flex-col justify-between",children:[e.jsx("h4",{className:"text-[9px] font-bold text-blue-800 text-center absolute top-1 w-full",children:"مدت کارکرد و توقف خط A"}),e.jsx("div",{className:"flex-1 flex items-center justify-center pt-3",children:e.jsx(x,{width:"100%",height:"100%",children:e.jsx(H,{children:e.jsx(U,{data:h,cx:"50%",cy:"50%",innerRadius:0,outerRadius:35,dataKey:"value",stroke:"none",children:h.map((s,t)=>e.jsx($,{fill:s.color},`cell-${t}`))})})})}),e.jsxs("div",{className:"flex justify-center gap-2 text-[9px] pb-1 font-mono font-bold",children:[e.jsxs("span",{className:"text-green-600",children:["کارکرد: ",r.downtime.lineA.workTime]}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsxs("span",{className:"text-red-600",children:["توقف: ",r.downtime.lineA.stopTime]})]})]}),e.jsxs("div",{className:"bg-red-50/30 rounded-xl p-1 border border-red-100 relative flex flex-col justify-between",children:[e.jsx("h4",{className:"text-[9px] font-bold text-red-800 text-center absolute top-1 w-full",children:"مدت کارکرد و توقف خط B"}),e.jsx("div",{className:"flex-1 flex items-center justify-center pt-3",children:e.jsx(x,{width:"100%",height:"100%",children:e.jsx(H,{children:e.jsx(U,{data:b,cx:"50%",cy:"50%",innerRadius:0,outerRadius:35,dataKey:"value",stroke:"none",children:b.map((s,t)=>e.jsx($,{fill:s.color},`cell-${t}`))})})})}),e.jsxs("div",{className:"flex justify-center gap-2 text-[9px] pb-1 font-mono font-bold",children:[e.jsxs("span",{className:"text-green-600",children:["کارکرد: ",r.downtime.lineB.workTime]}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsxs("span",{className:"text-red-600",children:["توقف: ",r.downtime.lineB.stopTime]})]})]}),e.jsxs("div",{className:"col-span-2 bg-white border border-gray-200 rounded-xl p-1 relative flex flex-col",children:[e.jsx("h4",{className:"text-[9px] font-bold text-gray-500 absolute top-1 right-2",children:"مصرف خوراک (تن/ساعت)"}),e.jsx("div",{className:"flex-1 mt-3",children:e.jsx(x,{width:"100%",height:"100%",children:e.jsxs(ue,{data:p,margin:{top:5,right:5,left:-20,bottom:0},children:[e.jsx(z,{strokeDasharray:"3 3",vertical:!1}),e.jsx(O,{dataKey:"time",tick:{fontSize:8,angle:-45,textAnchor:"end"},interval:0,height:30,tickMargin:5}),e.jsx(K,{tick:{fontSize:8},width:30,tickMargin:2}),e.jsx(W,{contentStyle:{fontSize:"10px"}}),e.jsx(_,{iconSize:6,wrapperStyle:{fontSize:"8px",paddingTop:"2px"}}),e.jsx(G,{dataKey:"lineA",name:"خط A",fill:"#3b82f6",radius:[2,2,0,0]}),e.jsx(G,{dataKey:"lineB",name:"خط B",fill:"#ef4444",radius:[2,2,0,0]})]})})})]})]}),e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-3 mb-2 min-h-[80px]",children:[e.jsx("h3",{className:"font-bold text-gray-700 border-b pb-1 mb-2 text-xs",children:"علل توقف خطوط"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-xs leading-relaxed p-2 bg-white rounded border border-gray-100 h-full",children:[e.jsx("strong",{className:"block text-blue-600 mb-1 border-b border-blue-50 pb-1",children:"خط A:"}),r.downtime.lineA.reason||"توقفی ثبت نشده است."]}),e.jsxs("div",{className:"text-xs leading-relaxed p-2 bg-white rounded border border-gray-100 h-full",children:[e.jsx("strong",{className:"block text-red-600 mb-1 border-b border-red-50 pb-1",children:"خط B:"}),r.downtime.lineB.reason||"توقفی ثبت نشده است."]})]})]}),e.jsxs("div",{className:"h-48 bg-white border border-gray-200 rounded-xl p-2 mb-3 relative",children:[e.jsx("h4",{className:"text-[9px] font-bold text-gray-500 absolute top-2 right-2",children:"روند خوراک‌دهی خطوط"}),e.jsx(x,{width:"100%",height:"100%",children:e.jsxs(ye,{data:p,margin:{top:20,right:10,left:-20,bottom:0},children:[e.jsx(z,{strokeDasharray:"3 3"}),e.jsx(O,{dataKey:"time",tick:{fontSize:9,angle:-45,textAnchor:"end"},height:40}),e.jsx(K,{tick:{fontSize:9},width:30}),e.jsx(W,{contentStyle:{fontSize:"10px"}}),e.jsx(_,{iconSize:8,wrapperStyle:{fontSize:"10px"}}),e.jsx(Y,{type:"monotone",dataKey:"lineA",stroke:"#3b82f6",strokeWidth:2,dot:{r:2},name:"روند خط A"}),e.jsx(Y,{type:"monotone",dataKey:"lineB",stroke:"#ef4444",strokeWidth:2,dot:{r:2},name:"روند خط B"})]})})]}),e.jsxs("div",{className:"flex-1 bg-gray-50 rounded-xl border border-gray-200 p-2 overflow-hidden mb-2",children:[e.jsx("h3",{className:"font-bold text-[#800020] border-b border-gray-300 pb-1 mb-2 text-xs text-center",children:"وضعیت بالمیل‌ها"}),e.jsx("div",{className:"grid grid-cols-4 gap-2 h-full",children:["lineA","lineB"].map(s=>{const t=r.ballMills[s],l=s==="lineA",a=l?"bg-blue-50 border-blue-200":"bg-red-50 border-red-200";return e.jsxs(me.Fragment,{children:[e.jsxs(d,{title:`بالمیل اولیه خط ${l?"A":"B"}`,icon:E,colorClass:a,isActive:t.primary.active,children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"جریان (08:00) :"})," ",e.jsxs("span",{className:Number(t.primary.amp08)>970?"text-red-600 font-bold":"",dir:"ltr",children:[t.primary.amp08," A"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"دانسیته (08:00) :"})," ",e.jsxs("span",{dir:"ltr",children:[t.primary.dens08," Gr/L"]})]}),e.jsxs("div",{className:"flex justify-between items-center border-t border-dashed pt-1 mt-1",children:[e.jsx("span",{children:"جریان (02:00) :"})," ",e.jsxs("span",{className:Number(t.primary.amp02)>970?"text-red-600 font-bold":"",dir:"ltr",children:[t.primary.amp02," A"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"دانسیته (02:00) :"})," ",e.jsxs("span",{dir:"ltr",children:[t.primary.dens02," Gr/L"]})]}),t.primary.charges.length>0&&e.jsxs("div",{className:"text-[8px] bg-white/50 p-1 rounded mt-1",children:["شارژ گلوله: ",t.primary.charges.map(n=>`${n.size}: ${n.count} بشکه`).join(" | ")]})]}),e.jsxs(d,{title:`بالمیل ثانویه خط ${l?"A":"B"}`,icon:E,colorClass:a,isActive:t.secondary.active,children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"جریان (08:00) :"})," ",e.jsxs("span",{className:Number(t.secondary.amp08)>970?"text-red-600 font-bold":"",dir:"ltr",children:[t.secondary.amp08," A"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"دانسیته (08:00) :"})," ",e.jsxs("span",{dir:"ltr",children:[t.secondary.dens08," Gr/L"]})]}),e.jsxs("div",{className:"flex justify-between items-center border-t border-dashed pt-1 mt-1",children:[e.jsx("span",{children:"جریان (02:00) :"})," ",e.jsxs("span",{className:Number(t.secondary.amp02)>970?"text-red-600 font-bold":"",dir:"ltr",children:[t.secondary.amp02," A"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"دانسیته (02:00) :"})," ",e.jsxs("span",{dir:"ltr",children:[t.secondary.dens02," Gr/L"]})]}),t.secondary.charges.length>0&&e.jsxs("div",{className:"text-[8px] bg-white/50 p-1 rounded mt-1",children:["شارژ گلوله: ",t.secondary.charges.map(n=>`${n.size}: ${n.count} بشکه`).join(" | ")]})]})]},s)})})]})]}),e.jsx("div",{className:"h-8 bg-gray-200/50 print:hidden w-full my-4 rounded flex items-center justify-center text-xs text-gray-400","data-html2canvas-ignore":"true",children:"فاصله بین صفحات (در خروجی PDF حذف می‌شود)"}),e.jsxs("div",{className:"page-sheet bg-white shadow-2xl p-[10mm] h-[297mm] flex flex-col box-border relative",children:[e.jsxs("div",{className:"border-b-2 border-gray-200 pb-2 mb-4 flex justify-between text-xs text-gray-400",children:[e.jsxs("span",{children:["ادامه گزارش شیفت ",r.shiftInfo.date]}),e.jsx("span",{children:"صفحه ۲"})]}),e.jsxs("div",{className:"mb-4 flex-1",children:[e.jsx("h3",{className:"font-bold text-[#800020] border-b border-gray-200 pb-2 mb-3 text-xs",children:"وضعیت تجهیزات فرآیندی"}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 h-auto mb-2",children:[e.jsx(d,{title:"هیدروسیکلون‌های خط A",icon:q,colorClass:"bg-blue-50 border-blue-200",isActive:!0,children:["primary","secondary"].map(s=>{const t=r.hydrocyclones.lineA[s],l=s==="primary"?"اولیه":"ثانویه";return t.active?e.jsxs("div",{className:"mb-1 border-b border-dashed border-blue-300 pb-1 last:border-0",children:[e.jsx("span",{className:"font-bold block mb-0.5",children:l}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:["P(08:00) : ",t.pressure08," Bar"]})," ",e.jsxs("span",{children:["P(02:00) : ",t.pressure02," Bar"]})]}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:t.activeCyclones.map(a=>e.jsx("span",{className:"w-4 h-4 rounded-full bg-blue-500 text-white flex items-center justify-center font-bold text-[8px]",children:a},a))})]},s):e.jsxs("div",{className:"mb-1 border-b border-dashed border-blue-300 pb-1 last:border-0 opacity-50",children:[e.jsxs("span",{className:"font-bold",children:[l," :"]})," خاموش"]},s)})}),e.jsx(d,{title:"هیدروسیکلون‌های خط B",icon:q,colorClass:"bg-red-50 border-red-200",isActive:!0,children:["primary","secondary"].map(s=>{const t=r.hydrocyclones.lineB[s],l=s==="primary"?"اولیه":"ثانویه";return t.active?e.jsxs("div",{className:"mb-1 border-b border-dashed border-red-300 pb-1 last:border-0",children:[e.jsx("span",{className:"font-bold block mb-0.5",children:l}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:["P(08:00) : ",t.pressure08," Bar"]})," ",e.jsxs("span",{children:["P(02:00) : ",t.pressure02," Bar"]})]}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:t.activeCyclones.map(a=>e.jsx("span",{className:"w-4 h-4 rounded-full bg-red-500 text-white flex items-center justify-center font-bold text-[8px]",children:a},a))})]},s):e.jsxs("div",{className:"mb-1 border-b border-dashed border-red-300 pb-1 last:border-0 opacity-50",children:[e.jsxs("span",{className:"font-bold",children:[l," :"]})," خاموش"]},s)})}),e.jsxs(d,{title:"پمپ استیشن",icon:he,colorClass:"bg-yellow-50 border-yellow-200",isActive:!0,children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("strong",{className:"block text-gray-700",children:"پمپ‌های پروسس :"}),e.jsx("div",{className:"flex gap-1 mt-1",children:r.pumps.process.length>0?r.pumps.process.map(s=>e.jsx("span",{className:"w-4 h-4 rounded-full bg-yellow-400 text-white flex items-center justify-center font-bold text-[9px]",children:s},s)):"-"})]}),e.jsxs("div",{children:[e.jsx("strong",{className:"block text-gray-700",children:"پمپ‌های آب تمیز :"}),e.jsx("div",{className:"flex gap-1 mt-1",children:r.pumps.cleanWater.length>0?r.pumps.cleanWater.map(s=>e.jsx("span",{className:"w-4 h-4 rounded-full bg-blue-400 text-white flex items-center justify-center font-bold text-[9px]",children:s},s)):"-"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 h-auto mb-2",children:[e.jsxs(d,{title:"درام مگنت‌ها",icon:be,colorClass:"bg-gray-50 border-gray-300",isActive:!0,children:[e.jsxs("div",{className:"mb-1 text-blue-700",children:[e.jsx("strong",{children:"خط A :"})," ",r.drumMagnets.lineA.active?"فعال":"غیرفعال",r.drumMagnets.lineA.active&&e.jsx("div",{className:"text-[8px] opacity-70 flex flex-wrap gap-1",children:[r.drumMagnets.lineA.single?"تکی":"",r.drumMagnets.lineA.upper?"بالا":"",r.drumMagnets.lineA.middle?"وسط":"",r.drumMagnets.lineA.lower?"پایین":""].filter(Boolean).map(s=>e.jsx("span",{className:"bg-blue-100 px-1 rounded",children:s},s))})]}),e.jsxs("div",{className:"text-red-700",children:[e.jsx("strong",{children:"خط B :"})," ",r.drumMagnets.lineB.active?"فعال":"غیرفعال",r.drumMagnets.lineB.active&&e.jsx("div",{className:"text-[8px] opacity-70 flex flex-wrap gap-1",children:[r.drumMagnets.lineB.single?"تکی":"",r.drumMagnets.lineB.upper?"بالا":"",r.drumMagnets.lineB.middle?"وسط":"",r.drumMagnets.lineB.lower?"پایین":""].filter(Boolean).map(s=>e.jsx("span",{className:"bg-red-100 px-1 rounded",children:s},s))})]})]}),e.jsxs(d,{title:"فیلترهای کنسانتره",icon:pe,colorClass:"bg-indigo-50 border-indigo-200",isActive:!0,children:[e.jsxs("div",{className:"mb-1 flex justify-between items-center text-[8px]",children:[e.jsx("strong",{className:"text-blue-700 text-[9px]",children:"خط A:"}),r.concentrateFilters.lineA.active?e.jsxs("span",{children:[r.concentrateFilters.lineA.cloths.length," پارچه ",e.jsxs("span",{className:"opacity-70",children:["(",r.concentrateFilters.lineA.hours,")"]})]}):"خاموش"]}),e.jsxs("div",{className:"mb-1 flex justify-between items-center text-[8px]",children:[e.jsx("strong",{className:"text-red-700 text-[9px]",children:"خط B:"}),r.concentrateFilters.lineB.active?e.jsxs("span",{children:[r.concentrateFilters.lineB.cloths.length," پارچه ",e.jsxs("span",{className:"opacity-70",children:["(",r.concentrateFilters.lineB.hours,")"]})]}):"خاموش"]}),e.jsxs("div",{className:"flex justify-between items-center text-[8px]",children:[e.jsx("strong",{className:"text-gray-600 text-[9px]",children:"رزرو:"}),r.concentrateFilters.reserve.active?e.jsxs("span",{children:[r.concentrateFilters.reserve.cloths.length," پارچه ",e.jsxs("span",{className:"opacity-70",children:["(",r.concentrateFilters.reserve.hours,")"]})]}):"خاموش"]})]}),e.jsx(d,{title:"فیلترهای بازیافت",icon:fe,colorClass:"bg-green-50 border-green-200",isActive:!0,children:e.jsxs("div",{className:"grid grid-cols-2 gap-1 h-full",children:[e.jsxs("div",{className:"border-l border-dashed border-green-200 pl-1",children:[e.jsx("strong",{className:"text-blue-700 text-[9px] block mb-1",children:"خط A"}),r.recoveryFilters.lineA.map((s,t)=>e.jsxs("div",{className:"mb-1",children:[e.jsxs("div",{className:"flex justify-between text-[8px]",children:[e.jsxs("span",{children:["#",t+1]}),s.active?e.jsx("span",{children:s.hours}):e.jsx("span",{className:"text-gray-300",children:"-"})]}),s.active&&e.jsxs("div",{className:"text-[8px] text-right text-gray-500",children:[s.cloths.length," پارچه"]})]},t))]}),e.jsxs("div",{children:[e.jsx("strong",{className:"text-red-700 text-[9px] block mb-1",children:"خط B"}),r.recoveryFilters.lineB.map((s,t)=>e.jsxs("div",{className:"mb-1",children:[e.jsxs("div",{className:"flex justify-between text-[8px]",children:[e.jsxs("span",{children:["#",t+1]}),s.active?e.jsx("span",{children:s.hours}):e.jsx("span",{className:"text-gray-300",children:"-"})]}),s.active&&e.jsxs("div",{className:"text-[8px] text-right text-gray-500",children:[s.cloths.length," پارچه"]})]},t))]})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 h-auto",children:[e.jsx(d,{title:"تیکنرهای خط A",icon:L,colorClass:"bg-blue-50 border-blue-200",isActive:!0,children:r.thickeners.lineA.map((s,t)=>s.active?e.jsxs("div",{className:"mb-1 border-b border-dashed border-blue-300 pb-1 last:border-0",children:[e.jsxs("div",{className:"flex justify-between font-bold text-[9px]",children:[e.jsxs("span",{children:["#",t+1]})," ",e.jsxs("span",{children:[s.hoursWorked," ساعت"]})]}),e.jsx("div",{className:"grid grid-cols-4 gap-1 text-[7px] mt-0.5 text-center",children:P.map(l=>s.data[l]?e.jsxs("div",{className:"bg-white/60 p-0.5 rounded flex flex-col",children:[e.jsx("span",{className:"font-bold border-b border-blue-100",children:l}),e.jsxs("span",{children:["P:",s.data[l].pressure]}),e.jsxs("span",{children:["J:",s.data[l].jack]}),e.jsxs("span",{children:["M:",s.data[l].mudLine]})]},l):null)})]},t):e.jsxs("div",{className:"mb-1 border-b border-dashed border-blue-300 pb-1 opacity-50",children:[e.jsxs("span",{className:"font-bold",children:["#",t+1," :"]})," خاموش"]},t))}),e.jsx(d,{title:"تیکنرهای خط B",icon:L,colorClass:"bg-red-50 border-red-200",isActive:!0,children:r.thickeners.lineB.map((s,t)=>s.active?e.jsxs("div",{className:"mb-1 border-b border-dashed border-red-300 pb-1 last:border-0",children:[e.jsxs("div",{className:"flex justify-between font-bold text-[9px]",children:[e.jsxs("span",{children:["#",t+1]})," ",e.jsxs("span",{children:[s.hoursWorked," ساعت"]})]}),e.jsx("div",{className:"grid grid-cols-4 gap-1 text-[7px] mt-0.5 text-center",children:P.map(l=>s.data[l]?e.jsxs("div",{className:"bg-white/60 p-0.5 rounded flex flex-col",children:[e.jsx("span",{className:"font-bold border-red-100 border-b",children:l}),e.jsxs("span",{children:["P:",s.data[l].pressure]}),e.jsxs("span",{children:["J:",s.data[l].jack]}),e.jsxs("span",{children:["M:",s.data[l].mudLine]})]},l):null)})]},t):e.jsxs("div",{className:"mb-1 border-b border-dashed border-red-300 pb-1 opacity-50",children:[e.jsxs("span",{className:"font-bold",children:["#",t+1," :"]})," خاموش"]},t))})]})]}),e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-3 mb-4 min-h-[160px]",children:[e.jsx("h3",{className:"font-bold text-yellow-800 border-b border-yellow-200 pb-1 mb-2 text-xs",children:"توضیحات کلی شیفت"}),e.jsxs("div",{className:"text-xs leading-relaxed text-justify p-2",children:[r.downtime.generalDescription.map((s,t)=>e.jsxs("p",{className:"mb-2 border-b border-dashed border-yellow-100 pb-1 last:border-0",children:["• ",s]},t)),r.downtime.generalDescription.length===0&&e.jsx("span",{className:"text-gray-400",children:"موردی ثبت نشده است."})]})]}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-3 mb-auto min-h-[80px]",children:[e.jsx("h3",{className:"font-bold text-green-800 border-b border-green-200 pb-1 mb-2 text-xs",children:"اقدامات لازم برای شیفت بعد"}),e.jsxs("div",{className:"text-xs leading-relaxed text-justify p-2",children:[r.footer.nextShiftActions.map((s,t)=>e.jsxs("p",{className:"mb-2 border-b border-dashed border-green-100 pb-1 last:border-0",children:["• ",s]},t)),r.footer.nextShiftActions.length===0&&e.jsx("span",{className:"text-gray-400",children:"موردی ثبت نشده است."})]})]}),e.jsx("div",{className:"mt-auto pt-4 pb-4",children:e.jsxs("div",{className:"grid grid-cols-3 gap-8 text-center",children:[e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsx("span",{className:"font-bold text-xs text-gray-700",children:"سرپرست شیفت"}),e.jsx("div",{className:"border-b border-gray-300 w-3/4 mx-auto"}),e.jsx("span",{className:"text-[10px] text-gray-500",children:r.shiftInfo.supervisorName})]}),e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsx("span",{className:"font-bold text-xs text-gray-700",children:"کارشناس فرآیند"}),e.jsx("div",{className:"border-b border-gray-300 w-3/4 mx-auto"})]}),e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsx("span",{className:"font-bold text-xs text-gray-700",children:"رئیس تولید"}),e.jsx("div",{className:"border-b border-gray-300 w-3/4 mx-auto"})]})]})})]})]})]})};export{Ce as S};
