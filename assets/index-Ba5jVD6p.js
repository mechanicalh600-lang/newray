const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Login-P-Xg1c1T.js","assets/alert-circle-Bv2-lKAE.js","assets/Dashboard-DlVikEja.js","assets/coffee-CK5ktbjd.js","assets/BarChart-CG56lHO5.js","assets/LineChart-BSiQnK8R.js","assets/WorkOrders-DzOXS3Jr.js","assets/paperclip-CYuFmfPe.js","assets/WorkOrderList-B_6yeh7t.js","assets/Inspections-cQuiHj7M.js","assets/share-2-DqqORqgq.js","assets/PartRequests-CiO_blDk.js","assets/pencil-Dq-rPqXW.js","assets/Suggestions-G8WNcj1y.js","assets/Projects-BF0wL_hu.js","assets/Inbox-160ZYGiU.js","assets/arrow-left-D4pnEk66.js","assets/Messages-BjUd7Bcr.js","assets/WorkflowDesigner-8pLm5hL5.js","assets/play-BMO1cnzw.js","assets/Reports-CHRjeaf1.js","assets/refresh-ccw-7aaP1mjM.js","assets/ReportTemplateDesign-CaY-Qv1S.js","assets/reportTemplates-DFawh_qo.js","assets/PieChart-D5hrt51y.js","assets/ReportTemplatePreview-Or5nQMhw.js","assets/ShiftHandover-Btl7WGYn.js","assets/ShiftHandoverReport-ctJHqSqd.js","assets/ProductionReport-8qcjYUL0.js","assets/info-CFSfHgcC.js","assets/WorkCalendar-BhoZwwMs.js","assets/ControlRoomReport-BDC1aYyF.js","assets/LabReport-Cy9HTkfe.js","assets/WarehouseReport-B0mazYmc.js","assets/ScaleReport-DIOSGkAY.js","assets/PMScheduler-DGCOek89.js","assets/Inventory-B7mFmGUh.js","assets/KPIs-BU6kpQ4G.js","assets/HSEReport-GcVQL7m_.js","assets/SoftwareErrors-gkWk2RRw.js","assets/DataChangeTracking-BI9TGHSY.js"])))=>i.map(i=>d[i]);
function UC(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var YK=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function BC(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var S2={exports:{}},yf={},E2={exports:{}},Ct={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xc=Symbol.for("react.element"),jC=Symbol.for("react.portal"),$C=Symbol.for("react.fragment"),VC=Symbol.for("react.strict_mode"),HC=Symbol.for("react.profiler"),GC=Symbol.for("react.provider"),WC=Symbol.for("react.context"),zC=Symbol.for("react.forward_ref"),qC=Symbol.for("react.suspense"),KC=Symbol.for("react.memo"),JC=Symbol.for("react.lazy"),R1=Symbol.iterator;function YC(e){return e===null||typeof e!="object"?null:(e=R1&&e[R1]||e["@@iterator"],typeof e=="function"?e:null)}var T2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C2=Object.assign,A2={};function el(e,t,r){this.props=e,this.context=t,this.refs=A2,this.updater=r||T2}el.prototype.isReactComponent={};el.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};el.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function N2(){}N2.prototype=el.prototype;function xm(e,t,r){this.props=e,this.context=t,this.refs=A2,this.updater=r||T2}var vm=xm.prototype=new N2;vm.constructor=xm;C2(vm,el.prototype);vm.isPureReactComponent=!0;var P1=Array.isArray,I2=Object.prototype.hasOwnProperty,ym={current:null},R2={key:!0,ref:!0,__self:!0,__source:!0};function P2(e,t,r){var n,s={},a=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)I2.call(t,n)&&!R2.hasOwnProperty(n)&&(s[n]=t[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:Xc,type:e,key:a,ref:i,props:s,_owner:ym.current}}function XC(e,t){return{$$typeof:Xc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function _m(e){return typeof e=="object"&&e!==null&&e.$$typeof===Xc}function QC(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var F1=/\/+/g;function R0(e,t){return typeof e=="object"&&e!==null&&e.key!=null?QC(""+e.key):t.toString(36)}function od(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Xc:case jC:i=!0}}if(i)return i=e,s=s(i),e=n===""?"."+R0(i,0):n,P1(s)?(r="",e!=null&&(r=e.replace(F1,"$&/")+"/"),od(s,t,r,"",function(c){return c})):s!=null&&(_m(s)&&(s=XC(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(F1,"$&/")+"/")+e)),t.push(s)),1;if(i=0,n=n===""?".":n+":",P1(e))for(var o=0;o<e.length;o++){a=e[o];var l=n+R0(a,o);i+=od(a,t,r,l,s)}else if(l=YC(e),typeof l=="function")for(e=l.call(e),o=0;!(a=e.next()).done;)a=a.value,l=n+R0(a,o++),i+=od(a,t,r,l,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function _u(e,t,r){if(e==null)return e;var n=[],s=0;return od(e,n,"","",function(a){return t.call(r,a,s++)}),n}function ZC(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var xn={current:null},ld={transition:null},eA={ReactCurrentDispatcher:xn,ReactCurrentBatchConfig:ld,ReactCurrentOwner:ym};function F2(){throw Error("act(...) is not supported in production builds of React.")}Ct.Children={map:_u,forEach:function(e,t,r){_u(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return _u(e,function(){t++}),t},toArray:function(e){return _u(e,function(t){return t})||[]},only:function(e){if(!_m(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ct.Component=el;Ct.Fragment=$C;Ct.Profiler=HC;Ct.PureComponent=xm;Ct.StrictMode=VC;Ct.Suspense=qC;Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eA;Ct.act=F2;Ct.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=C2({},e.props),s=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=ym.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)I2.call(t,l)&&!R2.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:Xc,type:e.type,key:s,ref:a,props:n,_owner:i}};Ct.createContext=function(e){return e={$$typeof:WC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:GC,_context:e},e.Consumer=e};Ct.createElement=P2;Ct.createFactory=function(e){var t=P2.bind(null,e);return t.type=e,t};Ct.createRef=function(){return{current:null}};Ct.forwardRef=function(e){return{$$typeof:zC,render:e}};Ct.isValidElement=_m;Ct.lazy=function(e){return{$$typeof:JC,_payload:{_status:-1,_result:e},_init:ZC}};Ct.memo=function(e,t){return{$$typeof:KC,type:e,compare:t===void 0?null:t}};Ct.startTransition=function(e){var t=ld.transition;ld.transition={};try{e()}finally{ld.transition=t}};Ct.unstable_act=F2;Ct.useCallback=function(e,t){return xn.current.useCallback(e,t)};Ct.useContext=function(e){return xn.current.useContext(e)};Ct.useDebugValue=function(){};Ct.useDeferredValue=function(e){return xn.current.useDeferredValue(e)};Ct.useEffect=function(e,t){return xn.current.useEffect(e,t)};Ct.useId=function(){return xn.current.useId()};Ct.useImperativeHandle=function(e,t,r){return xn.current.useImperativeHandle(e,t,r)};Ct.useInsertionEffect=function(e,t){return xn.current.useInsertionEffect(e,t)};Ct.useLayoutEffect=function(e,t){return xn.current.useLayoutEffect(e,t)};Ct.useMemo=function(e,t){return xn.current.useMemo(e,t)};Ct.useReducer=function(e,t,r){return xn.current.useReducer(e,t,r)};Ct.useRef=function(e){return xn.current.useRef(e)};Ct.useState=function(e){return xn.current.useState(e)};Ct.useSyncExternalStore=function(e,t,r){return xn.current.useSyncExternalStore(e,t,r)};Ct.useTransition=function(){return xn.current.useTransition()};Ct.version="18.3.1";E2.exports=Ct;var V=E2.exports;const lt=BC(V),tA=UC({__proto__:null,default:lt},[V]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rA=V,nA=Symbol.for("react.element"),sA=Symbol.for("react.fragment"),aA=Object.prototype.hasOwnProperty,iA=rA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,oA={key:!0,ref:!0,__self:!0,__source:!0};function M2(e,t,r){var n,s={},a=null,i=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)aA.call(t,n)&&!oA.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:nA,type:e,key:a,ref:i,props:s,_owner:iA.current}}yf.Fragment=sA;yf.jsx=M2;yf.jsxs=M2;S2.exports=yf;var d=S2.exports,D2={exports:{}},$n={},L2={exports:{}},O2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(X,W){var pe=X.length;X.push(W);e:for(;0<pe;){var Ee=pe-1>>>1,I=X[Ee];if(0<s(I,W))X[Ee]=W,X[pe]=I,pe=Ee;else break e}}function r(X){return X.length===0?null:X[0]}function n(X){if(X.length===0)return null;var W=X[0],pe=X.pop();if(pe!==W){X[0]=pe;e:for(var Ee=0,I=X.length,L=I>>>1;Ee<L;){var G=2*(Ee+1)-1,q=X[G],ce=G+1,ye=X[ce];if(0>s(q,pe))ce<I&&0>s(ye,q)?(X[Ee]=ye,X[ce]=pe,Ee=ce):(X[Ee]=q,X[G]=pe,Ee=G);else if(ce<I&&0>s(ye,pe))X[Ee]=ye,X[ce]=pe,Ee=ce;else break e}}return W}function s(X,W){var pe=X.sortIndex-W.sortIndex;return pe!==0?pe:X.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var l=[],c=[],u=1,h=null,p=3,g=!1,v=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(X){for(var W=r(c);W!==null;){if(W.callback===null)n(c);else if(W.startTime<=X)n(c),W.sortIndex=W.expirationTime,t(l,W);else break;W=r(c)}}function b(X){if(x=!1,_(X),!v)if(r(l)!==null)v=!0,we(T);else{var W=r(c);W!==null&&J(b,W.startTime-X)}}function T(X,W){v=!1,x&&(x=!1,w(M),M=-1),g=!0;var pe=p;try{for(_(W),h=r(l);h!==null&&(!(h.expirationTime>W)||X&&!Y());){var Ee=h.callback;if(typeof Ee=="function"){h.callback=null,p=h.priorityLevel;var I=Ee(h.expirationTime<=W);W=e.unstable_now(),typeof I=="function"?h.callback=I:h===r(l)&&n(l),_(W)}else n(l);h=r(l)}if(h!==null)var L=!0;else{var G=r(c);G!==null&&J(b,G.startTime-W),L=!1}return L}finally{h=null,p=pe,g=!1}}var E=!1,S=null,M=-1,F=5,z=-1;function Y(){return!(e.unstable_now()-z<F)}function U(){if(S!==null){var X=e.unstable_now();z=X;var W=!0;try{W=S(!0,X)}finally{W?re():(E=!1,S=null)}}else E=!1}var re;if(typeof k=="function")re=function(){k(U)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,fe=B.port2;B.port1.onmessage=U,re=function(){fe.postMessage(null)}}else re=function(){y(U,0)};function we(X){S=X,E||(E=!0,re())}function J(X,W){M=y(function(){X(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(X){X.callback=null},e.unstable_continueExecution=function(){v||g||(v=!0,we(T))},e.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<X?Math.floor(1e3/X):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(X){switch(p){case 1:case 2:case 3:var W=3;break;default:W=p}var pe=p;p=W;try{return X()}finally{p=pe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(X,W){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var pe=p;p=X;try{return W()}finally{p=pe}},e.unstable_scheduleCallback=function(X,W,pe){var Ee=e.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Ee+pe:Ee):pe=Ee,X){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=pe+I,X={id:u++,callback:W,priorityLevel:X,startTime:pe,expirationTime:I,sortIndex:-1},pe>Ee?(X.sortIndex=pe,t(c,X),r(l)===null&&X===r(c)&&(x?(w(M),M=-1):x=!0,J(b,pe-Ee))):(X.sortIndex=I,t(l,X),v||g||(v=!0,we(T))),X},e.unstable_shouldYield=Y,e.unstable_wrapCallback=function(X){var W=p;return function(){var pe=p;p=W;try{return X.apply(this,arguments)}finally{p=pe}}}})(O2);L2.exports=O2;var lA=L2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cA=V,Bn=lA;function Ne(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var U2=new Set,ic={};function Bi(e,t){Go(e,t),Go(e+"Capture",t)}function Go(e,t){for(ic[e]=t,e=0;e<t.length;e++)U2.add(t[e])}var Zs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mh=Object.prototype.hasOwnProperty,uA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,M1={},D1={};function dA(e){return Mh.call(D1,e)?!0:Mh.call(M1,e)?!1:uA.test(e)?D1[e]=!0:(M1[e]=!0,!1)}function fA(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function hA(e,t,r,n){if(t===null||typeof t>"u"||fA(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function vn(e,t,r,n,s,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var zr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){zr[e]=new vn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];zr[t]=new vn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){zr[e]=new vn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){zr[e]=new vn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){zr[e]=new vn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){zr[e]=new vn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){zr[e]=new vn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){zr[e]=new vn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){zr[e]=new vn(e,5,!1,e.toLowerCase(),null,!1,!1)});var wm=/[\-:]([a-z])/g;function km(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(wm,km);zr[t]=new vn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(wm,km);zr[t]=new vn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(wm,km);zr[t]=new vn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){zr[e]=new vn(e,1,!1,e.toLowerCase(),null,!1,!1)});zr.xlinkHref=new vn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){zr[e]=new vn(e,1,!1,e.toLowerCase(),null,!0,!0)});function bm(e,t,r,n){var s=zr.hasOwnProperty(t)?zr[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(hA(t,r,s,n)&&(r=null),n||s===null?dA(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var aa=cA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wu=Symbol.for("react.element"),mo=Symbol.for("react.portal"),go=Symbol.for("react.fragment"),Sm=Symbol.for("react.strict_mode"),Dh=Symbol.for("react.profiler"),B2=Symbol.for("react.provider"),j2=Symbol.for("react.context"),Em=Symbol.for("react.forward_ref"),Lh=Symbol.for("react.suspense"),Oh=Symbol.for("react.suspense_list"),Tm=Symbol.for("react.memo"),xa=Symbol.for("react.lazy"),$2=Symbol.for("react.offscreen"),L1=Symbol.iterator;function ml(e){return e===null||typeof e!="object"?null:(e=L1&&e[L1]||e["@@iterator"],typeof e=="function"?e:null)}var ir=Object.assign,P0;function Rl(e){if(P0===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);P0=t&&t[1]||""}return`
`+P0+e}var F0=!1;function M0(e,t){if(!e||F0)return"";F0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),a=n.stack.split(`
`),i=s.length-1,o=a.length-1;1<=i&&0<=o&&s[i]!==a[o];)o--;for(;1<=i&&0<=o;i--,o--)if(s[i]!==a[o]){if(i!==1||o!==1)do if(i--,o--,0>o||s[i]!==a[o]){var l=`
`+s[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=o);break}}}finally{F0=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Rl(e):""}function pA(e){switch(e.tag){case 5:return Rl(e.type);case 16:return Rl("Lazy");case 13:return Rl("Suspense");case 19:return Rl("SuspenseList");case 0:case 2:case 15:return e=M0(e.type,!1),e;case 11:return e=M0(e.type.render,!1),e;case 1:return e=M0(e.type,!0),e;default:return""}}function Uh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case go:return"Fragment";case mo:return"Portal";case Dh:return"Profiler";case Sm:return"StrictMode";case Lh:return"Suspense";case Oh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case j2:return(e.displayName||"Context")+".Consumer";case B2:return(e._context.displayName||"Context")+".Provider";case Em:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Tm:return t=e.displayName||null,t!==null?t:Uh(e.type)||"Memo";case xa:t=e._payload,e=e._init;try{return Uh(e(t))}catch{}}return null}function mA(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Uh(t);case 8:return t===Sm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ba(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function V2(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function gA(e){var t=V2(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ku(e){e._valueTracker||(e._valueTracker=gA(e))}function H2(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=V2(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function bd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Bh(e,t){var r=t.checked;return ir({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function O1(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ba(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function G2(e,t){t=t.checked,t!=null&&bm(e,"checked",t,!1)}function jh(e,t){G2(e,t);var r=Ba(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?$h(e,t.type,r):t.hasOwnProperty("defaultValue")&&$h(e,t.type,Ba(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function U1(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function $h(e,t,r){(t!=="number"||bd(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Pl=Array.isArray;function Ro(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ba(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Vh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ne(91));return ir({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function B1(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Ne(92));if(Pl(r)){if(1<r.length)throw Error(Ne(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ba(r)}}function W2(e,t){var r=Ba(t.value),n=Ba(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function j1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function z2(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?z2(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var bu,q2=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(bu=bu||document.createElement("div"),bu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=bu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function oc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var jl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xA=["Webkit","ms","Moz","O"];Object.keys(jl).forEach(function(e){xA.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),jl[t]=jl[e]})});function K2(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||jl.hasOwnProperty(e)&&jl[e]?(""+t).trim():t+"px"}function J2(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=K2(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var vA=ir({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gh(e,t){if(t){if(vA[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ne(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ne(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ne(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ne(62))}}function Wh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zh=null;function Cm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qh=null,Po=null,Fo=null;function $1(e){if(e=eu(e)){if(typeof qh!="function")throw Error(Ne(280));var t=e.stateNode;t&&(t=Sf(t),qh(e.stateNode,e.type,t))}}function Y2(e){Po?Fo?Fo.push(e):Fo=[e]:Po=e}function X2(){if(Po){var e=Po,t=Fo;if(Fo=Po=null,$1(e),t)for(e=0;e<t.length;e++)$1(t[e])}}function Q2(e,t){return e(t)}function Z2(){}var D0=!1;function ek(e,t,r){if(D0)return e(t,r);D0=!0;try{return Q2(e,t,r)}finally{D0=!1,(Po!==null||Fo!==null)&&(Z2(),X2())}}function lc(e,t){var r=e.stateNode;if(r===null)return null;var n=Sf(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Ne(231,t,typeof r));return r}var Kh=!1;if(Zs)try{var gl={};Object.defineProperty(gl,"passive",{get:function(){Kh=!0}}),window.addEventListener("test",gl,gl),window.removeEventListener("test",gl,gl)}catch{Kh=!1}function yA(e,t,r,n,s,a,i,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var $l=!1,Sd=null,Ed=!1,Jh=null,_A={onError:function(e){$l=!0,Sd=e}};function wA(e,t,r,n,s,a,i,o,l){$l=!1,Sd=null,yA.apply(_A,arguments)}function kA(e,t,r,n,s,a,i,o,l){if(wA.apply(this,arguments),$l){if($l){var c=Sd;$l=!1,Sd=null}else throw Error(Ne(198));Ed||(Ed=!0,Jh=c)}}function ji(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function tk(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function V1(e){if(ji(e)!==e)throw Error(Ne(188))}function bA(e){var t=e.alternate;if(!t){if(t=ji(e),t===null)throw Error(Ne(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return V1(s),e;if(a===n)return V1(s),t;a=a.sibling}throw Error(Ne(188))}if(r.return!==n.return)r=s,n=a;else{for(var i=!1,o=s.child;o;){if(o===r){i=!0,r=s,n=a;break}if(o===n){i=!0,n=s,r=a;break}o=o.sibling}if(!i){for(o=a.child;o;){if(o===r){i=!0,r=a,n=s;break}if(o===n){i=!0,n=a,r=s;break}o=o.sibling}if(!i)throw Error(Ne(189))}}if(r.alternate!==n)throw Error(Ne(190))}if(r.tag!==3)throw Error(Ne(188));return r.stateNode.current===r?e:t}function rk(e){return e=bA(e),e!==null?nk(e):null}function nk(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=nk(e);if(t!==null)return t;e=e.sibling}return null}var sk=Bn.unstable_scheduleCallback,H1=Bn.unstable_cancelCallback,SA=Bn.unstable_shouldYield,EA=Bn.unstable_requestPaint,mr=Bn.unstable_now,TA=Bn.unstable_getCurrentPriorityLevel,Am=Bn.unstable_ImmediatePriority,ak=Bn.unstable_UserBlockingPriority,Td=Bn.unstable_NormalPriority,CA=Bn.unstable_LowPriority,ik=Bn.unstable_IdlePriority,_f=null,Bs=null;function AA(e){if(Bs&&typeof Bs.onCommitFiberRoot=="function")try{Bs.onCommitFiberRoot(_f,e,void 0,(e.current.flags&128)===128)}catch{}}var ks=Math.clz32?Math.clz32:RA,NA=Math.log,IA=Math.LN2;function RA(e){return e>>>=0,e===0?32:31-(NA(e)/IA|0)|0}var Su=64,Eu=4194304;function Fl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Cd(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,i=r&268435455;if(i!==0){var o=i&~s;o!==0?n=Fl(o):(a&=i,a!==0&&(n=Fl(a)))}else i=r&~s,i!==0?n=Fl(i):a!==0&&(n=Fl(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ks(t),s=1<<r,n|=e[r],t&=~s;return n}function PA(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function FA(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-ks(a),o=1<<i,l=s[i];l===-1?(!(o&r)||o&n)&&(s[i]=PA(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}function Yh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ok(){var e=Su;return Su<<=1,!(Su&4194240)&&(Su=64),e}function L0(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Qc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ks(t),e[t]=r}function MA(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-ks(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function Nm(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ks(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Vt=0;function lk(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ck,Im,uk,dk,fk,Xh=!1,Tu=[],Na=null,Ia=null,Ra=null,cc=new Map,uc=new Map,_a=[],DA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function G1(e,t){switch(e){case"focusin":case"focusout":Na=null;break;case"dragenter":case"dragleave":Ia=null;break;case"mouseover":case"mouseout":Ra=null;break;case"pointerover":case"pointerout":cc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":uc.delete(t.pointerId)}}function xl(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=eu(t),t!==null&&Im(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function LA(e,t,r,n,s){switch(t){case"focusin":return Na=xl(Na,e,t,r,n,s),!0;case"dragenter":return Ia=xl(Ia,e,t,r,n,s),!0;case"mouseover":return Ra=xl(Ra,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return cc.set(a,xl(cc.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,uc.set(a,xl(uc.get(a)||null,e,t,r,n,s)),!0}return!1}function hk(e){var t=pi(e.target);if(t!==null){var r=ji(t);if(r!==null){if(t=r.tag,t===13){if(t=tk(r),t!==null){e.blockedOn=t,fk(e.priority,function(){uk(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function cd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Qh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);zh=n,r.target.dispatchEvent(n),zh=null}else return t=eu(r),t!==null&&Im(t),e.blockedOn=r,!1;t.shift()}return!0}function W1(e,t,r){cd(e)&&r.delete(t)}function OA(){Xh=!1,Na!==null&&cd(Na)&&(Na=null),Ia!==null&&cd(Ia)&&(Ia=null),Ra!==null&&cd(Ra)&&(Ra=null),cc.forEach(W1),uc.forEach(W1)}function vl(e,t){e.blockedOn===t&&(e.blockedOn=null,Xh||(Xh=!0,Bn.unstable_scheduleCallback(Bn.unstable_NormalPriority,OA)))}function dc(e){function t(s){return vl(s,e)}if(0<Tu.length){vl(Tu[0],e);for(var r=1;r<Tu.length;r++){var n=Tu[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Na!==null&&vl(Na,e),Ia!==null&&vl(Ia,e),Ra!==null&&vl(Ra,e),cc.forEach(t),uc.forEach(t),r=0;r<_a.length;r++)n=_a[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<_a.length&&(r=_a[0],r.blockedOn===null);)hk(r),r.blockedOn===null&&_a.shift()}var Mo=aa.ReactCurrentBatchConfig,Ad=!0;function UA(e,t,r,n){var s=Vt,a=Mo.transition;Mo.transition=null;try{Vt=1,Rm(e,t,r,n)}finally{Vt=s,Mo.transition=a}}function BA(e,t,r,n){var s=Vt,a=Mo.transition;Mo.transition=null;try{Vt=4,Rm(e,t,r,n)}finally{Vt=s,Mo.transition=a}}function Rm(e,t,r,n){if(Ad){var s=Qh(e,t,r,n);if(s===null)z0(e,t,n,Nd,r),G1(e,n);else if(LA(s,e,t,r,n))n.stopPropagation();else if(G1(e,n),t&4&&-1<DA.indexOf(e)){for(;s!==null;){var a=eu(s);if(a!==null&&ck(a),a=Qh(e,t,r,n),a===null&&z0(e,t,n,Nd,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else z0(e,t,n,null,r)}}var Nd=null;function Qh(e,t,r,n){if(Nd=null,e=Cm(n),e=pi(e),e!==null)if(t=ji(e),t===null)e=null;else if(r=t.tag,r===13){if(e=tk(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Nd=e,null}function pk(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(TA()){case Am:return 1;case ak:return 4;case Td:case CA:return 16;case ik:return 536870912;default:return 16}default:return 16}}var ba=null,Pm=null,ud=null;function mk(){if(ud)return ud;var e,t=Pm,r=t.length,n,s="value"in ba?ba.value:ba.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===s[a-n];n++);return ud=s.slice(e,1<n?1-n:void 0)}function dd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Cu(){return!0}function z1(){return!1}function Vn(e){function t(r,n,s,a,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Cu:z1,this.isPropagationStopped=z1,this}return ir(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Cu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Cu)},persist:function(){},isPersistent:Cu}),t}var tl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fm=Vn(tl),Zc=ir({},tl,{view:0,detail:0}),jA=Vn(Zc),O0,U0,yl,wf=ir({},Zc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yl&&(yl&&e.type==="mousemove"?(O0=e.screenX-yl.screenX,U0=e.screenY-yl.screenY):U0=O0=0,yl=e),O0)},movementY:function(e){return"movementY"in e?e.movementY:U0}}),q1=Vn(wf),$A=ir({},wf,{dataTransfer:0}),VA=Vn($A),HA=ir({},Zc,{relatedTarget:0}),B0=Vn(HA),GA=ir({},tl,{animationName:0,elapsedTime:0,pseudoElement:0}),WA=Vn(GA),zA=ir({},tl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qA=Vn(zA),KA=ir({},tl,{data:0}),K1=Vn(KA),JA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},YA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function QA(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=XA[e])?!!t[e]:!1}function Mm(){return QA}var ZA=ir({},Zc,{key:function(e){if(e.key){var t=JA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=dd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?YA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mm,charCode:function(e){return e.type==="keypress"?dd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?dd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),eN=Vn(ZA),tN=ir({},wf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),J1=Vn(tN),rN=ir({},Zc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mm}),nN=Vn(rN),sN=ir({},tl,{propertyName:0,elapsedTime:0,pseudoElement:0}),aN=Vn(sN),iN=ir({},wf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),oN=Vn(iN),lN=[9,13,27,32],Dm=Zs&&"CompositionEvent"in window,Vl=null;Zs&&"documentMode"in document&&(Vl=document.documentMode);var cN=Zs&&"TextEvent"in window&&!Vl,gk=Zs&&(!Dm||Vl&&8<Vl&&11>=Vl),Y1=" ",X1=!1;function xk(e,t){switch(e){case"keyup":return lN.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vk(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xo=!1;function uN(e,t){switch(e){case"compositionend":return vk(t);case"keypress":return t.which!==32?null:(X1=!0,Y1);case"textInput":return e=t.data,e===Y1&&X1?null:e;default:return null}}function dN(e,t){if(xo)return e==="compositionend"||!Dm&&xk(e,t)?(e=mk(),ud=Pm=ba=null,xo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gk&&t.locale!=="ko"?null:t.data;default:return null}}var fN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Q1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!fN[e.type]:t==="textarea"}function yk(e,t,r,n){Y2(n),t=Id(t,"onChange"),0<t.length&&(r=new Fm("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Hl=null,fc=null;function hN(e){Ik(e,0)}function kf(e){var t=_o(e);if(H2(t))return e}function pN(e,t){if(e==="change")return t}var _k=!1;if(Zs){var j0;if(Zs){var $0="oninput"in document;if(!$0){var Z1=document.createElement("div");Z1.setAttribute("oninput","return;"),$0=typeof Z1.oninput=="function"}j0=$0}else j0=!1;_k=j0&&(!document.documentMode||9<document.documentMode)}function ev(){Hl&&(Hl.detachEvent("onpropertychange",wk),fc=Hl=null)}function wk(e){if(e.propertyName==="value"&&kf(fc)){var t=[];yk(t,fc,e,Cm(e)),ek(hN,t)}}function mN(e,t,r){e==="focusin"?(ev(),Hl=t,fc=r,Hl.attachEvent("onpropertychange",wk)):e==="focusout"&&ev()}function gN(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return kf(fc)}function xN(e,t){if(e==="click")return kf(t)}function vN(e,t){if(e==="input"||e==="change")return kf(t)}function yN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ns=typeof Object.is=="function"?Object.is:yN;function hc(e,t){if(Ns(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Mh.call(t,s)||!Ns(e[s],t[s]))return!1}return!0}function tv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rv(e,t){var r=tv(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=tv(r)}}function kk(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?kk(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function bk(){for(var e=window,t=bd();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=bd(e.document)}return t}function Lm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function _N(e){var t=bk(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&kk(r.ownerDocument.documentElement,r)){if(n!==null&&Lm(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=rv(r,a);var i=rv(r,n);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var wN=Zs&&"documentMode"in document&&11>=document.documentMode,vo=null,Zh=null,Gl=null,ep=!1;function nv(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ep||vo==null||vo!==bd(n)||(n=vo,"selectionStart"in n&&Lm(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Gl&&hc(Gl,n)||(Gl=n,n=Id(Zh,"onSelect"),0<n.length&&(t=new Fm("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=vo)))}function Au(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var yo={animationend:Au("Animation","AnimationEnd"),animationiteration:Au("Animation","AnimationIteration"),animationstart:Au("Animation","AnimationStart"),transitionend:Au("Transition","TransitionEnd")},V0={},Sk={};Zs&&(Sk=document.createElement("div").style,"AnimationEvent"in window||(delete yo.animationend.animation,delete yo.animationiteration.animation,delete yo.animationstart.animation),"TransitionEvent"in window||delete yo.transitionend.transition);function bf(e){if(V0[e])return V0[e];if(!yo[e])return e;var t=yo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Sk)return V0[e]=t[r];return e}var Ek=bf("animationend"),Tk=bf("animationiteration"),Ck=bf("animationstart"),Ak=bf("transitionend"),Nk=new Map,sv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function za(e,t){Nk.set(e,t),Bi(t,[e])}for(var H0=0;H0<sv.length;H0++){var G0=sv[H0],kN=G0.toLowerCase(),bN=G0[0].toUpperCase()+G0.slice(1);za(kN,"on"+bN)}za(Ek,"onAnimationEnd");za(Tk,"onAnimationIteration");za(Ck,"onAnimationStart");za("dblclick","onDoubleClick");za("focusin","onFocus");za("focusout","onBlur");za(Ak,"onTransitionEnd");Go("onMouseEnter",["mouseout","mouseover"]);Go("onMouseLeave",["mouseout","mouseover"]);Go("onPointerEnter",["pointerout","pointerover"]);Go("onPointerLeave",["pointerout","pointerover"]);Bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ml));function av(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,kA(n,t,void 0,e),e.currentTarget=null}function Ik(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var i=n.length-1;0<=i;i--){var o=n[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&s.isPropagationStopped())break e;av(s,o,c),a=l}else for(i=0;i<n.length;i++){if(o=n[i],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&s.isPropagationStopped())break e;av(s,o,c),a=l}}}if(Ed)throw e=Jh,Ed=!1,Jh=null,e}function Jt(e,t){var r=t[ap];r===void 0&&(r=t[ap]=new Set);var n=e+"__bubble";r.has(n)||(Rk(t,e,2,!1),r.add(n))}function W0(e,t,r){var n=0;t&&(n|=4),Rk(r,e,n,t)}var Nu="_reactListening"+Math.random().toString(36).slice(2);function pc(e){if(!e[Nu]){e[Nu]=!0,U2.forEach(function(r){r!=="selectionchange"&&(SN.has(r)||W0(r,!1,e),W0(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Nu]||(t[Nu]=!0,W0("selectionchange",!1,t))}}function Rk(e,t,r,n){switch(pk(t)){case 1:var s=UA;break;case 4:s=BA;break;default:s=Rm}r=s.bind(null,t,r,e),s=void 0,!Kh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function z0(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;i=i.return}for(;o!==null;){if(i=pi(o),i===null)return;if(l=i.tag,l===5||l===6){n=a=i;continue e}o=o.parentNode}}n=n.return}ek(function(){var c=a,u=Cm(r),h=[];e:{var p=Nk.get(e);if(p!==void 0){var g=Fm,v=e;switch(e){case"keypress":if(dd(r)===0)break e;case"keydown":case"keyup":g=eN;break;case"focusin":v="focus",g=B0;break;case"focusout":v="blur",g=B0;break;case"beforeblur":case"afterblur":g=B0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=q1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=VA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=nN;break;case Ek:case Tk:case Ck:g=WA;break;case Ak:g=aN;break;case"scroll":g=jA;break;case"wheel":g=oN;break;case"copy":case"cut":case"paste":g=qA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=J1}var x=(t&4)!==0,y=!x&&e==="scroll",w=x?p!==null?p+"Capture":null:p;x=[];for(var k=c,_;k!==null;){_=k;var b=_.stateNode;if(_.tag===5&&b!==null&&(_=b,w!==null&&(b=lc(k,w),b!=null&&x.push(mc(k,b,_)))),y)break;k=k.return}0<x.length&&(p=new g(p,v,null,r,u),h.push({event:p,listeners:x}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",p&&r!==zh&&(v=r.relatedTarget||r.fromElement)&&(pi(v)||v[ea]))break e;if((g||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,g?(v=r.relatedTarget||r.toElement,g=c,v=v?pi(v):null,v!==null&&(y=ji(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=c),g!==v)){if(x=q1,b="onMouseLeave",w="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(x=J1,b="onPointerLeave",w="onPointerEnter",k="pointer"),y=g==null?p:_o(g),_=v==null?p:_o(v),p=new x(b,k+"leave",g,r,u),p.target=y,p.relatedTarget=_,b=null,pi(u)===c&&(x=new x(w,k+"enter",v,r,u),x.target=_,x.relatedTarget=y,b=x),y=b,g&&v)t:{for(x=g,w=v,k=0,_=x;_;_=Xi(_))k++;for(_=0,b=w;b;b=Xi(b))_++;for(;0<k-_;)x=Xi(x),k--;for(;0<_-k;)w=Xi(w),_--;for(;k--;){if(x===w||w!==null&&x===w.alternate)break t;x=Xi(x),w=Xi(w)}x=null}else x=null;g!==null&&iv(h,p,g,x,!1),v!==null&&y!==null&&iv(h,y,v,x,!0)}}e:{if(p=c?_o(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var T=pN;else if(Q1(p))if(_k)T=vN;else{T=gN;var E=mN}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(T=xN);if(T&&(T=T(e,c))){yk(h,T,r,u);break e}E&&E(e,p,c),e==="focusout"&&(E=p._wrapperState)&&E.controlled&&p.type==="number"&&$h(p,"number",p.value)}switch(E=c?_o(c):window,e){case"focusin":(Q1(E)||E.contentEditable==="true")&&(vo=E,Zh=c,Gl=null);break;case"focusout":Gl=Zh=vo=null;break;case"mousedown":ep=!0;break;case"contextmenu":case"mouseup":case"dragend":ep=!1,nv(h,r,u);break;case"selectionchange":if(wN)break;case"keydown":case"keyup":nv(h,r,u)}var S;if(Dm)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else xo?xk(e,r)&&(M="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(M="onCompositionStart");M&&(gk&&r.locale!=="ko"&&(xo||M!=="onCompositionStart"?M==="onCompositionEnd"&&xo&&(S=mk()):(ba=u,Pm="value"in ba?ba.value:ba.textContent,xo=!0)),E=Id(c,M),0<E.length&&(M=new K1(M,e,null,r,u),h.push({event:M,listeners:E}),S?M.data=S:(S=vk(r),S!==null&&(M.data=S)))),(S=cN?uN(e,r):dN(e,r))&&(c=Id(c,"onBeforeInput"),0<c.length&&(u=new K1("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:c}),u.data=S))}Ik(h,t)})}function mc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Id(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=lc(e,r),a!=null&&n.unshift(mc(e,a,s)),a=lc(e,t),a!=null&&n.push(mc(e,a,s))),e=e.return}return n}function Xi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function iv(e,t,r,n,s){for(var a=t._reactName,i=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,s?(l=lc(r,a),l!=null&&i.unshift(mc(r,l,o))):s||(l=lc(r,a),l!=null&&i.push(mc(r,l,o)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var EN=/\r\n?/g,TN=/\u0000|\uFFFD/g;function ov(e){return(typeof e=="string"?e:""+e).replace(EN,`
`).replace(TN,"")}function Iu(e,t,r){if(t=ov(t),ov(e)!==t&&r)throw Error(Ne(425))}function Rd(){}var tp=null,rp=null;function np(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var sp=typeof setTimeout=="function"?setTimeout:void 0,CN=typeof clearTimeout=="function"?clearTimeout:void 0,lv=typeof Promise=="function"?Promise:void 0,AN=typeof queueMicrotask=="function"?queueMicrotask:typeof lv<"u"?function(e){return lv.resolve(null).then(e).catch(NN)}:sp;function NN(e){setTimeout(function(){throw e})}function q0(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),dc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);dc(t)}function Pa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function cv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var rl=Math.random().toString(36).slice(2),Os="__reactFiber$"+rl,gc="__reactProps$"+rl,ea="__reactContainer$"+rl,ap="__reactEvents$"+rl,IN="__reactListeners$"+rl,RN="__reactHandles$"+rl;function pi(e){var t=e[Os];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ea]||r[Os]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=cv(e);e!==null;){if(r=e[Os])return r;e=cv(e)}return t}e=r,r=e.parentNode}return null}function eu(e){return e=e[Os]||e[ea],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _o(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ne(33))}function Sf(e){return e[gc]||null}var ip=[],wo=-1;function qa(e){return{current:e}}function Xt(e){0>wo||(e.current=ip[wo],ip[wo]=null,wo--)}function zt(e,t){wo++,ip[wo]=e.current,e.current=t}var ja={},an=qa(ja),bn=qa(!1),Ci=ja;function Wo(e,t){var r=e.type.contextTypes;if(!r)return ja;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Sn(e){return e=e.childContextTypes,e!=null}function Pd(){Xt(bn),Xt(an)}function uv(e,t,r){if(an.current!==ja)throw Error(Ne(168));zt(an,t),zt(bn,r)}function Pk(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(Ne(108,mA(e)||"Unknown",s));return ir({},r,n)}function Fd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ja,Ci=an.current,zt(an,e),zt(bn,bn.current),!0}function dv(e,t,r){var n=e.stateNode;if(!n)throw Error(Ne(169));r?(e=Pk(e,t,Ci),n.__reactInternalMemoizedMergedChildContext=e,Xt(bn),Xt(an),zt(an,e)):Xt(bn),zt(bn,r)}var Ws=null,Ef=!1,K0=!1;function Fk(e){Ws===null?Ws=[e]:Ws.push(e)}function PN(e){Ef=!0,Fk(e)}function Ka(){if(!K0&&Ws!==null){K0=!0;var e=0,t=Vt;try{var r=Ws;for(Vt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ws=null,Ef=!1}catch(s){throw Ws!==null&&(Ws=Ws.slice(e+1)),sk(Am,Ka),s}finally{Vt=t,K0=!1}}return null}var ko=[],bo=0,Md=null,Dd=0,Yn=[],Xn=0,Ai=null,zs=1,qs="";function ii(e,t){ko[bo++]=Dd,ko[bo++]=Md,Md=e,Dd=t}function Mk(e,t,r){Yn[Xn++]=zs,Yn[Xn++]=qs,Yn[Xn++]=Ai,Ai=e;var n=zs;e=qs;var s=32-ks(n)-1;n&=~(1<<s),r+=1;var a=32-ks(t)+s;if(30<a){var i=s-s%5;a=(n&(1<<i)-1).toString(32),n>>=i,s-=i,zs=1<<32-ks(t)+s|r<<s|n,qs=a+e}else zs=1<<a|r<<s|n,qs=e}function Om(e){e.return!==null&&(ii(e,1),Mk(e,1,0))}function Um(e){for(;e===Md;)Md=ko[--bo],ko[bo]=null,Dd=ko[--bo],ko[bo]=null;for(;e===Ai;)Ai=Yn[--Xn],Yn[Xn]=null,qs=Yn[--Xn],Yn[Xn]=null,zs=Yn[--Xn],Yn[Xn]=null}var Un=null,On=null,tr=!1,ys=null;function Dk(e,t){var r=Qn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function fv(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Un=e,On=Pa(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Un=e,On=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ai!==null?{id:zs,overflow:qs}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Qn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Un=e,On=null,!0):!1;default:return!1}}function op(e){return(e.mode&1)!==0&&(e.flags&128)===0}function lp(e){if(tr){var t=On;if(t){var r=t;if(!fv(e,t)){if(op(e))throw Error(Ne(418));t=Pa(r.nextSibling);var n=Un;t&&fv(e,t)?Dk(n,r):(e.flags=e.flags&-4097|2,tr=!1,Un=e)}}else{if(op(e))throw Error(Ne(418));e.flags=e.flags&-4097|2,tr=!1,Un=e}}}function hv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Un=e}function Ru(e){if(e!==Un)return!1;if(!tr)return hv(e),tr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!np(e.type,e.memoizedProps)),t&&(t=On)){if(op(e))throw Lk(),Error(Ne(418));for(;t;)Dk(e,t),t=Pa(t.nextSibling)}if(hv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ne(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){On=Pa(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}On=null}}else On=Un?Pa(e.stateNode.nextSibling):null;return!0}function Lk(){for(var e=On;e;)e=Pa(e.nextSibling)}function zo(){On=Un=null,tr=!1}function Bm(e){ys===null?ys=[e]:ys.push(e)}var FN=aa.ReactCurrentBatchConfig;function _l(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ne(309));var n=r.stateNode}if(!n)throw Error(Ne(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var o=s.refs;i===null?delete o[a]:o[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(Ne(284));if(!r._owner)throw Error(Ne(290,e))}return e}function Pu(e,t){throw e=Object.prototype.toString.call(t),Error(Ne(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function pv(e){var t=e._init;return t(e._payload)}function Ok(e){function t(w,k){if(e){var _=w.deletions;_===null?(w.deletions=[k],w.flags|=16):_.push(k)}}function r(w,k){if(!e)return null;for(;k!==null;)t(w,k),k=k.sibling;return null}function n(w,k){for(w=new Map;k!==null;)k.key!==null?w.set(k.key,k):w.set(k.index,k),k=k.sibling;return w}function s(w,k){return w=La(w,k),w.index=0,w.sibling=null,w}function a(w,k,_){return w.index=_,e?(_=w.alternate,_!==null?(_=_.index,_<k?(w.flags|=2,k):_):(w.flags|=2,k)):(w.flags|=1048576,k)}function i(w){return e&&w.alternate===null&&(w.flags|=2),w}function o(w,k,_,b){return k===null||k.tag!==6?(k=th(_,w.mode,b),k.return=w,k):(k=s(k,_),k.return=w,k)}function l(w,k,_,b){var T=_.type;return T===go?u(w,k,_.props.children,b,_.key):k!==null&&(k.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===xa&&pv(T)===k.type)?(b=s(k,_.props),b.ref=_l(w,k,_),b.return=w,b):(b=vd(_.type,_.key,_.props,null,w.mode,b),b.ref=_l(w,k,_),b.return=w,b)}function c(w,k,_,b){return k===null||k.tag!==4||k.stateNode.containerInfo!==_.containerInfo||k.stateNode.implementation!==_.implementation?(k=rh(_,w.mode,b),k.return=w,k):(k=s(k,_.children||[]),k.return=w,k)}function u(w,k,_,b,T){return k===null||k.tag!==7?(k=_i(_,w.mode,b,T),k.return=w,k):(k=s(k,_),k.return=w,k)}function h(w,k,_){if(typeof k=="string"&&k!==""||typeof k=="number")return k=th(""+k,w.mode,_),k.return=w,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case wu:return _=vd(k.type,k.key,k.props,null,w.mode,_),_.ref=_l(w,null,k),_.return=w,_;case mo:return k=rh(k,w.mode,_),k.return=w,k;case xa:var b=k._init;return h(w,b(k._payload),_)}if(Pl(k)||ml(k))return k=_i(k,w.mode,_,null),k.return=w,k;Pu(w,k)}return null}function p(w,k,_,b){var T=k!==null?k.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return T!==null?null:o(w,k,""+_,b);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case wu:return _.key===T?l(w,k,_,b):null;case mo:return _.key===T?c(w,k,_,b):null;case xa:return T=_._init,p(w,k,T(_._payload),b)}if(Pl(_)||ml(_))return T!==null?null:u(w,k,_,b,null);Pu(w,_)}return null}function g(w,k,_,b,T){if(typeof b=="string"&&b!==""||typeof b=="number")return w=w.get(_)||null,o(k,w,""+b,T);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case wu:return w=w.get(b.key===null?_:b.key)||null,l(k,w,b,T);case mo:return w=w.get(b.key===null?_:b.key)||null,c(k,w,b,T);case xa:var E=b._init;return g(w,k,_,E(b._payload),T)}if(Pl(b)||ml(b))return w=w.get(_)||null,u(k,w,b,T,null);Pu(k,b)}return null}function v(w,k,_,b){for(var T=null,E=null,S=k,M=k=0,F=null;S!==null&&M<_.length;M++){S.index>M?(F=S,S=null):F=S.sibling;var z=p(w,S,_[M],b);if(z===null){S===null&&(S=F);break}e&&S&&z.alternate===null&&t(w,S),k=a(z,k,M),E===null?T=z:E.sibling=z,E=z,S=F}if(M===_.length)return r(w,S),tr&&ii(w,M),T;if(S===null){for(;M<_.length;M++)S=h(w,_[M],b),S!==null&&(k=a(S,k,M),E===null?T=S:E.sibling=S,E=S);return tr&&ii(w,M),T}for(S=n(w,S);M<_.length;M++)F=g(S,w,M,_[M],b),F!==null&&(e&&F.alternate!==null&&S.delete(F.key===null?M:F.key),k=a(F,k,M),E===null?T=F:E.sibling=F,E=F);return e&&S.forEach(function(Y){return t(w,Y)}),tr&&ii(w,M),T}function x(w,k,_,b){var T=ml(_);if(typeof T!="function")throw Error(Ne(150));if(_=T.call(_),_==null)throw Error(Ne(151));for(var E=T=null,S=k,M=k=0,F=null,z=_.next();S!==null&&!z.done;M++,z=_.next()){S.index>M?(F=S,S=null):F=S.sibling;var Y=p(w,S,z.value,b);if(Y===null){S===null&&(S=F);break}e&&S&&Y.alternate===null&&t(w,S),k=a(Y,k,M),E===null?T=Y:E.sibling=Y,E=Y,S=F}if(z.done)return r(w,S),tr&&ii(w,M),T;if(S===null){for(;!z.done;M++,z=_.next())z=h(w,z.value,b),z!==null&&(k=a(z,k,M),E===null?T=z:E.sibling=z,E=z);return tr&&ii(w,M),T}for(S=n(w,S);!z.done;M++,z=_.next())z=g(S,w,M,z.value,b),z!==null&&(e&&z.alternate!==null&&S.delete(z.key===null?M:z.key),k=a(z,k,M),E===null?T=z:E.sibling=z,E=z);return e&&S.forEach(function(U){return t(w,U)}),tr&&ii(w,M),T}function y(w,k,_,b){if(typeof _=="object"&&_!==null&&_.type===go&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case wu:e:{for(var T=_.key,E=k;E!==null;){if(E.key===T){if(T=_.type,T===go){if(E.tag===7){r(w,E.sibling),k=s(E,_.props.children),k.return=w,w=k;break e}}else if(E.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===xa&&pv(T)===E.type){r(w,E.sibling),k=s(E,_.props),k.ref=_l(w,E,_),k.return=w,w=k;break e}r(w,E);break}else t(w,E);E=E.sibling}_.type===go?(k=_i(_.props.children,w.mode,b,_.key),k.return=w,w=k):(b=vd(_.type,_.key,_.props,null,w.mode,b),b.ref=_l(w,k,_),b.return=w,w=b)}return i(w);case mo:e:{for(E=_.key;k!==null;){if(k.key===E)if(k.tag===4&&k.stateNode.containerInfo===_.containerInfo&&k.stateNode.implementation===_.implementation){r(w,k.sibling),k=s(k,_.children||[]),k.return=w,w=k;break e}else{r(w,k);break}else t(w,k);k=k.sibling}k=rh(_,w.mode,b),k.return=w,w=k}return i(w);case xa:return E=_._init,y(w,k,E(_._payload),b)}if(Pl(_))return v(w,k,_,b);if(ml(_))return x(w,k,_,b);Pu(w,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,k!==null&&k.tag===6?(r(w,k.sibling),k=s(k,_),k.return=w,w=k):(r(w,k),k=th(_,w.mode,b),k.return=w,w=k),i(w)):r(w,k)}return y}var qo=Ok(!0),Uk=Ok(!1),Ld=qa(null),Od=null,So=null,jm=null;function $m(){jm=So=Od=null}function Vm(e){var t=Ld.current;Xt(Ld),e._currentValue=t}function cp(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Do(e,t){Od=e,jm=So=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(kn=!0),e.firstContext=null)}function ns(e){var t=e._currentValue;if(jm!==e)if(e={context:e,memoizedValue:t,next:null},So===null){if(Od===null)throw Error(Ne(308));So=e,Od.dependencies={lanes:0,firstContext:e}}else So=So.next=e;return t}var mi=null;function Hm(e){mi===null?mi=[e]:mi.push(e)}function Bk(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Hm(t)):(r.next=s.next,s.next=r),t.interleaved=r,ta(e,n)}function ta(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var va=!1;function Gm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jk(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Js(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fa(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Rt&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,ta(e,r)}return s=n.interleaved,s===null?(t.next=t,Hm(n)):(t.next=s.next,s.next=t),n.interleaved=t,ta(e,r)}function fd(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Nm(e,r)}}function mv(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=i:a=a.next=i,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ud(e,t,r,n){var s=e.updateQueue;va=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,c=l.next;l.next=null,i===null?a=c:i.next=c,i=l;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==i&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(a!==null){var h=s.baseState;i=0,u=c=l=null,o=a;do{var p=o.lane,g=o.eventTime;if((n&p)===p){u!==null&&(u=u.next={eventTime:g,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=e,x=o;switch(p=t,g=r,x.tag){case 1:if(v=x.payload,typeof v=="function"){h=v.call(g,h,p);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,p=typeof v=="function"?v.call(g,h,p):v,p==null)break e;h=ir({},h,p);break e;case 2:va=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[o]:p.push(o))}else g={eventTime:g,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=g,l=h):u=u.next=g,i|=p;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;p=o,o=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(u===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Ii|=i,e.lanes=i,e.memoizedState=h}}function gv(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Ne(191,s));s.call(n)}}}var tu={},js=qa(tu),xc=qa(tu),vc=qa(tu);function gi(e){if(e===tu)throw Error(Ne(174));return e}function Wm(e,t){switch(zt(vc,t),zt(xc,e),zt(js,tu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Hh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Hh(t,e)}Xt(js),zt(js,t)}function Ko(){Xt(js),Xt(xc),Xt(vc)}function $k(e){gi(vc.current);var t=gi(js.current),r=Hh(t,e.type);t!==r&&(zt(xc,e),zt(js,r))}function zm(e){xc.current===e&&(Xt(js),Xt(xc))}var rr=qa(0);function Bd(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var J0=[];function qm(){for(var e=0;e<J0.length;e++)J0[e]._workInProgressVersionPrimary=null;J0.length=0}var hd=aa.ReactCurrentDispatcher,Y0=aa.ReactCurrentBatchConfig,Ni=0,ar=null,Tr=null,Fr=null,jd=!1,Wl=!1,yc=0,MN=0;function Kr(){throw Error(Ne(321))}function Km(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ns(e[r],t[r]))return!1;return!0}function Jm(e,t,r,n,s,a){if(Ni=a,ar=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hd.current=e===null||e.memoizedState===null?UN:BN,e=r(n,s),Wl){a=0;do{if(Wl=!1,yc=0,25<=a)throw Error(Ne(301));a+=1,Fr=Tr=null,t.updateQueue=null,hd.current=jN,e=r(n,s)}while(Wl)}if(hd.current=$d,t=Tr!==null&&Tr.next!==null,Ni=0,Fr=Tr=ar=null,jd=!1,t)throw Error(Ne(300));return e}function Ym(){var e=yc!==0;return yc=0,e}function Ls(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fr===null?ar.memoizedState=Fr=e:Fr=Fr.next=e,Fr}function ss(){if(Tr===null){var e=ar.alternate;e=e!==null?e.memoizedState:null}else e=Tr.next;var t=Fr===null?ar.memoizedState:Fr.next;if(t!==null)Fr=t,Tr=e;else{if(e===null)throw Error(Ne(310));Tr=e,e={memoizedState:Tr.memoizedState,baseState:Tr.baseState,baseQueue:Tr.baseQueue,queue:Tr.queue,next:null},Fr===null?ar.memoizedState=Fr=e:Fr=Fr.next=e}return Fr}function _c(e,t){return typeof t=="function"?t(e):t}function X0(e){var t=ss(),r=t.queue;if(r===null)throw Error(Ne(311));r.lastRenderedReducer=e;var n=Tr,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var i=s.next;s.next=a.next,a.next=i}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var o=i=null,l=null,c=a;do{var u=c.lane;if((Ni&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=h,i=n):l=l.next=h,ar.lanes|=u,Ii|=u}c=c.next}while(c!==null&&c!==a);l===null?i=n:l.next=o,Ns(n,t.memoizedState)||(kn=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,ar.lanes|=a,Ii|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Q0(e){var t=ss(),r=t.queue;if(r===null)throw Error(Ne(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do a=e(a,i.action),i=i.next;while(i!==s);Ns(a,t.memoizedState)||(kn=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function Vk(){}function Hk(e,t){var r=ar,n=ss(),s=t(),a=!Ns(n.memoizedState,s);if(a&&(n.memoizedState=s,kn=!0),n=n.queue,Xm(zk.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Fr!==null&&Fr.memoizedState.tag&1){if(r.flags|=2048,wc(9,Wk.bind(null,r,n,s,t),void 0,null),Lr===null)throw Error(Ne(349));Ni&30||Gk(r,t,s)}return s}function Gk(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ar.updateQueue,t===null?(t={lastEffect:null,stores:null},ar.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Wk(e,t,r,n){t.value=r,t.getSnapshot=n,qk(t)&&Kk(e)}function zk(e,t,r){return r(function(){qk(t)&&Kk(e)})}function qk(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ns(e,r)}catch{return!0}}function Kk(e){var t=ta(e,1);t!==null&&bs(t,e,1,-1)}function xv(e){var t=Ls();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_c,lastRenderedState:e},t.queue=e,e=e.dispatch=ON.bind(null,ar,e),[t.memoizedState,e]}function wc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ar.updateQueue,t===null?(t={lastEffect:null,stores:null},ar.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Jk(){return ss().memoizedState}function pd(e,t,r,n){var s=Ls();ar.flags|=e,s.memoizedState=wc(1|t,r,void 0,n===void 0?null:n)}function Tf(e,t,r,n){var s=ss();n=n===void 0?null:n;var a=void 0;if(Tr!==null){var i=Tr.memoizedState;if(a=i.destroy,n!==null&&Km(n,i.deps)){s.memoizedState=wc(t,r,a,n);return}}ar.flags|=e,s.memoizedState=wc(1|t,r,a,n)}function vv(e,t){return pd(8390656,8,e,t)}function Xm(e,t){return Tf(2048,8,e,t)}function Yk(e,t){return Tf(4,2,e,t)}function Xk(e,t){return Tf(4,4,e,t)}function Qk(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Zk(e,t,r){return r=r!=null?r.concat([e]):null,Tf(4,4,Qk.bind(null,t,e),r)}function Qm(){}function eb(e,t){var r=ss();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Km(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function tb(e,t){var r=ss();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Km(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function rb(e,t,r){return Ni&21?(Ns(r,t)||(r=ok(),ar.lanes|=r,Ii|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,kn=!0),e.memoizedState=r)}function DN(e,t){var r=Vt;Vt=r!==0&&4>r?r:4,e(!0);var n=Y0.transition;Y0.transition={};try{e(!1),t()}finally{Vt=r,Y0.transition=n}}function nb(){return ss().memoizedState}function LN(e,t,r){var n=Da(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},sb(e))ab(t,r);else if(r=Bk(e,t,r,n),r!==null){var s=pn();bs(r,e,n,s),ib(r,t,n)}}function ON(e,t,r){var n=Da(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(sb(e))ab(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,o=a(i,r);if(s.hasEagerState=!0,s.eagerState=o,Ns(o,i)){var l=t.interleaved;l===null?(s.next=s,Hm(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=Bk(e,t,s,n),r!==null&&(s=pn(),bs(r,e,n,s),ib(r,t,n))}}function sb(e){var t=e.alternate;return e===ar||t!==null&&t===ar}function ab(e,t){Wl=jd=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function ib(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Nm(e,r)}}var $d={readContext:ns,useCallback:Kr,useContext:Kr,useEffect:Kr,useImperativeHandle:Kr,useInsertionEffect:Kr,useLayoutEffect:Kr,useMemo:Kr,useReducer:Kr,useRef:Kr,useState:Kr,useDebugValue:Kr,useDeferredValue:Kr,useTransition:Kr,useMutableSource:Kr,useSyncExternalStore:Kr,useId:Kr,unstable_isNewReconciler:!1},UN={readContext:ns,useCallback:function(e,t){return Ls().memoizedState=[e,t===void 0?null:t],e},useContext:ns,useEffect:vv,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,pd(4194308,4,Qk.bind(null,t,e),r)},useLayoutEffect:function(e,t){return pd(4194308,4,e,t)},useInsertionEffect:function(e,t){return pd(4,2,e,t)},useMemo:function(e,t){var r=Ls();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ls();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=LN.bind(null,ar,e),[n.memoizedState,e]},useRef:function(e){var t=Ls();return e={current:e},t.memoizedState=e},useState:xv,useDebugValue:Qm,useDeferredValue:function(e){return Ls().memoizedState=e},useTransition:function(){var e=xv(!1),t=e[0];return e=DN.bind(null,e[1]),Ls().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ar,s=Ls();if(tr){if(r===void 0)throw Error(Ne(407));r=r()}else{if(r=t(),Lr===null)throw Error(Ne(349));Ni&30||Gk(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,vv(zk.bind(null,n,a,e),[e]),n.flags|=2048,wc(9,Wk.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Ls(),t=Lr.identifierPrefix;if(tr){var r=qs,n=zs;r=(n&~(1<<32-ks(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=yc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=MN++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},BN={readContext:ns,useCallback:eb,useContext:ns,useEffect:Xm,useImperativeHandle:Zk,useInsertionEffect:Yk,useLayoutEffect:Xk,useMemo:tb,useReducer:X0,useRef:Jk,useState:function(){return X0(_c)},useDebugValue:Qm,useDeferredValue:function(e){var t=ss();return rb(t,Tr.memoizedState,e)},useTransition:function(){var e=X0(_c)[0],t=ss().memoizedState;return[e,t]},useMutableSource:Vk,useSyncExternalStore:Hk,useId:nb,unstable_isNewReconciler:!1},jN={readContext:ns,useCallback:eb,useContext:ns,useEffect:Xm,useImperativeHandle:Zk,useInsertionEffect:Yk,useLayoutEffect:Xk,useMemo:tb,useReducer:Q0,useRef:Jk,useState:function(){return Q0(_c)},useDebugValue:Qm,useDeferredValue:function(e){var t=ss();return Tr===null?t.memoizedState=e:rb(t,Tr.memoizedState,e)},useTransition:function(){var e=Q0(_c)[0],t=ss().memoizedState;return[e,t]},useMutableSource:Vk,useSyncExternalStore:Hk,useId:nb,unstable_isNewReconciler:!1};function ps(e,t){if(e&&e.defaultProps){t=ir({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function up(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ir({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Cf={isMounted:function(e){return(e=e._reactInternals)?ji(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=pn(),s=Da(e),a=Js(n,s);a.payload=t,r!=null&&(a.callback=r),t=Fa(e,a,s),t!==null&&(bs(t,e,s,n),fd(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=pn(),s=Da(e),a=Js(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Fa(e,a,s),t!==null&&(bs(t,e,s,n),fd(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=pn(),n=Da(e),s=Js(r,n);s.tag=2,t!=null&&(s.callback=t),t=Fa(e,s,n),t!==null&&(bs(t,e,n,r),fd(t,e,n))}};function yv(e,t,r,n,s,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,i):t.prototype&&t.prototype.isPureReactComponent?!hc(r,n)||!hc(s,a):!0}function ob(e,t,r){var n=!1,s=ja,a=t.contextType;return typeof a=="object"&&a!==null?a=ns(a):(s=Sn(t)?Ci:an.current,n=t.contextTypes,a=(n=n!=null)?Wo(e,s):ja),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Cf,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function _v(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Cf.enqueueReplaceState(t,t.state,null)}function dp(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Gm(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=ns(a):(a=Sn(t)?Ci:an.current,s.context=Wo(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(up(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Cf.enqueueReplaceState(s,s.state,null),Ud(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Jo(e,t){try{var r="",n=t;do r+=pA(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function Z0(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function fp(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var $N=typeof WeakMap=="function"?WeakMap:Map;function lb(e,t,r){r=Js(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Hd||(Hd=!0,kp=n),fp(e,t)},r}function cb(e,t,r){r=Js(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){fp(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){fp(e,t),typeof n!="function"&&(Ma===null?Ma=new Set([this]):Ma.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function wv(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new $N;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=tI.bind(null,e,t,r),t.then(e,e))}function kv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function bv(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Js(-1,1),t.tag=2,Fa(r,t,1))),r.lanes|=1),e)}var VN=aa.ReactCurrentOwner,kn=!1;function un(e,t,r,n){t.child=e===null?Uk(t,null,r,n):qo(t,e.child,r,n)}function Sv(e,t,r,n,s){r=r.render;var a=t.ref;return Do(t,s),n=Jm(e,t,r,n,a,s),r=Ym(),e!==null&&!kn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ra(e,t,s)):(tr&&r&&Om(t),t.flags|=1,un(e,t,n,s),t.child)}function Ev(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!ig(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,ub(e,t,a,n,s)):(e=vd(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var i=a.memoizedProps;if(r=r.compare,r=r!==null?r:hc,r(i,n)&&e.ref===t.ref)return ra(e,t,s)}return t.flags|=1,e=La(a,n),e.ref=t.ref,e.return=t,t.child=e}function ub(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(hc(a,n)&&e.ref===t.ref)if(kn=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(kn=!0);else return t.lanes=e.lanes,ra(e,t,s)}return hp(e,t,r,n,s)}function db(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},zt(To,Rn),Rn|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,zt(To,Rn),Rn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,zt(To,Rn),Rn|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,zt(To,Rn),Rn|=n;return un(e,t,s,r),t.child}function fb(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function hp(e,t,r,n,s){var a=Sn(r)?Ci:an.current;return a=Wo(t,a),Do(t,s),r=Jm(e,t,r,n,a,s),n=Ym(),e!==null&&!kn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ra(e,t,s)):(tr&&n&&Om(t),t.flags|=1,un(e,t,r,s),t.child)}function Tv(e,t,r,n,s){if(Sn(r)){var a=!0;Fd(t)}else a=!1;if(Do(t,s),t.stateNode===null)md(e,t),ob(t,r,n),dp(t,r,n,s),n=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,c=r.contextType;typeof c=="object"&&c!==null?c=ns(c):(c=Sn(r)?Ci:an.current,c=Wo(t,c));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==n||l!==c)&&_v(t,i,n,c),va=!1;var p=t.memoizedState;i.state=p,Ud(t,n,i,s),l=t.memoizedState,o!==n||p!==l||bn.current||va?(typeof u=="function"&&(up(t,r,u,n),l=t.memoizedState),(o=va||yv(t,r,o,n,p,l,c))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),i.props=n,i.state=l,i.context=c,n=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,jk(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:ps(t.type,o),i.props=c,h=t.pendingProps,p=i.context,l=r.contextType,typeof l=="object"&&l!==null?l=ns(l):(l=Sn(r)?Ci:an.current,l=Wo(t,l));var g=r.getDerivedStateFromProps;(u=typeof g=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==h||p!==l)&&_v(t,i,n,l),va=!1,p=t.memoizedState,i.state=p,Ud(t,n,i,s);var v=t.memoizedState;o!==h||p!==v||bn.current||va?(typeof g=="function"&&(up(t,r,g,n),v=t.memoizedState),(c=va||yv(t,r,c,n,p,v,l)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,v,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,v,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),i.props=n,i.state=v,i.context=l,n=c):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return pp(e,t,r,n,a,s)}function pp(e,t,r,n,s,a){fb(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return s&&dv(t,r,!1),ra(e,t,a);n=t.stateNode,VN.current=t;var o=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=qo(t,e.child,null,a),t.child=qo(t,null,o,a)):un(e,t,o,a),t.memoizedState=n.state,s&&dv(t,r,!0),t.child}function hb(e){var t=e.stateNode;t.pendingContext?uv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&uv(e,t.context,!1),Wm(e,t.containerInfo)}function Cv(e,t,r,n,s){return zo(),Bm(s),t.flags|=256,un(e,t,r,n),t.child}var mp={dehydrated:null,treeContext:null,retryLane:0};function gp(e){return{baseLanes:e,cachePool:null,transitions:null}}function pb(e,t,r){var n=t.pendingProps,s=rr.current,a=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),zt(rr,s&1),e===null)return lp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,a?(n=t.mode,a=t.child,i={mode:"hidden",children:i},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=If(i,n,0,null),e=_i(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=gp(r),t.memoizedState=mp,e):Zm(t,i));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return HN(e,t,i,n,o,s,r);if(a){a=n.fallback,i=t.mode,s=e.child,o=s.sibling;var l={mode:"hidden",children:n.children};return!(i&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=La(s,l),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?a=La(o,a):(a=_i(a,i,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,i=e.child.memoizedState,i=i===null?gp(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~r,t.memoizedState=mp,n}return a=e.child,e=a.sibling,n=La(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Zm(e,t){return t=If({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Fu(e,t,r,n){return n!==null&&Bm(n),qo(t,e.child,null,r),e=Zm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function HN(e,t,r,n,s,a,i){if(r)return t.flags&256?(t.flags&=-257,n=Z0(Error(Ne(422))),Fu(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=If({mode:"visible",children:n.children},s,0,null),a=_i(a,s,i,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&qo(t,e.child,null,i),t.child.memoizedState=gp(i),t.memoizedState=mp,a);if(!(t.mode&1))return Fu(e,t,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(Ne(419)),n=Z0(a,n,void 0),Fu(e,t,i,n)}if(o=(i&e.childLanes)!==0,kn||o){if(n=Lr,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,ta(e,s),bs(n,e,s,-1))}return ag(),n=Z0(Error(Ne(421))),Fu(e,t,i,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=rI.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,On=Pa(s.nextSibling),Un=t,tr=!0,ys=null,e!==null&&(Yn[Xn++]=zs,Yn[Xn++]=qs,Yn[Xn++]=Ai,zs=e.id,qs=e.overflow,Ai=t),t=Zm(t,n.children),t.flags|=4096,t)}function Av(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),cp(e.return,t,r)}function eh(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function mb(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(un(e,t,n.children,r),n=rr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Av(e,r,t);else if(e.tag===19)Av(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(zt(rr,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Bd(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),eh(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Bd(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}eh(t,!0,r,null,a);break;case"together":eh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function md(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ra(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ii|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ne(153));if(t.child!==null){for(e=t.child,r=La(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=La(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function GN(e,t,r){switch(t.tag){case 3:hb(t),zo();break;case 5:$k(t);break;case 1:Sn(t.type)&&Fd(t);break;case 4:Wm(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;zt(Ld,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(zt(rr,rr.current&1),t.flags|=128,null):r&t.child.childLanes?pb(e,t,r):(zt(rr,rr.current&1),e=ra(e,t,r),e!==null?e.sibling:null);zt(rr,rr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return mb(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),zt(rr,rr.current),n)break;return null;case 22:case 23:return t.lanes=0,db(e,t,r)}return ra(e,t,r)}var gb,xp,xb,vb;gb=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};xp=function(){};xb=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,gi(js.current);var a=null;switch(r){case"input":s=Bh(e,s),n=Bh(e,n),a=[];break;case"select":s=ir({},s,{value:void 0}),n=ir({},n,{value:void 0}),a=[];break;case"textarea":s=Vh(e,s),n=Vh(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Rd)}Gh(r,n);var i;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var o=s[c];for(i in o)o.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ic.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in n){var l=n[c];if(o=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(i in o)!o.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in l)l.hasOwnProperty(i)&&o[i]!==l[i]&&(r||(r={}),r[i]=l[i])}else r||(a||(a=[]),a.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ic.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Jt("scroll",e),a||o===l||(a=[])):(a=a||[]).push(c,l))}r&&(a=a||[]).push("style",r);var c=a;(t.updateQueue=c)&&(t.flags|=4)}};vb=function(e,t,r,n){r!==n&&(t.flags|=4)};function wl(e,t){if(!tr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Jr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function WN(e,t,r){var n=t.pendingProps;switch(Um(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jr(t),null;case 1:return Sn(t.type)&&Pd(),Jr(t),null;case 3:return n=t.stateNode,Ko(),Xt(bn),Xt(an),qm(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ru(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ys!==null&&(Ep(ys),ys=null))),xp(e,t),Jr(t),null;case 5:zm(t);var s=gi(vc.current);if(r=t.type,e!==null&&t.stateNode!=null)xb(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Ne(166));return Jr(t),null}if(e=gi(js.current),Ru(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Os]=t,n[gc]=a,e=(t.mode&1)!==0,r){case"dialog":Jt("cancel",n),Jt("close",n);break;case"iframe":case"object":case"embed":Jt("load",n);break;case"video":case"audio":for(s=0;s<Ml.length;s++)Jt(Ml[s],n);break;case"source":Jt("error",n);break;case"img":case"image":case"link":Jt("error",n),Jt("load",n);break;case"details":Jt("toggle",n);break;case"input":O1(n,a),Jt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Jt("invalid",n);break;case"textarea":B1(n,a),Jt("invalid",n)}Gh(r,a),s=null;for(var i in a)if(a.hasOwnProperty(i)){var o=a[i];i==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&Iu(n.textContent,o,e),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Iu(n.textContent,o,e),s=["children",""+o]):ic.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&Jt("scroll",n)}switch(r){case"input":ku(n),U1(n,a,!0);break;case"textarea":ku(n),j1(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Rd)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=z2(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Os]=t,e[gc]=n,gb(e,t,!1,!1),t.stateNode=e;e:{switch(i=Wh(r,n),r){case"dialog":Jt("cancel",e),Jt("close",e),s=n;break;case"iframe":case"object":case"embed":Jt("load",e),s=n;break;case"video":case"audio":for(s=0;s<Ml.length;s++)Jt(Ml[s],e);s=n;break;case"source":Jt("error",e),s=n;break;case"img":case"image":case"link":Jt("error",e),Jt("load",e),s=n;break;case"details":Jt("toggle",e),s=n;break;case"input":O1(e,n),s=Bh(e,n),Jt("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=ir({},n,{value:void 0}),Jt("invalid",e);break;case"textarea":B1(e,n),s=Vh(e,n),Jt("invalid",e);break;default:s=n}Gh(r,s),o=s;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?J2(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&q2(e,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&oc(e,l):typeof l=="number"&&oc(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ic.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Jt("scroll",e):l!=null&&bm(e,a,l,i))}switch(r){case"input":ku(e),U1(e,n,!1);break;case"textarea":ku(e),j1(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ba(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Ro(e,!!n.multiple,a,!1):n.defaultValue!=null&&Ro(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Rd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Jr(t),null;case 6:if(e&&t.stateNode!=null)vb(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Ne(166));if(r=gi(vc.current),gi(js.current),Ru(t)){if(n=t.stateNode,r=t.memoizedProps,n[Os]=t,(a=n.nodeValue!==r)&&(e=Un,e!==null))switch(e.tag){case 3:Iu(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Iu(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Os]=t,t.stateNode=n}return Jr(t),null;case 13:if(Xt(rr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(tr&&On!==null&&t.mode&1&&!(t.flags&128))Lk(),zo(),t.flags|=98560,a=!1;else if(a=Ru(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(Ne(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Ne(317));a[Os]=t}else zo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Jr(t),a=!1}else ys!==null&&(Ep(ys),ys=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||rr.current&1?Ar===0&&(Ar=3):ag())),t.updateQueue!==null&&(t.flags|=4),Jr(t),null);case 4:return Ko(),xp(e,t),e===null&&pc(t.stateNode.containerInfo),Jr(t),null;case 10:return Vm(t.type._context),Jr(t),null;case 17:return Sn(t.type)&&Pd(),Jr(t),null;case 19:if(Xt(rr),a=t.memoizedState,a===null)return Jr(t),null;if(n=(t.flags&128)!==0,i=a.rendering,i===null)if(n)wl(a,!1);else{if(Ar!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Bd(e),i!==null){for(t.flags|=128,wl(a,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return zt(rr,rr.current&1|2),t.child}e=e.sibling}a.tail!==null&&mr()>Yo&&(t.flags|=128,n=!0,wl(a,!1),t.lanes=4194304)}else{if(!n)if(e=Bd(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),wl(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!tr)return Jr(t),null}else 2*mr()-a.renderingStartTime>Yo&&r!==1073741824&&(t.flags|=128,n=!0,wl(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(r=a.last,r!==null?r.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=mr(),t.sibling=null,r=rr.current,zt(rr,n?r&1|2:r&1),t):(Jr(t),null);case 22:case 23:return sg(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Rn&1073741824&&(Jr(t),t.subtreeFlags&6&&(t.flags|=8192)):Jr(t),null;case 24:return null;case 25:return null}throw Error(Ne(156,t.tag))}function zN(e,t){switch(Um(t),t.tag){case 1:return Sn(t.type)&&Pd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ko(),Xt(bn),Xt(an),qm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return zm(t),null;case 13:if(Xt(rr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ne(340));zo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Xt(rr),null;case 4:return Ko(),null;case 10:return Vm(t.type._context),null;case 22:case 23:return sg(),null;case 24:return null;default:return null}}var Mu=!1,Zr=!1,qN=typeof WeakSet=="function"?WeakSet:Set,Je=null;function Eo(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){cr(e,t,n)}else r.current=null}function vp(e,t,r){try{r()}catch(n){cr(e,t,n)}}var Nv=!1;function KN(e,t){if(tp=Ad,e=bk(),Lm(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var i=0,o=-1,l=-1,c=0,u=0,h=e,p=null;t:for(;;){for(var g;h!==r||s!==0&&h.nodeType!==3||(o=i+s),h!==a||n!==0&&h.nodeType!==3||(l=i+n),h.nodeType===3&&(i+=h.nodeValue.length),(g=h.firstChild)!==null;)p=h,h=g;for(;;){if(h===e)break t;if(p===r&&++c===s&&(o=i),p===a&&++u===n&&(l=i),(g=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=g}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(rp={focusedElem:e,selectionRange:r},Ad=!1,Je=t;Je!==null;)if(t=Je,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Je=e;else for(;Je!==null;){t=Je;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,y=v.memoizedState,w=t.stateNode,k=w.getSnapshotBeforeUpdate(t.elementType===t.type?x:ps(t.type,x),y);w.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ne(163))}}catch(b){cr(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,Je=e;break}Je=t.return}return v=Nv,Nv=!1,v}function zl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&vp(t,r,a)}s=s.next}while(s!==n)}}function Af(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function yp(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function yb(e){var t=e.alternate;t!==null&&(e.alternate=null,yb(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Os],delete t[gc],delete t[ap],delete t[IN],delete t[RN])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function _b(e){return e.tag===5||e.tag===3||e.tag===4}function Iv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_b(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _p(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Rd));else if(n!==4&&(e=e.child,e!==null))for(_p(e,t,r),e=e.sibling;e!==null;)_p(e,t,r),e=e.sibling}function wp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(wp(e,t,r),e=e.sibling;e!==null;)wp(e,t,r),e=e.sibling}var Vr=null,xs=!1;function ma(e,t,r){for(r=r.child;r!==null;)wb(e,t,r),r=r.sibling}function wb(e,t,r){if(Bs&&typeof Bs.onCommitFiberUnmount=="function")try{Bs.onCommitFiberUnmount(_f,r)}catch{}switch(r.tag){case 5:Zr||Eo(r,t);case 6:var n=Vr,s=xs;Vr=null,ma(e,t,r),Vr=n,xs=s,Vr!==null&&(xs?(e=Vr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Vr.removeChild(r.stateNode));break;case 18:Vr!==null&&(xs?(e=Vr,r=r.stateNode,e.nodeType===8?q0(e.parentNode,r):e.nodeType===1&&q0(e,r),dc(e)):q0(Vr,r.stateNode));break;case 4:n=Vr,s=xs,Vr=r.stateNode.containerInfo,xs=!0,ma(e,t,r),Vr=n,xs=s;break;case 0:case 11:case 14:case 15:if(!Zr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&vp(r,t,i),s=s.next}while(s!==n)}ma(e,t,r);break;case 1:if(!Zr&&(Eo(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){cr(r,t,o)}ma(e,t,r);break;case 21:ma(e,t,r);break;case 22:r.mode&1?(Zr=(n=Zr)||r.memoizedState!==null,ma(e,t,r),Zr=n):ma(e,t,r);break;default:ma(e,t,r)}}function Rv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new qN),t.forEach(function(n){var s=nI.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function ds(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:Vr=o.stateNode,xs=!1;break e;case 3:Vr=o.stateNode.containerInfo,xs=!0;break e;case 4:Vr=o.stateNode.containerInfo,xs=!0;break e}o=o.return}if(Vr===null)throw Error(Ne(160));wb(a,i,s),Vr=null,xs=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){cr(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)kb(t,e),t=t.sibling}function kb(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ds(t,e),Ps(e),n&4){try{zl(3,e,e.return),Af(3,e)}catch(x){cr(e,e.return,x)}try{zl(5,e,e.return)}catch(x){cr(e,e.return,x)}}break;case 1:ds(t,e),Ps(e),n&512&&r!==null&&Eo(r,r.return);break;case 5:if(ds(t,e),Ps(e),n&512&&r!==null&&Eo(r,r.return),e.flags&32){var s=e.stateNode;try{oc(s,"")}catch(x){cr(e,e.return,x)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,i=r!==null?r.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&G2(s,a),Wh(o,i);var c=Wh(o,a);for(i=0;i<l.length;i+=2){var u=l[i],h=l[i+1];u==="style"?J2(s,h):u==="dangerouslySetInnerHTML"?q2(s,h):u==="children"?oc(s,h):bm(s,u,h,c)}switch(o){case"input":jh(s,a);break;case"textarea":W2(s,a);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var g=a.value;g!=null?Ro(s,!!a.multiple,g,!1):p!==!!a.multiple&&(a.defaultValue!=null?Ro(s,!!a.multiple,a.defaultValue,!0):Ro(s,!!a.multiple,a.multiple?[]:"",!1))}s[gc]=a}catch(x){cr(e,e.return,x)}}break;case 6:if(ds(t,e),Ps(e),n&4){if(e.stateNode===null)throw Error(Ne(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(x){cr(e,e.return,x)}}break;case 3:if(ds(t,e),Ps(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{dc(t.containerInfo)}catch(x){cr(e,e.return,x)}break;case 4:ds(t,e),Ps(e);break;case 13:ds(t,e),Ps(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(rg=mr())),n&4&&Rv(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Zr=(c=Zr)||u,ds(t,e),Zr=c):ds(t,e),Ps(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(Je=e,u=e.child;u!==null;){for(h=Je=u;Je!==null;){switch(p=Je,g=p.child,p.tag){case 0:case 11:case 14:case 15:zl(4,p,p.return);break;case 1:Eo(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(x){cr(n,r,x)}}break;case 5:Eo(p,p.return);break;case 22:if(p.memoizedState!==null){Fv(h);continue}}g!==null?(g.return=p,Je=g):Fv(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,c?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=h.stateNode,l=h.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=K2("display",i))}catch(x){cr(e,e.return,x)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(x){cr(e,e.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ds(t,e),Ps(e),n&4&&Rv(e);break;case 21:break;default:ds(t,e),Ps(e)}}function Ps(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(_b(r)){var n=r;break e}r=r.return}throw Error(Ne(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(oc(s,""),n.flags&=-33);var a=Iv(e);wp(e,a,s);break;case 3:case 4:var i=n.stateNode.containerInfo,o=Iv(e);_p(e,o,i);break;default:throw Error(Ne(161))}}catch(l){cr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function JN(e,t,r){Je=e,bb(e)}function bb(e,t,r){for(var n=(e.mode&1)!==0;Je!==null;){var s=Je,a=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||Mu;if(!i){var o=s.alternate,l=o!==null&&o.memoizedState!==null||Zr;o=Mu;var c=Zr;if(Mu=i,(Zr=l)&&!c)for(Je=s;Je!==null;)i=Je,l=i.child,i.tag===22&&i.memoizedState!==null?Mv(s):l!==null?(l.return=i,Je=l):Mv(s);for(;a!==null;)Je=a,bb(a),a=a.sibling;Je=s,Mu=o,Zr=c}Pv(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,Je=a):Pv(e)}}function Pv(e){for(;Je!==null;){var t=Je;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Zr||Af(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Zr)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:ps(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&gv(t,a,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}gv(t,i,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&dc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ne(163))}Zr||t.flags&512&&yp(t)}catch(p){cr(t,t.return,p)}}if(t===e){Je=null;break}if(r=t.sibling,r!==null){r.return=t.return,Je=r;break}Je=t.return}}function Fv(e){for(;Je!==null;){var t=Je;if(t===e){Je=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Je=r;break}Je=t.return}}function Mv(e){for(;Je!==null;){var t=Je;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Af(4,t)}catch(l){cr(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){cr(t,s,l)}}var a=t.return;try{yp(t)}catch(l){cr(t,a,l)}break;case 5:var i=t.return;try{yp(t)}catch(l){cr(t,i,l)}}}catch(l){cr(t,t.return,l)}if(t===e){Je=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Je=o;break}Je=t.return}}var YN=Math.ceil,Vd=aa.ReactCurrentDispatcher,eg=aa.ReactCurrentOwner,Zn=aa.ReactCurrentBatchConfig,Rt=0,Lr=null,br=null,Wr=0,Rn=0,To=qa(0),Ar=0,kc=null,Ii=0,Nf=0,tg=0,ql=null,wn=null,rg=0,Yo=1/0,Hs=null,Hd=!1,kp=null,Ma=null,Du=!1,Sa=null,Gd=0,Kl=0,bp=null,gd=-1,xd=0;function pn(){return Rt&6?mr():gd!==-1?gd:gd=mr()}function Da(e){return e.mode&1?Rt&2&&Wr!==0?Wr&-Wr:FN.transition!==null?(xd===0&&(xd=ok()),xd):(e=Vt,e!==0||(e=window.event,e=e===void 0?16:pk(e.type)),e):1}function bs(e,t,r,n){if(50<Kl)throw Kl=0,bp=null,Error(Ne(185));Qc(e,r,n),(!(Rt&2)||e!==Lr)&&(e===Lr&&(!(Rt&2)&&(Nf|=r),Ar===4&&wa(e,Wr)),En(e,n),r===1&&Rt===0&&!(t.mode&1)&&(Yo=mr()+500,Ef&&Ka()))}function En(e,t){var r=e.callbackNode;FA(e,t);var n=Cd(e,e===Lr?Wr:0);if(n===0)r!==null&&H1(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&H1(r),t===1)e.tag===0?PN(Dv.bind(null,e)):Fk(Dv.bind(null,e)),AN(function(){!(Rt&6)&&Ka()}),r=null;else{switch(lk(n)){case 1:r=Am;break;case 4:r=ak;break;case 16:r=Td;break;case 536870912:r=ik;break;default:r=Td}r=Rb(r,Sb.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Sb(e,t){if(gd=-1,xd=0,Rt&6)throw Error(Ne(327));var r=e.callbackNode;if(Lo()&&e.callbackNode!==r)return null;var n=Cd(e,e===Lr?Wr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Wd(e,n);else{t=n;var s=Rt;Rt|=2;var a=Tb();(Lr!==e||Wr!==t)&&(Hs=null,Yo=mr()+500,yi(e,t));do try{ZN();break}catch(o){Eb(e,o)}while(!0);$m(),Vd.current=a,Rt=s,br!==null?t=0:(Lr=null,Wr=0,t=Ar)}if(t!==0){if(t===2&&(s=Yh(e),s!==0&&(n=s,t=Sp(e,s))),t===1)throw r=kc,yi(e,0),wa(e,n),En(e,mr()),r;if(t===6)wa(e,n);else{if(s=e.current.alternate,!(n&30)&&!XN(s)&&(t=Wd(e,n),t===2&&(a=Yh(e),a!==0&&(n=a,t=Sp(e,a))),t===1))throw r=kc,yi(e,0),wa(e,n),En(e,mr()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(Ne(345));case 2:oi(e,wn,Hs);break;case 3:if(wa(e,n),(n&130023424)===n&&(t=rg+500-mr(),10<t)){if(Cd(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){pn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=sp(oi.bind(null,e,wn,Hs),t);break}oi(e,wn,Hs);break;case 4:if(wa(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-ks(n);a=1<<i,i=t[i],i>s&&(s=i),n&=~a}if(n=s,n=mr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*YN(n/1960))-n,10<n){e.timeoutHandle=sp(oi.bind(null,e,wn,Hs),n);break}oi(e,wn,Hs);break;case 5:oi(e,wn,Hs);break;default:throw Error(Ne(329))}}}return En(e,mr()),e.callbackNode===r?Sb.bind(null,e):null}function Sp(e,t){var r=ql;return e.current.memoizedState.isDehydrated&&(yi(e,t).flags|=256),e=Wd(e,t),e!==2&&(t=wn,wn=r,t!==null&&Ep(t)),e}function Ep(e){wn===null?wn=e:wn.push.apply(wn,e)}function XN(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!Ns(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function wa(e,t){for(t&=~tg,t&=~Nf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ks(t),n=1<<r;e[r]=-1,t&=~n}}function Dv(e){if(Rt&6)throw Error(Ne(327));Lo();var t=Cd(e,0);if(!(t&1))return En(e,mr()),null;var r=Wd(e,t);if(e.tag!==0&&r===2){var n=Yh(e);n!==0&&(t=n,r=Sp(e,n))}if(r===1)throw r=kc,yi(e,0),wa(e,t),En(e,mr()),r;if(r===6)throw Error(Ne(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,oi(e,wn,Hs),En(e,mr()),null}function ng(e,t){var r=Rt;Rt|=1;try{return e(t)}finally{Rt=r,Rt===0&&(Yo=mr()+500,Ef&&Ka())}}function Ri(e){Sa!==null&&Sa.tag===0&&!(Rt&6)&&Lo();var t=Rt;Rt|=1;var r=Zn.transition,n=Vt;try{if(Zn.transition=null,Vt=1,e)return e()}finally{Vt=n,Zn.transition=r,Rt=t,!(Rt&6)&&Ka()}}function sg(){Rn=To.current,Xt(To)}function yi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,CN(r)),br!==null)for(r=br.return;r!==null;){var n=r;switch(Um(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Pd();break;case 3:Ko(),Xt(bn),Xt(an),qm();break;case 5:zm(n);break;case 4:Ko();break;case 13:Xt(rr);break;case 19:Xt(rr);break;case 10:Vm(n.type._context);break;case 22:case 23:sg()}r=r.return}if(Lr=e,br=e=La(e.current,null),Wr=Rn=t,Ar=0,kc=null,tg=Nf=Ii=0,wn=ql=null,mi!==null){for(t=0;t<mi.length;t++)if(r=mi[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var i=a.next;a.next=s,n.next=i}r.pending=n}mi=null}return e}function Eb(e,t){do{var r=br;try{if($m(),hd.current=$d,jd){for(var n=ar.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}jd=!1}if(Ni=0,Fr=Tr=ar=null,Wl=!1,yc=0,eg.current=null,r===null||r.return===null){Ar=1,kc=t,br=null;break}e:{var a=e,i=r.return,o=r,l=t;if(t=Wr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=kv(i);if(g!==null){g.flags&=-257,bv(g,i,o,a,t),g.mode&1&&wv(a,c,t),t=g,l=c;var v=t.updateQueue;if(v===null){var x=new Set;x.add(l),t.updateQueue=x}else v.add(l);break e}else{if(!(t&1)){wv(a,c,t),ag();break e}l=Error(Ne(426))}}else if(tr&&o.mode&1){var y=kv(i);if(y!==null){!(y.flags&65536)&&(y.flags|=256),bv(y,i,o,a,t),Bm(Jo(l,o));break e}}a=l=Jo(l,o),Ar!==4&&(Ar=2),ql===null?ql=[a]:ql.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var w=lb(a,l,t);mv(a,w);break e;case 1:o=l;var k=a.type,_=a.stateNode;if(!(a.flags&128)&&(typeof k.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ma===null||!Ma.has(_)))){a.flags|=65536,t&=-t,a.lanes|=t;var b=cb(a,o,t);mv(a,b);break e}}a=a.return}while(a!==null)}Ab(r)}catch(T){t=T,br===r&&r!==null&&(br=r=r.return);continue}break}while(!0)}function Tb(){var e=Vd.current;return Vd.current=$d,e===null?$d:e}function ag(){(Ar===0||Ar===3||Ar===2)&&(Ar=4),Lr===null||!(Ii&268435455)&&!(Nf&268435455)||wa(Lr,Wr)}function Wd(e,t){var r=Rt;Rt|=2;var n=Tb();(Lr!==e||Wr!==t)&&(Hs=null,yi(e,t));do try{QN();break}catch(s){Eb(e,s)}while(!0);if($m(),Rt=r,Vd.current=n,br!==null)throw Error(Ne(261));return Lr=null,Wr=0,Ar}function QN(){for(;br!==null;)Cb(br)}function ZN(){for(;br!==null&&!SA();)Cb(br)}function Cb(e){var t=Ib(e.alternate,e,Rn);e.memoizedProps=e.pendingProps,t===null?Ab(e):br=t,eg.current=null}function Ab(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=zN(r,t),r!==null){r.flags&=32767,br=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ar=6,br=null;return}}else if(r=WN(r,t,Rn),r!==null){br=r;return}if(t=t.sibling,t!==null){br=t;return}br=t=e}while(t!==null);Ar===0&&(Ar=5)}function oi(e,t,r){var n=Vt,s=Zn.transition;try{Zn.transition=null,Vt=1,eI(e,t,r,n)}finally{Zn.transition=s,Vt=n}return null}function eI(e,t,r,n){do Lo();while(Sa!==null);if(Rt&6)throw Error(Ne(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Ne(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(MA(e,a),e===Lr&&(br=Lr=null,Wr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Du||(Du=!0,Rb(Td,function(){return Lo(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Zn.transition,Zn.transition=null;var i=Vt;Vt=1;var o=Rt;Rt|=4,eg.current=null,KN(e,r),kb(r,e),_N(rp),Ad=!!tp,rp=tp=null,e.current=r,JN(r),EA(),Rt=o,Vt=i,Zn.transition=a}else e.current=r;if(Du&&(Du=!1,Sa=e,Gd=s),a=e.pendingLanes,a===0&&(Ma=null),AA(r.stateNode),En(e,mr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Hd)throw Hd=!1,e=kp,kp=null,e;return Gd&1&&e.tag!==0&&Lo(),a=e.pendingLanes,a&1?e===bp?Kl++:(Kl=0,bp=e):Kl=0,Ka(),null}function Lo(){if(Sa!==null){var e=lk(Gd),t=Zn.transition,r=Vt;try{if(Zn.transition=null,Vt=16>e?16:e,Sa===null)var n=!1;else{if(e=Sa,Sa=null,Gd=0,Rt&6)throw Error(Ne(331));var s=Rt;for(Rt|=4,Je=e.current;Je!==null;){var a=Je,i=a.child;if(Je.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Je=c;Je!==null;){var u=Je;switch(u.tag){case 0:case 11:case 15:zl(8,u,a)}var h=u.child;if(h!==null)h.return=u,Je=h;else for(;Je!==null;){u=Je;var p=u.sibling,g=u.return;if(yb(u),u===c){Je=null;break}if(p!==null){p.return=g,Je=p;break}Je=g}}}var v=a.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var y=x.sibling;x.sibling=null,x=y}while(x!==null)}}Je=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,Je=i;else e:for(;Je!==null;){if(a=Je,a.flags&2048)switch(a.tag){case 0:case 11:case 15:zl(9,a,a.return)}var w=a.sibling;if(w!==null){w.return=a.return,Je=w;break e}Je=a.return}}var k=e.current;for(Je=k;Je!==null;){i=Je;var _=i.child;if(i.subtreeFlags&2064&&_!==null)_.return=i,Je=_;else e:for(i=k;Je!==null;){if(o=Je,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Af(9,o)}}catch(T){cr(o,o.return,T)}if(o===i){Je=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,Je=b;break e}Je=o.return}}if(Rt=s,Ka(),Bs&&typeof Bs.onPostCommitFiberRoot=="function")try{Bs.onPostCommitFiberRoot(_f,e)}catch{}n=!0}return n}finally{Vt=r,Zn.transition=t}}return!1}function Lv(e,t,r){t=Jo(r,t),t=lb(e,t,1),e=Fa(e,t,1),t=pn(),e!==null&&(Qc(e,1,t),En(e,t))}function cr(e,t,r){if(e.tag===3)Lv(e,e,r);else for(;t!==null;){if(t.tag===3){Lv(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ma===null||!Ma.has(n))){e=Jo(r,e),e=cb(t,e,1),t=Fa(t,e,1),e=pn(),t!==null&&(Qc(t,1,e),En(t,e));break}}t=t.return}}function tI(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=pn(),e.pingedLanes|=e.suspendedLanes&r,Lr===e&&(Wr&r)===r&&(Ar===4||Ar===3&&(Wr&130023424)===Wr&&500>mr()-rg?yi(e,0):tg|=r),En(e,t)}function Nb(e,t){t===0&&(e.mode&1?(t=Eu,Eu<<=1,!(Eu&130023424)&&(Eu=4194304)):t=1);var r=pn();e=ta(e,t),e!==null&&(Qc(e,t,r),En(e,r))}function rI(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Nb(e,r)}function nI(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Ne(314))}n!==null&&n.delete(t),Nb(e,r)}var Ib;Ib=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||bn.current)kn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return kn=!1,GN(e,t,r);kn=!!(e.flags&131072)}else kn=!1,tr&&t.flags&1048576&&Mk(t,Dd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;md(e,t),e=t.pendingProps;var s=Wo(t,an.current);Do(t,r),s=Jm(null,t,n,e,s,r);var a=Ym();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Sn(n)?(a=!0,Fd(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Gm(t),s.updater=Cf,t.stateNode=s,s._reactInternals=t,dp(t,n,e,r),t=pp(null,t,n,!0,a,r)):(t.tag=0,tr&&a&&Om(t),un(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(md(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=aI(n),e=ps(n,e),s){case 0:t=hp(null,t,n,e,r);break e;case 1:t=Tv(null,t,n,e,r);break e;case 11:t=Sv(null,t,n,e,r);break e;case 14:t=Ev(null,t,n,ps(n.type,e),r);break e}throw Error(Ne(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ps(n,s),hp(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ps(n,s),Tv(e,t,n,s,r);case 3:e:{if(hb(t),e===null)throw Error(Ne(387));n=t.pendingProps,a=t.memoizedState,s=a.element,jk(e,t),Ud(t,n,null,r);var i=t.memoizedState;if(n=i.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Jo(Error(Ne(423)),t),t=Cv(e,t,n,r,s);break e}else if(n!==s){s=Jo(Error(Ne(424)),t),t=Cv(e,t,n,r,s);break e}else for(On=Pa(t.stateNode.containerInfo.firstChild),Un=t,tr=!0,ys=null,r=Uk(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(zo(),n===s){t=ra(e,t,r);break e}un(e,t,n,r)}t=t.child}return t;case 5:return $k(t),e===null&&lp(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,np(n,s)?i=null:a!==null&&np(n,a)&&(t.flags|=32),fb(e,t),un(e,t,i,r),t.child;case 6:return e===null&&lp(t),null;case 13:return pb(e,t,r);case 4:return Wm(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=qo(t,null,n,r):un(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ps(n,s),Sv(e,t,n,s,r);case 7:return un(e,t,t.pendingProps,r),t.child;case 8:return un(e,t,t.pendingProps.children,r),t.child;case 12:return un(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,i=s.value,zt(Ld,n._currentValue),n._currentValue=i,a!==null)if(Ns(a.value,i)){if(a.children===s.children&&!bn.current){t=ra(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){i=a.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=Js(-1,r&-r),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),cp(a.return,r,t),o.lanes|=r;break}l=l.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(Ne(341));i.lanes|=r,o=i.alternate,o!==null&&(o.lanes|=r),cp(i,r,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}un(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Do(t,r),s=ns(s),n=n(s),t.flags|=1,un(e,t,n,r),t.child;case 14:return n=t.type,s=ps(n,t.pendingProps),s=ps(n.type,s),Ev(e,t,n,s,r);case 15:return ub(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ps(n,s),md(e,t),t.tag=1,Sn(n)?(e=!0,Fd(t)):e=!1,Do(t,r),ob(t,n,s),dp(t,n,s,r),pp(null,t,n,!0,e,r);case 19:return mb(e,t,r);case 22:return db(e,t,r)}throw Error(Ne(156,t.tag))};function Rb(e,t){return sk(e,t)}function sI(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(e,t,r,n){return new sI(e,t,r,n)}function ig(e){return e=e.prototype,!(!e||!e.isReactComponent)}function aI(e){if(typeof e=="function")return ig(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Em)return 11;if(e===Tm)return 14}return 2}function La(e,t){var r=e.alternate;return r===null?(r=Qn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function vd(e,t,r,n,s,a){var i=2;if(n=e,typeof e=="function")ig(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case go:return _i(r.children,s,a,t);case Sm:i=8,s|=8;break;case Dh:return e=Qn(12,r,t,s|2),e.elementType=Dh,e.lanes=a,e;case Lh:return e=Qn(13,r,t,s),e.elementType=Lh,e.lanes=a,e;case Oh:return e=Qn(19,r,t,s),e.elementType=Oh,e.lanes=a,e;case $2:return If(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case B2:i=10;break e;case j2:i=9;break e;case Em:i=11;break e;case Tm:i=14;break e;case xa:i=16,n=null;break e}throw Error(Ne(130,e==null?e:typeof e,""))}return t=Qn(i,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function _i(e,t,r,n){return e=Qn(7,e,n,t),e.lanes=r,e}function If(e,t,r,n){return e=Qn(22,e,n,t),e.elementType=$2,e.lanes=r,e.stateNode={isHidden:!1},e}function th(e,t,r){return e=Qn(6,e,null,t),e.lanes=r,e}function rh(e,t,r){return t=Qn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function iI(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=L0(0),this.expirationTimes=L0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=L0(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function og(e,t,r,n,s,a,i,o,l){return e=new iI(e,t,r,o,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Qn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gm(a),e}function oI(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mo,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Pb(e){if(!e)return ja;e=e._reactInternals;e:{if(ji(e)!==e||e.tag!==1)throw Error(Ne(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Sn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ne(171))}if(e.tag===1){var r=e.type;if(Sn(r))return Pk(e,r,t)}return t}function Fb(e,t,r,n,s,a,i,o,l){return e=og(r,n,!0,e,s,a,i,o,l),e.context=Pb(null),r=e.current,n=pn(),s=Da(r),a=Js(n,s),a.callback=t??null,Fa(r,a,s),e.current.lanes=s,Qc(e,s,n),En(e,n),e}function Rf(e,t,r,n){var s=t.current,a=pn(),i=Da(s);return r=Pb(r),t.context===null?t.context=r:t.pendingContext=r,t=Js(a,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Fa(s,t,i),e!==null&&(bs(e,s,i,a),fd(e,s,i)),i}function zd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ov(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function lg(e,t){Ov(e,t),(e=e.alternate)&&Ov(e,t)}function lI(){return null}var Mb=typeof reportError=="function"?reportError:function(e){console.error(e)};function cg(e){this._internalRoot=e}Pf.prototype.render=cg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ne(409));Rf(e,t,null,null)};Pf.prototype.unmount=cg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ri(function(){Rf(null,e,null,null)}),t[ea]=null}};function Pf(e){this._internalRoot=e}Pf.prototype.unstable_scheduleHydration=function(e){if(e){var t=dk();e={blockedOn:null,target:e,priority:t};for(var r=0;r<_a.length&&t!==0&&t<_a[r].priority;r++);_a.splice(r,0,e),r===0&&hk(e)}};function ug(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ff(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Uv(){}function cI(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var c=zd(i);a.call(c)}}var i=Fb(t,n,e,0,null,!1,!1,"",Uv);return e._reactRootContainer=i,e[ea]=i.current,pc(e.nodeType===8?e.parentNode:e),Ri(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var c=zd(l);o.call(c)}}var l=og(e,0,!1,null,null,!1,!1,"",Uv);return e._reactRootContainer=l,e[ea]=l.current,pc(e.nodeType===8?e.parentNode:e),Ri(function(){Rf(t,l,r,n)}),l}function Mf(e,t,r,n,s){var a=r._reactRootContainer;if(a){var i=a;if(typeof s=="function"){var o=s;s=function(){var l=zd(i);o.call(l)}}Rf(t,i,e,s)}else i=cI(r,t,e,s,n);return zd(i)}ck=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Fl(t.pendingLanes);r!==0&&(Nm(t,r|1),En(t,mr()),!(Rt&6)&&(Yo=mr()+500,Ka()))}break;case 13:Ri(function(){var n=ta(e,1);if(n!==null){var s=pn();bs(n,e,1,s)}}),lg(e,1)}};Im=function(e){if(e.tag===13){var t=ta(e,134217728);if(t!==null){var r=pn();bs(t,e,134217728,r)}lg(e,134217728)}};uk=function(e){if(e.tag===13){var t=Da(e),r=ta(e,t);if(r!==null){var n=pn();bs(r,e,t,n)}lg(e,t)}};dk=function(){return Vt};fk=function(e,t){var r=Vt;try{return Vt=e,t()}finally{Vt=r}};qh=function(e,t,r){switch(t){case"input":if(jh(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Sf(n);if(!s)throw Error(Ne(90));H2(n),jh(n,s)}}}break;case"textarea":W2(e,r);break;case"select":t=r.value,t!=null&&Ro(e,!!r.multiple,t,!1)}};Q2=ng;Z2=Ri;var uI={usingClientEntryPoint:!1,Events:[eu,_o,Sf,Y2,X2,ng]},kl={findFiberByHostInstance:pi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dI={bundleType:kl.bundleType,version:kl.version,rendererPackageName:kl.rendererPackageName,rendererConfig:kl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:aa.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=rk(e),e===null?null:e.stateNode},findFiberByHostInstance:kl.findFiberByHostInstance||lI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lu.isDisabled&&Lu.supportsFiber)try{_f=Lu.inject(dI),Bs=Lu}catch{}}$n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uI;$n.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ug(t))throw Error(Ne(200));return oI(e,t,null,r)};$n.createRoot=function(e,t){if(!ug(e))throw Error(Ne(299));var r=!1,n="",s=Mb;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=og(e,1,!1,null,null,r,!1,n,s),e[ea]=t.current,pc(e.nodeType===8?e.parentNode:e),new cg(t)};$n.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ne(188)):(e=Object.keys(e).join(","),Error(Ne(268,e)));return e=rk(t),e=e===null?null:e.stateNode,e};$n.flushSync=function(e){return Ri(e)};$n.hydrate=function(e,t,r){if(!Ff(t))throw Error(Ne(200));return Mf(null,e,t,!0,r)};$n.hydrateRoot=function(e,t,r){if(!ug(e))throw Error(Ne(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",i=Mb;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=Fb(t,null,e,1,r??null,s,!1,a,i),e[ea]=t.current,pc(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Pf(t)};$n.render=function(e,t,r){if(!Ff(t))throw Error(Ne(200));return Mf(null,e,t,!1,r)};$n.unmountComponentAtNode=function(e){if(!Ff(e))throw Error(Ne(40));return e._reactRootContainer?(Ri(function(){Mf(null,null,e,!1,function(){e._reactRootContainer=null,e[ea]=null})}),!0):!1};$n.unstable_batchedUpdates=ng;$n.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ff(r))throw Error(Ne(200));if(e==null||e._reactInternals===void 0)throw Error(Ne(38));return Mf(e,t,r,!1,n)};$n.version="18.3.1-next-f1338f8080-20240426";function Db(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Db)}catch(e){console.error(e)}}Db(),D2.exports=$n;var Lb=D2.exports,Ob,Bv=Lb;Ob=Bv.createRoot,Bv.hydrateRoot;const fI="modulepreload",hI=function(e){return"/newray/"+e},jv={},_t=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=hI(l),l in jv)return;jv[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":fI,c||(h.as="script"),h.crossOrigin="",h.href=l,o&&h.setAttribute("nonce",o),document.head.appendChild(h),c)return new Promise((p,g)=>{h.addEventListener("load",p),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return s.then(i=>{for(const o of i||[])o.status==="rejected"&&a(o.reason);return t().catch(a)})};/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bc(){return bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bc.apply(this,arguments)}var Ea;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ea||(Ea={}));const $v="popstate";function pI(e){e===void 0&&(e={});function t(s,a){let{pathname:i="/",search:o="",hash:l=""}=$i(s.location.hash.substr(1));return!i.startsWith("/")&&!i.startsWith(".")&&(i="/"+i),Tp("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(s,a){let i=s.document.querySelector("base"),o="";if(i&&i.getAttribute("href")){let l=s.location.href,c=l.indexOf("#");o=c===-1?l:l.slice(0,c)}return o+"#"+(typeof a=="string"?a:Ub(a))}function n(s,a){Df(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return gI(t,r,n,e)}function Sr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Df(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function mI(){return Math.random().toString(36).substr(2,8)}function Vv(e,t){return{usr:e.state,key:e.key,idx:t}}function Tp(e,t,r,n){return r===void 0&&(r=null),bc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?$i(t):t,{state:r,key:t&&t.key||n||mI()})}function Ub(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function $i(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function gI(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,i=s.history,o=Ea.Pop,l=null,c=u();c==null&&(c=0,i.replaceState(bc({},i.state,{idx:c}),""));function u(){return(i.state||{idx:null}).idx}function h(){o=Ea.Pop;let y=u(),w=y==null?null:y-c;c=y,l&&l({action:o,location:x.location,delta:w})}function p(y,w){o=Ea.Push;let k=Tp(x.location,y,w);r&&r(k,y),c=u()+1;let _=Vv(k,c),b=x.createHref(k);try{i.pushState(_,"",b)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;s.location.assign(b)}a&&l&&l({action:o,location:x.location,delta:1})}function g(y,w){o=Ea.Replace;let k=Tp(x.location,y,w);r&&r(k,y),c=u();let _=Vv(k,c),b=x.createHref(k);i.replaceState(_,"",b),a&&l&&l({action:o,location:x.location,delta:0})}function v(y){let w=s.location.origin!=="null"?s.location.origin:s.location.href,k=typeof y=="string"?y:Ub(y);return k=k.replace(/ $/,"%20"),Sr(w,"No window.location.(origin|href) available to create URL for href: "+k),new URL(k,w)}let x={get action(){return o},get location(){return e(s,i)},listen(y){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener($v,h),l=y,()=>{s.removeEventListener($v,h),l=null}},createHref(y){return t(s,y)},createURL:v,encodeLocation(y){let w=v(y);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:g,go(y){return i.go(y)}};return x}var Hv;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Hv||(Hv={}));function xI(e,t,r){return r===void 0&&(r="/"),vI(e,t,r)}function vI(e,t,r,n){let s=typeof t=="string"?$i(t):t,a=$b(s.pathname||"/",r);if(a==null)return null;let i=Bb(e);yI(i);let o=null;for(let l=0;o==null&&l<i.length;++l){let c=RI(a);o=AI(i[l],c)}return o}function Bb(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,i,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};l.relativePath.startsWith("/")&&(Sr(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=wi([n,l.relativePath]),u=r.concat(l);a.children&&a.children.length>0&&(Sr(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Bb(a.children,t,u,c)),!(a.path==null&&!a.index)&&t.push({path:c,score:TI(c,a.index),routesMeta:u})};return e.forEach((a,i)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))s(a,i);else for(let l of jb(a.path))s(a,i,l)}),t}function jb(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let i=jb(n.join("/")),o=[];return o.push(...i.map(l=>l===""?a:[a,l].join("/"))),s&&o.push(...i),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function yI(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:CI(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const _I=/^:[\w-]+$/,wI=3,kI=2,bI=1,SI=10,EI=-2,Gv=e=>e==="*";function TI(e,t){let r=e.split("/"),n=r.length;return r.some(Gv)&&(n+=EI),t&&(n+=kI),r.filter(s=>!Gv(s)).reduce((s,a)=>s+(_I.test(a)?wI:a===""?bI:SI),n)}function CI(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function AI(e,t,r){let{routesMeta:n}=e,s={},a="/",i=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,u=a==="/"?t:t.slice(a.length)||"/",h=NI({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),p=l.route;if(!h)return null;Object.assign(s,h.params),i.push({params:s,pathname:wi([a,h.pathname]),pathnameBase:LI(wi([a,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(a=wi([a,h.pathnameBase]))}return i}function NI(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=II(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],i=a.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((c,u,h)=>{let{paramName:p,isOptional:g}=u;if(p==="*"){let x=o[h]||"";i=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const v=o[h];return g&&!v?c[p]=void 0:c[p]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:i,pattern:e}}function II(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Df(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function RI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Df(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function $b(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const PI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,FI=e=>PI.test(e);function MI(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?$i(e):e,a;if(r)if(FI(r))a=r;else{if(r.includes("//")){let i=r;r=r.replace(/\/\/+/g,"/"),Df(!1,"Pathnames cannot have embedded double slashes - normalizing "+(i+" -> "+r))}r.startsWith("/")?a=Wv(r.substring(1),"/"):a=Wv(r,t)}else a=t;return{pathname:a,search:OI(n),hash:UI(s)}}function Wv(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function nh(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function DI(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Vb(e,t){let r=DI(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Hb(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=$i(e):(s=bc({},e),Sr(!s.pathname||!s.pathname.includes("?"),nh("?","pathname","search",s)),Sr(!s.pathname||!s.pathname.includes("#"),nh("#","pathname","hash",s)),Sr(!s.search||!s.search.includes("#"),nh("#","search","hash",s)));let a=e===""||s.pathname==="",i=a?"/":s.pathname,o;if(i==null)o=r;else{let h=t.length-1;if(!n&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}o=h>=0?t[h]:"/"}let l=MI(s,o),c=i&&i!=="/"&&i.endsWith("/"),u=(a||i===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const wi=e=>e.join("/").replace(/\/\/+/g,"/"),LI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),OI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,UI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function BI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Gb=["post","put","patch","delete"];new Set(Gb);const jI=["get",...Gb];new Set(jI);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sc(){return Sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sc.apply(this,arguments)}const dg=V.createContext(null),$I=V.createContext(null),ru=V.createContext(null),Lf=V.createContext(null),Ja=V.createContext({outlet:null,matches:[],isDataRoute:!1}),Wb=V.createContext(null);function nu(){return V.useContext(Lf)!=null}function Of(){return nu()||Sr(!1),V.useContext(Lf).location}function zb(e){V.useContext(ru).static||V.useLayoutEffect(e)}function fg(){let{isDataRoute:e}=V.useContext(Ja);return e?t4():VI()}function VI(){nu()||Sr(!1);let e=V.useContext(dg),{basename:t,future:r,navigator:n}=V.useContext(ru),{matches:s}=V.useContext(Ja),{pathname:a}=Of(),i=JSON.stringify(Vb(s,r.v7_relativeSplatPath)),o=V.useRef(!1);return zb(()=>{o.current=!0}),V.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let h=Hb(c,JSON.parse(i),a,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:wi([t,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[t,n,i,a,e])}function HI(){let{matches:e}=V.useContext(Ja),t=e[e.length-1];return t?t.params:{}}function GI(e,t){return WI(e,t)}function WI(e,t,r,n){nu()||Sr(!1);let{navigator:s}=V.useContext(ru),{matches:a}=V.useContext(Ja),i=a[a.length-1],o=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let c=Of(),u;if(t){var h;let y=typeof t=="string"?$i(t):t;l==="/"||(h=y.pathname)!=null&&h.startsWith(l)||Sr(!1),u=y}else u=c;let p=u.pathname||"/",g=p;if(l!=="/"){let y=l.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let v=xI(e,{pathname:g}),x=YI(v&&v.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:wi([l,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:wi([l,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,r,n);return t&&x?V.createElement(Lf.Provider,{value:{location:Sc({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ea.Pop}},x):x}function zI(){let e=e4(),t=BI(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},t),r?V.createElement("pre",{style:s},r):null,null)}const qI=V.createElement(zI,null);class KI extends V.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?V.createElement(Ja.Provider,{value:this.props.routeContext},V.createElement(Wb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function JI(e){let{routeContext:t,match:r,children:n}=e,s=V.useContext(dg);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),V.createElement(Ja.Provider,{value:t},n)}function YI(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,o=(s=r)==null?void 0:s.errors;if(o!=null){let u=i.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);u>=0||Sr(!1),i=i.slice(0,Math.min(i.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<i.length;u++){let h=i[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:p,errors:g}=r,v=h.route.loader&&p[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||v){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((u,h,p)=>{let g,v=!1,x=null,y=null;r&&(g=o&&h.route.id?o[h.route.id]:void 0,x=h.route.errorElement||qI,l&&(c<0&&p===0?(r4("route-fallback"),v=!0,y=null):c===p&&(v=!0,y=h.route.hydrateFallbackElement||null)));let w=t.concat(i.slice(0,p+1)),k=()=>{let _;return g?_=x:v?_=y:h.route.Component?_=V.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=u,V.createElement(JI,{match:h,routeContext:{outlet:u,matches:w,isDataRoute:r!=null},children:_})};return r&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?V.createElement(KI,{location:r.location,revalidation:r.revalidation,component:x,error:g,children:k(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):k()},null)}var qb=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(qb||{}),Kb=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Kb||{});function XI(e){let t=V.useContext(dg);return t||Sr(!1),t}function QI(e){let t=V.useContext($I);return t||Sr(!1),t}function ZI(e){let t=V.useContext(Ja);return t||Sr(!1),t}function Jb(e){let t=ZI(),r=t.matches[t.matches.length-1];return r.route.id||Sr(!1),r.route.id}function e4(){var e;let t=V.useContext(Wb),r=QI(),n=Jb();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function t4(){let{router:e}=XI(qb.UseNavigateStable),t=Jb(Kb.UseNavigateStable),r=V.useRef(!1);return zb(()=>{r.current=!0}),V.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Sc({fromRouteId:t},a)))},[e,t])}const zv={};function r4(e,t,r){zv[e]||(zv[e]=!0)}function n4(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function xt(e){let{to:t,replace:r,state:n,relative:s}=e;nu()||Sr(!1);let{future:a,static:i}=V.useContext(ru),{matches:o}=V.useContext(Ja),{pathname:l}=Of(),c=fg(),u=Hb(t,Vb(o,a.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(u);return V.useEffect(()=>c(JSON.parse(h),{replace:r,state:n,relative:s}),[c,h,s,r,n]),null}function pt(e){Sr(!1)}function s4(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Ea.Pop,navigator:a,static:i=!1,future:o}=e;nu()&&Sr(!1);let l=t.replace(/^\/*/,"/"),c=V.useMemo(()=>({basename:l,navigator:a,static:i,future:Sc({v7_relativeSplatPath:!1},o)}),[l,o,a,i]);typeof n=="string"&&(n=$i(n));let{pathname:u="/",search:h="",hash:p="",state:g=null,key:v="default"}=n,x=V.useMemo(()=>{let y=$b(u,l);return y==null?null:{location:{pathname:y,search:h,hash:p,state:g,key:v},navigationType:s}},[l,u,h,p,g,v,s]);return x==null?null:V.createElement(ru.Provider,{value:c},V.createElement(Lf.Provider,{children:r,value:x}))}function a4(e){let{children:t,location:r}=e;return GI(Cp(t),r)}new Promise(()=>{});function Cp(e,t){t===void 0&&(t=[]);let r=[];return V.Children.forEach(e,(n,s)=>{if(!V.isValidElement(n))return;let a=[...t,s];if(n.type===V.Fragment){r.push.apply(r,Cp(n.props.children,a));return}n.type!==pt&&Sr(!1),!n.props.index||!n.props.children||Sr(!1);let i={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=Cp(n.props.children,a)),r.push(i)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const i4="6";try{window.__reactRouterVersion=i4}catch{}const o4="startTransition",qv=tA[o4];function l4(e){let{basename:t,children:r,future:n,window:s}=e,a=V.useRef();a.current==null&&(a.current=pI({window:s,v5Compat:!0}));let i=a.current,[o,l]=V.useState({action:i.action,location:i.location}),{v7_startTransition:c}=n||{},u=V.useCallback(h=>{c&&qv?qv(()=>l(h)):l(h)},[l,c]);return V.useLayoutEffect(()=>i.listen(u),[i,u]),V.useEffect(()=>n4(n),[n]),V.createElement(s4,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:i,future:n})}var Kv;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Kv||(Kv={}));var Jv;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Jv||(Jv={}));/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var c4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),oe=(e,t)=>{const r=V.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:i,className:o="",children:l,...c},u)=>V.createElement("svg",{ref:u,...c4,width:s,height:s,stroke:n,strokeWidth:i?Number(a)*24/Number(s):a,className:["lucide",`lucide-${u4(e)}`,o].join(" "),...c},[...t.map(([h,p])=>V.createElement(h,p)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=oe("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=oe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=oe("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=oe("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=oe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=oe("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=oe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=oe("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=oe("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jf=oe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=oe("BatteryCharging",[["path",{d:"M15 7h1a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2h-2",key:"1sdynx"}],["path",{d:"M6 7H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h1",key:"1gkd3k"}],["path",{d:"m11 7-3 5h4l-3 5",key:"b4a64w"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=oe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=oe("Bike",[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=oe("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=oe("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=oe("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=oe("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=oe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=oe("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=oe("CalendarOff",[["path",{d:"M4.2 4.2A2 2 0 0 0 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 1.82-1.18",key:"16swn3"}],["path",{d:"M21 15.5V6a2 2 0 0 0-2-2H9.5",key:"yhw86o"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h7",key:"1wap6i"}],["path",{d:"M21 10h-5.5",key:"quycpq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=oe("CalendarRange",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=oe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=oe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=oe("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=oe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=oe("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=oe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=oe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=oe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const su=oe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=oe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=oe("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=oe("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wg=oe("CircleDollarSign",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=oe("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=oe("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=oe("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iu=oe("Clock3",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16.5 12",key:"1aq6pp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=oe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=oe("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=oe("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=oe("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=oe("Columns3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=oe("Construction",[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=oe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=oe("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=oe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ec=oe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=oe("Disc",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=oe("DoorOpen",[["path",{d:"M13 4h3a2 2 0 0 1 2 2v14",key:"hrm0s9"}],["path",{d:"M2 20h3",key:"1gaodv"}],["path",{d:"M13 20h9",key:"s90cdi"}],["path",{d:"M10 12v.01",key:"vx6srw"}],["path",{d:"M13 4.562v16.157a1 1 0 0 1-1.242.97L5 20V5.562a2 2 0 0 1 1.515-1.94l4-1A2 2 0 0 1 13 4.561Z",key:"199qr4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=oe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=oe("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=oe("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=oe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ou=oe("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ig=oe("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=oe("FilePenLine",[["path",{d:"m18 5-3-3H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"h0fsxq"}],["path",{d:"M8 18h1",key:"13wk12"}],["path",{d:"M18.4 9.6a2 2 0 1 1 3 3L17 17l-4 1 1-4Z",key:"dyo8mm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=oe("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=oe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=oe("Files",[["path",{d:"M20 7h-3a2 2 0 0 1-2-2V2",key:"x099mo"}],["path",{d:"M9 18a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h7l4 4v10a2 2 0 0 1-2 2Z",key:"18t6ie"}],["path",{d:"M3 7.6v12.8A1.6 1.6 0 0 0 4.6 22h9.8",key:"1nja0z"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=oe("FilterX",[["path",{d:"M13.013 3H2l8 9.46V19l4 2v-8.54l.9-1.055",key:"1fi1da"}],["path",{d:"m22 3-5 5",key:"12jva0"}],["path",{d:"m17 3 5 5",key:"k36vhe"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=oe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rg=oe("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=oe("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=oe("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=oe("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=oe("FormInput",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M17 12h.01",key:"1m0b6t"}],["path",{d:"M7 12h.01",key:"eqddd0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=oe("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=oe("GitMerge",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9",key:"7kw0sc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=oe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=oe("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=oe("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=oe("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dg=oe("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=oe("HardHat",[["path",{d:"M2 18a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v2z",key:"1dej2m"}],["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6h0",key:"1uc279"}],["path",{d:"M14 6h0a6 6 0 0 1 6 6v3",key:"1j9mnm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=oe("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=oe("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=oe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=oe("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=oe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ug=oe("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=oe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=oe("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=oe("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=oe("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yd=oe("LayoutTemplate",[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=oe("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=oe("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=oe("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=oe("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=oe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=oe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=oe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=oe("Magnet",[["path",{d:"m6 15-4-4 6.75-6.77a7.79 7.79 0 0 1 11 11L13 22l-4-4 6.39-6.36a2.14 2.14 0 0 0-3-3L6 15",key:"1i3lhw"}],["path",{d:"m5 8 4 4",key:"j6kj7e"}],["path",{d:"m12 15 4 4",key:"lnac28"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=oe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=oe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=oe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=oe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _d=oe("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=oe("Microscope",[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=oe("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=oe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=oe("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=oe("PanelRightClose",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=oe("PanelRightOpen",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=oe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=oe("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=oe("Pipette",[["path",{d:"m2 22 1-1h3l9-9",key:"1sre89"}],["path",{d:"M3 21v-3l9-9",key:"hpe2y6"}],["path",{d:"m15 6 3.4-3.4a2.1 2.1 0 1 1 3 3L18 9l.4.4a2.1 2.1 0 1 1-3 3l-3.8-3.8a2.1 2.1 0 1 1 3-3l.4.4Z",key:"196du1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=oe("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=oe("PlugZap",[["path",{d:"M6.3 20.3a2.4 2.4 0 0 0 3.4 0L12 18l-6-6-2.3 2.3a2.4 2.4 0 0 0 0 3.4Z",key:"goz73y"}],["path",{d:"m2 22 3-3",key:"19mgm9"}],["path",{d:"M7.5 13.5 10 11",key:"7xgeeb"}],["path",{d:"M10.5 16.5 13 14",key:"10btkg"}],["path",{d:"m18 3-4 4h6l-4 4",key:"16psg9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=oe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=oe("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=oe("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=oe("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=oe("Recycle",[["path",{d:"M7 19H4.815a1.83 1.83 0 0 1-1.57-.881 1.785 1.785 0 0 1-.004-1.784L7.196 9.5",key:"x6z5xu"}],["path",{d:"M11 19h8.203a1.83 1.83 0 0 0 1.556-.89 1.784 1.784 0 0 0 0-1.775l-1.226-2.12",key:"1x4zh5"}],["path",{d:"m14 16-3 3 3 3",key:"f6jyew"}],["path",{d:"M8.293 13.596 7.196 9.5 3.1 10.598",key:"wf1obh"}],["path",{d:"m9.344 5.811 1.093-1.892A1.83 1.83 0 0 1 11.985 3a1.784 1.784 0 0 1 1.546.888l3.943 6.843",key:"9tzpgr"}],["path",{d:"m13.378 9.633 4.096 1.098 1.097-4.096",key:"1oe83g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=oe("Redo2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5v0A5.5 5.5 0 0 0 9.5 20H13",key:"19mnr4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=oe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=oe("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=oe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=oe("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=oe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=oe("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=oe("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=oe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=oe("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0=oe("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=oe("Ship",[["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1 .6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"iegodh"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-9-4-9 4c0 2.9.94 5.34 2.81 7.76",key:"fp8vka"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M12 10v4",key:"1kjpxc"}],["path",{d:"M12 2v3",key:"qbqxhf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=oe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=oe("Siren",[["path",{d:"M7 18v-6a5 5 0 1 1 10 0v6",key:"pcx96s"}],["path",{d:"M5 21a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-1a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2z",key:"1b4s83"}],["path",{d:"M21 12h1",key:"jtio3y"}],["path",{d:"M18.5 4.5 18 5",key:"g5sp9y"}],["path",{d:"M2 12h1",key:"1uaihz"}],["path",{d:"M12 2v1",key:"11qlp1"}],["path",{d:"m4.929 4.929.707.707",key:"1i51kw"}],["path",{d:"M12 12v6",key:"3ahymv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=oe("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=oe("Sliders",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=oe("Snowflake",[["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"m20 16-4-4 4-4",key:"rquw4f"}],["path",{d:"m4 8 4 4-4 4",key:"12s3z9"}],["path",{d:"m16 4-4 4-4-4",key:"1tumq1"}],["path",{d:"m8 20 4-4 4 4",key:"9p200w"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=oe("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=oe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=oe("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=oe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=oe("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=oe("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=oe("StopCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=oe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=oe("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=oe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=oe("TestTube2",[["path",{d:"M21 7 6.82 21.18a2.83 2.83 0 0 1-3.99-.01v0a2.83 2.83 0 0 1 0-4L17 3",key:"dg8b2p"}],["path",{d:"m16 2 6 6",key:"1gw87d"}],["path",{d:"M12 16H4",key:"1cjfip"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=oe("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=oe("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=oe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=oe("TreePine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=oe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=oe("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=oe("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=oe("Umbrella",[["path",{d:"M22 12a10.06 10.06 1 0 0-20 0Z",key:"1teyop"}],["path",{d:"M12 12v8a2 2 0 0 0 4 0",key:"ulpmoc"}],["path",{d:"M12 2v1",key:"11qlp1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=oe("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11",key:"llx8ln"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=oe("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=oe("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=oe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=oe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=oe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=oe("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=oe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=oe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=oe("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=oe("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=oe("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=oe("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=oe("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=oe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=oe("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Q4=["user_groups","personnel","org_chart","app_users","locations","equipment_classes","equipment_groups","equipment","equipment_local_names","production_plans","evaluation_periods","evaluation_criteria","measurement_units","equipment_tree","part_categories_main","part_categories_sub","part_categories_sub_sub","parts","activity_cards","checklist_items","maintenance_plans"],Z4={user_groups:" ",personnel:"",org_chart:" ",app_users:" ",locations:" ",equipment_classes:" ",equipment_groups:" ",equipment:"",equipment_local_names:"  ",evaluation_periods:" ",evaluation_criteria:" ",measurement_units:" ",equipment_tree:" ",part_categories_main:"  ",part_categories_sub:"  ",part_categories_sub_sub:"   ",parts:"",activity_cards:" ",checklist_items:" ",maintenance_plans:" ",production_plans:"   "},XK=["personnel_code","full_name","username","name","title","code","local_name","class_id","group_id","org_unit_id","max_score","activity_card_id","equipment_id","description","symbol","year","month","feed_plan","prod_plan"],QK={user_groups:[{key:"code",header:" "},{key:"name",header:" "}],personnel:[{key:"personnel_code",header:" "},{key:"full_name",header:"   "},{key:"unit",header:""},{key:"mobile",header:""},{key:"hourly_rate",header:"  ()"}],app_users:[{key:"username",header:" "},{key:"full_name",header:"   "},{key:"role",header:" "}],locations:[{key:"code",header:""},{key:"name",header:"  "},{key:"parent_name",header:"  "}],org_chart:[{key:"code",header:" "},{key:"name",header:" "},{key:"parent_name",header:" "},{key:"manager_name",header:" "}],measurement_units:[{key:"title",header:" "},{key:"symbol",header:""}],equipment_local_names:[{key:"local_name",header:" /"},{key:"class_name",header:""},{key:"group_name",header:""}],evaluation_periods:[{key:"code",header:" "},{key:"title",header:" "}],evaluation_criteria:[{key:"title",header:" "},{key:"max_score",header:" "},{key:"org_unit_name",header:" "}],equipment_classes:[{key:"code",header:" "},{key:"name",header:" "}],equipment_groups:[{key:"code",header:" "},{key:"name",header:" "},{key:"class_name",header:" "}],equipment:[{key:"code",header:" "},{key:"name",header:" "},{key:"class_name",header:""},{key:"group_name",header:""}],equipment_tree:[{key:"equipment_name",header:""},{key:"code",header:" "},{key:"name",header:" "},{key:"parent_name",header:""}],part_categories_main:[{key:"code",header:" "},{key:"name",header:"  "}],part_categories_sub:[{key:"parent_name",header:" "},{key:"code",header:" "},{key:"name",header:"  "}],part_categories_sub_sub:[{key:"grand_parent_name",header:" "},{key:"parent_name",header:" "},{key:"code",header:" "},{key:"name",header:"   "}],parts:[{key:"code",header:" "},{key:"name",header:" "},{key:"current_stock",header:""},{key:"min_stock",header:" "},{key:"reorder_quantity",header:" "},{key:"warehouse_row",header:" "},{key:"shelf",header:""},{key:"unit_price",header:" ()"}],activity_cards:[{key:"code",header:" "},{key:"name",header:" "}],checklist_items:[{key:"activity_card_id",header:"  (ID)"},{key:"sort_order",header:""},{key:"description",header:""}],maintenance_plans:[{key:"code",header:" "},{key:"name",header:" "},{key:"equipment_id",header:" (ID)"}],production_plans:[{key:"year",header:""},{key:"month",header:""},{key:"total_days",header:" "},{key:"active_days",header:" "},{key:"feed_plan",header:" "},{key:"feed_usage",header:" "},{key:"prod_plan",header:" "},{key:"prod_usage",header:" "}]},ZK="2.9.2",e3=Q4.map(e=>({id:e,title:Z4[e],icon:Kf,path:`/admin/${e}`})),Np=[{id:"dashboard",title:"",icon:jf,path:"/"},{id:"reports-group",title:"",icon:A4,path:"#",submenu:[{id:"control-room",title:"  ",icon:Qf,path:"/control-room"},{id:"shiftreport",title:" ",icon:au,path:"/shift-report"},{id:"productionreport",title:"  ",icon:ou,path:"/production-report"},{id:"lab-report",title:" ",icon:qf,path:"/lab-report"},{id:"warehouse-report",title:" ",icon:Cc,path:"/warehouse-report"},{id:"scale-report",title:" ",icon:s0,path:"/scale-report"},{id:"hse-report",title:"   ",icon:Yf,path:"/hse-report"},{id:"reports",title:" ",icon:t0,path:"/reports"}]},{id:"work-calendar",title:" ",icon:_4,path:"/work-calendar"},{id:"inbox",title:" ",icon:Xf,path:"/inbox"},{id:"messages",title:"",icon:lu,path:"/messages"},{id:"notes",title:" ",icon:q4,path:"/notes"},{id:"maintenance-group",title:" ",icon:u0,path:"#",submenu:[{id:"workorders",title:" ",icon:eS,path:"/work-orders"},{id:"pm-scheduler",title:"  (PM)",icon:cx,path:"/pm-scheduler"},{id:"kpis",title:"  (KPI)",icon:L4,path:"/kpis"},{id:"inspections",title:" ",icon:S4,path:"/inspections"}]},{id:"hse-group",title:"  ",icon:i0,path:"#",submenu:[{id:"permits",title:"  (PTW)",icon:C4,path:"/permits"}]},{id:"engineering-group",title:"  ",icon:Wf,path:"#",submenu:[{id:"bom",title:"  (BOM)",icon:Xv,path:"/bom"},{id:"projects",title:" ",icon:x4,path:"/projects"},{id:"documents",title:" ",icon:d4,path:"/documents"},{id:"suggestions",title:" ",icon:D4,path:"/suggestions"},{id:"meetings",title:"",icon:$a,path:"/meetings"}]},{id:"supply-group",title:" ",icon:ty,path:"#",submenu:[{id:"inventory",title:" ",icon:Cc,path:"/inventory"},{id:"partrequest",title:" ",icon:e0,path:"/part-requests"},{id:"purchases",title:" ",icon:ty,path:"/purchases"}]},{id:"hr-group",title:"  ",icon:Ya,path:"#",submenu:[{id:"training-courses",title:" ",icon:Vf,path:"/training-courses"},{id:"training",title:"   ",icon:Jf,path:"/training"},{id:"performance",title:" ",icon:Bf,path:"/performance"}]},{id:"base-info",title:"  ",icon:Ec,path:"#",role:"ADMIN",submenu:e3},{id:"system-settings",title:" ",icon:ey,path:"#",role:"ADMIN",submenu:[{id:"app-config",title:" ",icon:H4,path:"/system-config"},{id:"workflow",title:" ",icon:Xv,path:"/workflow-designer"},{id:"report-template-design",title:"  ",icon:yd,path:"/report-template-design"},{id:"report-form-design",title:"  ",icon:I4,path:"/report-form-design"},{id:"import-tool-settings",title:"   ",icon:Qb,path:"/data-entry-tool-settings"},{id:"software-errors",title:" ",icon:nl,path:"/software-errors"},{id:"data-change-tracking",title:"  ",icon:M4,path:"/data-change-tracking"},{id:"integration",title:" (API)",icon:Ec,path:"/integration"}]},{id:"settings",title:" ",icon:ey,path:"/settings"}],eJ=[{name:"",value:400},{name:"",value:300},{name:"",value:300},{name:"",value:200}],tJ=[{name:"",uv:400,pv:2400},{name:"",uv:300,pv:1398},{name:"",uv:200,pv:9800},{name:"",uv:278,pv:3908},{name:"",uv:189,pv:4800},{name:"",uv:239,pv:3800}],rS=V.createContext(null),t3=rS.Provider;function r3(){return V.useContext(rS)}var _n=(e=>(e.ADMIN="ADMIN",e.USER="USER",e.STOREKEEPER="STOREKEEPER",e.INSPECTOR="INSPECTOR",e.MANAGER="MANAGER",e.EXPERT="EXPERT",e))(_n||{});const n3=()=>Math.random().toString(36).substring(2,9),nS=(e,t,r)=>{let n=e>979?1600:621;e-=e>979?979:0;let s=365*e+Math.floor(e/33)*8+Math.floor((e%33+3)/4)+78+r+(t<7?(t-1)*31:(t-7)*30+186);n+=400*Math.floor(s/146097),s%=146097,s>36524&&(n+=100*Math.floor(--s/36524),s%=36524,s>=365&&s++),n+=4*Math.floor(s/1461),s%=1461,s>365&&(n+=Math.floor((s-1)/365),s=(s-1)%365);let a=s+1;const i=[0,31,n%4===0&&n%100!==0||n%400===0?29:28,31,30,31,30,31,31,30,31,30,31];let o;for(o=0;o<13;o++){const l=i[o];if(a<=l)break;a-=l}return{gy:n,gm:o,gd:a}},sS=(e,t,r)=>{const n=[0,31,59,90,120,151,181,212,243,273,304,334];let s=e<=1600?0:979;e-=e<=1600?621:1600;const a=t>2?e+1:e;let i=365*e+Math.floor((a+3)/4)-Math.floor((a+99)/100)+Math.floor((a+399)/400)-80+r+n[t-1];s+=33*Math.floor(i/12053),i%=12053,s+=4*Math.floor(i/1461),i%=1461,i>365&&(s+=Math.floor((i-1)/365),i=(i-1)%365);const o=i<186?1+Math.floor(i/31):7+Math.floor((i-186)/30),l=1+(i<186?i%31:(i-186)%30);return{jy:s,jm:o,jd:l}},Tn=()=>{const e=new Date,t=sS(e.getFullYear(),e.getMonth()+1,e.getDate());return`${t.jy}/${String(t.jm).padStart(2,"0")}/${String(t.jd).padStart(2,"0")}`},Ip=e=>{const t=es(e);return t?["","","","","","",""][t.getDay()]:""},qd=()=>{const e=new Date;return`${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}`},es=e=>{try{if(!e||e.length<8)return null;const t=e.split("/");if(t.length!==3)return null;const{gy:r,gm:n,gd:s}=nS(parseInt(t[0]),parseInt(t[1]),parseInt(t[2])),a=new Date(r,n-1,s);return isNaN(a.getTime())?null:a}catch{return null}},rJ=e=>{const t=new Date,r=Math.floor(Math.random()*1e4).toString().padStart(4,"0");return`${e}${t.getTime().toString().slice(-6)}${r}`},nJ=(e,t,r,n)=>{const s=es(e),a=es(r);if(!s||!a)return 0;const[i,o]=(t||"00:00").split(":").map(Number),[l,c]=(n||"00:00").split(":").map(Number);s.setHours(i||0,o||0,0,0),a.setHours(l||0,c||0,0,0);const u=s.getTime(),h=a.getTime();return u>h?1:u<h?-1:0},ny=e=>{const t=es(e);if(!t)return!1;const r=new Date;return r.setHours(0,0,0,0),t.getTime()>r.getTime()},sJ=e=>{const t=es(e),r=es("1404/10/16");if(!t||!r)return{};const n=t.getTime()-r.getTime(),a=(Math.floor(n/(1e3*60*60*24))%6+6)%6,i={DAY_1:" ",DAY_2:" ",NIGHT_1:" ",NIGHT_2:" ",REST_1:" ",REST_2:" "},o=(l,c,u)=>({A:{type:l,label:i[l]},B:{type:c,label:i[c]},C:{type:u,label:i[u]}});switch(a){case 0:return o("DAY_1","NIGHT_1","REST_1");case 1:return o("DAY_2","NIGHT_2","REST_2");case 2:return o("NIGHT_1","REST_1","DAY_1");case 3:return o("NIGHT_2","REST_2","DAY_2");case 4:return o("REST_1","DAY_1","NIGHT_1");case 5:return o("REST_2","DAY_2","NIGHT_2");default:return{}}},aJ=(e,t,r,n)=>{const s=es(e),a=es(r);if(!s||!a)return 0;const[i,o]=(t||"00:00").split(":").map(Number),[l,c]=(n||"00:00").split(":").map(Number);s.setHours(i||0,o||0,0,0),a.setHours(l||0,c||0,0,0);const u=a.getTime()-s.getTime();return Math.max(0,Math.floor(u/6e4))},iJ=e=>{const t=Math.floor(e/60),r=e%60;return`${t}:${String(r).padStart(2,"0")}`},sy=async()=>{try{const e=await fetch("https://api.ipify.org?format=json");if(!e.ok)throw new Error("Network response was not ok");return(await e.json()).ip}catch{return"Unknown / Offline"}},oJ=e=>{if(e==null)return"";const t=["","","","","","","","","",""];return e.toString().replace(/\d/g,r=>t[parseInt(r)])};function d0(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function s3(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function o(u){try{c(n.next(u))}catch(h){i(h)}}function l(u){try{c(n.throw(u))}catch(h){i(h)}}function c(u){u.done?a(u.value):s(u.value).then(o,l)}c((n=n.apply(e,t||[])).next())})}const a3=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class wx extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class i3 extends wx{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class ay extends wx{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class iy extends wx{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Rp;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Rp||(Rp={}));class o3{constructor(t,{headers:r={},customFetch:n,region:s=Rp.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=a3(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return s3(this,arguments,void 0,function*(r,n={}){var s;let a,i;try{const{headers:o,method:l,body:c,signal:u,timeout:h}=n;let p={},{region:g}=n;g||(g=this.region);const v=new URL(`${this.url}/${r}`);g&&g!=="any"&&(p["x-region"]=g,v.searchParams.set("forceFunctionRegion",g));let x;c&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",x=c):typeof c=="string"?(p["Content-Type"]="text/plain",x=c):typeof FormData<"u"&&c instanceof FormData?x=c:(p["Content-Type"]="application/json",x=JSON.stringify(c)):c&&typeof c!="string"&&!(typeof Blob<"u"&&c instanceof Blob)&&!(c instanceof ArrayBuffer)&&!(typeof FormData<"u"&&c instanceof FormData)?x=JSON.stringify(c):x=c;let y=u;h&&(i=new AbortController,a=setTimeout(()=>i.abort(),h),u?(y=i.signal,u.addEventListener("abort",()=>i.abort())):y=i.signal);const w=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),o),body:x,signal:y}).catch(T=>{throw new i3(T)}),k=w.headers.get("x-relay-error");if(k&&k==="true")throw new ay(w);if(!w.ok)throw new iy(w);let _=((s=w.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),b;return _==="application/json"?b=yield w.json():_==="application/octet-stream"||_==="application/pdf"?b=yield w.blob():_==="text/event-stream"?b=w:_==="multipart/form-data"?b=yield w.formData():b=yield w.text(),{data:b,error:null,response:w}}catch(o){return{data:null,error:o,response:o instanceof iy||o instanceof ay?o.context:void 0}}finally{a&&clearTimeout(a)}})}}var l3=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},c3=class{constructor(e){var t,r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(n=e.urlLengthLimit)!==null&&n!==void 0?n:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let i=null,o=null,l=null,c=a.status,u=a.statusText;if(a.ok){var h,p;if(r.method!=="HEAD"){var g;const w=await a.text();w===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((g=r.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?o=w:o=JSON.parse(w))}const x=(h=r.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),y=(p=a.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");x&&y&&y.length>1&&(l=parseInt(y[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(o)&&(o.length>1?(i={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,c=406,u="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var v;const x=await a.text();try{i=JSON.parse(x),Array.isArray(i)&&a.status===404&&(o=[],i=null,c=200,u="OK")}catch{a.status===404&&x===""?(c=204,u="No Content"):i={message:x}}if(i&&r.isMaybeSingle&&(!(i==null||(v=i.details)===null||v===void 0)&&v.includes("0 rows"))&&(i=null,c=200,u="OK"),i&&r.shouldThrowOnError)throw new l3(i)}return{error:i,data:o,count:l,status:c,statusText:u}});return this.shouldThrowOnError||(s=s.catch(a=>{var i;let o="",l="",c="";const u=a==null?void 0:a.cause;if(u){var h,p,g,v;const w=(h=u==null?void 0:u.message)!==null&&h!==void 0?h:"",k=(p=u==null?void 0:u.code)!==null&&p!==void 0?p:"";o=`${(g=a==null?void 0:a.name)!==null&&g!==void 0?g:"FetchError"}: ${a==null?void 0:a.message}`,o+=`

Caused by: ${(v=u==null?void 0:u.name)!==null&&v!==void 0?v:"Error"}: ${w}`,k&&(o+=` (${k})`),u!=null&&u.stack&&(o+=`
${u.stack}`)}else{var x;o=(x=a==null?void 0:a.stack)!==null&&x!==void 0?x:""}const y=this.url.toString().length;return(a==null?void 0:a.name)==="AbortError"||(a==null?void 0:a.code)==="ABORT_ERR"?(c="",l="Request was aborted (timeout or manual cancellation)",y>this.urlLengthLimit&&(l+=`. Note: Your request URL is ${y} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((u==null?void 0:u.name)==="HeadersOverflowError"||(u==null?void 0:u.code)==="UND_ERR_HEADERS_OVERFLOW")&&(c="",l="HTTP headers exceeded server limits (typically 16KB)",y>this.urlLengthLimit&&(l+=`. Your request URL is ${y} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(i=a==null?void 0:a.name)!==null&&i!==void 0?i:"FetchError"}: ${a==null?void 0:a.message}`,details:o,hint:l,code:c},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},u3=class extends c3{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const a=s?`${s}.order`:"order",i=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${i?`${i},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:a="text"}={}){var i;const o=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(i=this.headers.get("Accept"))!==null&&i!==void 0?i:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${l}"; options=${o};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const oy=new RegExp("[,()]");var co=class extends u3{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&oy.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&oy.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},d3=class{constructor(e,{headers:t={},schema:r,fetch:n,urlLengthLimit:s=8e3}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n,this.urlLengthLimit=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let a=!1;const i=(e??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join(""),{url:o,headers:l}=this.cloneRequestState();return o.searchParams.set("select",i),n&&l.append("Prefer",`count=${n}`),new co({method:s,url:o,headers:l,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST",{url:a,headers:i}=this.cloneRequestState();if(t&&i.append("Prefer",`count=${t}`),r||i.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);a.searchParams.set("columns",l.join(","))}}return new co({method:s,url:a,headers:i,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var a;const i="POST",{url:o,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&o.searchParams.set("on_conflict",t),n&&l.append("Prefer",`count=${n}`),s||l.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){const u=[...new Set(c)].map(h=>`"${h}"`);o.searchParams.set("columns",u.join(","))}}return new co({method:i,url:o,headers:l,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var r;const n="PATCH",{url:s,headers:a}=this.cloneRequestState();return t&&a.append("Prefer",`count=${t}`),new co({method:n,url:s,headers:a,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new co({method:r,url:n,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function Ac(e){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ac(e)}function f3(e,t){if(Ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function h3(e){var t=f3(e,"string");return Ac(t)=="symbol"?t:t+""}function p3(e,t,r){return(t=h3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ly(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ou(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ly(Object(r),!0).forEach(function(n){p3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ly(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var m3=class aS{constructor(t,{headers:r={},schema:n,fetch:s,timeout:a,urlLengthLimit:i=8e3}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.urlLengthLimit=i;const o=s??globalThis.fetch;a!==void 0&&a>0?this.fetch=(l,c)=>{const u=new AbortController,h=setTimeout(()=>u.abort(),a),p=c==null?void 0:c.signal;if(p){if(p.aborted)return clearTimeout(h),o(l,c);const g=()=>{clearTimeout(h),u.abort()};return p.addEventListener("abort",g,{once:!0}),o(l,Ou(Ou({},c),{},{signal:u.signal})).finally(()=>{clearTimeout(h),p.removeEventListener("abort",g)})}return o(l,Ou(Ou({},c),{},{signal:u.signal})).finally(()=>clearTimeout(h))}:this.fetch=o}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new d3(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new aS(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,r={},{head:n=!1,get:s=!1,count:a}={}){var i;let o;const l=new URL(`${this.url}/rpc/${t}`);let c;const u=g=>g!==null&&typeof g=="object"&&(!Array.isArray(g)||g.some(u)),h=n&&Object.values(r).some(u);h?(o="POST",c=r):n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([g,v])=>v!==void 0).map(([g,v])=>[g,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([g,v])=>{l.searchParams.append(g,v)})):(o="POST",c=r);const p=new Headers(this.headers);return h?p.set("Prefer",a?`count=${a},return=minimal`:"return=minimal"):a&&p.set("Prefer",`count=${a}`),new co({method:o,url:l,headers:p,schema:this.schemaName,body:c,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}};class g3{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,a=parseInt(s.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const x3="2.95.3",v3=`realtime-js/${x3}`,y3="1.0.0",iS="2.0.0",cy=iS,Pp=1e4,_3=1e3,w3=100;var ya;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ya||(ya={}));var Er;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Er||(Er={}));var vs;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(vs||(vs={}));var Fp;(function(e){e.websocket="websocket"})(Fp||(Fp={}));var di;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(di||(di={}));class k3{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},i=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,i)}_encodeUserBroadcastPush(t,r,n){var s,a;const i=t.topic,o=(s=t.ref)!==null&&s!==void 0?s:"",l=(a=t.join_ref)!==null&&a!==void 0?a:"",c=t.payload.event,u=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(u).length===0?"":JSON.stringify(u);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(i.length>255)throw new Error(`topic length ${i.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const p=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+i.length+c.length+h.length,g=new ArrayBuffer(this.HEADER_LENGTH+p);let v=new DataView(g),x=0;v.setUint8(x++,this.KINDS.userBroadcastPush),v.setUint8(x++,l.length),v.setUint8(x++,o.length),v.setUint8(x++,i.length),v.setUint8(x++,c.length),v.setUint8(x++,h.length),v.setUint8(x++,r),Array.from(l,w=>v.setUint8(x++,w.charCodeAt(0))),Array.from(o,w=>v.setUint8(x++,w.charCodeAt(0))),Array.from(i,w=>v.setUint8(x++,w.charCodeAt(0))),Array.from(c,w=>v.setUint8(x++,w.charCodeAt(0))),Array.from(h,w=>v.setUint8(x++,w.charCodeAt(0)));var y=new Uint8Array(g.byteLength+n.byteLength);return y.set(new Uint8Array(g),0),y.set(new Uint8Array(n),g.byteLength),y.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,a,i,o,l]=n;return r({join_ref:s,ref:a,topic:i,event:o,payload:l})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),a=r.getUint8(2),i=r.getUint8(3),o=r.getUint8(4);let l=this.HEADER_LENGTH+4;const c=n.decode(t.slice(l,l+s));l=l+s;const u=n.decode(t.slice(l,l+a));l=l+a;const h=n.decode(t.slice(l,l+i));l=l+i;const p=t.slice(l,t.byteLength),g=o===this.JSON_ENCODING?JSON.parse(n.decode(p)):p,v={type:this.BROADCAST_EVENT,event:u,payload:g};return i>0&&(v.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class oS{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Wt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Wt||(Wt={}));const uy=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,i)=>(a[i]=b3(i,e,t,s),a),{}):{}},b3=(e,t,r,n)=>{const s=t.find(o=>o.name===e),a=s==null?void 0:s.type,i=r[e];return a&&!n.includes(a)?lS(a,i):Mp(i)},lS=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return C3(t,r)}switch(e){case Wt.bool:return S3(t);case Wt.float4:case Wt.float8:case Wt.int2:case Wt.int4:case Wt.int8:case Wt.numeric:case Wt.oid:return E3(t);case Wt.json:case Wt.jsonb:return T3(t);case Wt.timestamp:return A3(t);case Wt.abstime:case Wt.date:case Wt.daterange:case Wt.int4range:case Wt.int8range:case Wt.money:case Wt.reltime:case Wt.text:case Wt.time:case Wt.timestamptz:case Wt.timetz:case Wt.tsrange:case Wt.tstzrange:return Mp(t);default:return Mp(t)}},Mp=e=>e,S3=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},E3=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},T3=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},C3=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const i=e.slice(1,r);try{a=JSON.parse("["+i+"]")}catch{a=i?i.split(","):[]}return a.map(o=>lS(t,o))}return e},A3=e=>typeof e=="string"?e.replace(" ","T"):e,cS=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class ah{constructor(t,r,n={},s=Pp){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var dy;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(dy||(dy={}));class Jl{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:a,onLeave:i,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Jl.syncState(this.state,s,a,i),this.pendingDiffs.forEach(l=>{this.state=Jl.syncDiff(this.state,l,a,i)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:a,onLeave:i,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Jl.syncDiff(this.state,s,a,i),o())}),this.onJoin((s,a,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:i})}),this.onLeave((s,a,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const a=this.cloneDeep(t),i=this.transformState(r),o={},l={};return this.map(a,(c,u)=>{i[c]||(l[c]=u)}),this.map(i,(c,u)=>{const h=a[c];if(h){const p=u.map(y=>y.presence_ref),g=h.map(y=>y.presence_ref),v=u.filter(y=>g.indexOf(y.presence_ref)<0),x=h.filter(y=>p.indexOf(y.presence_ref)<0);v.length>0&&(o[c]=v),x.length>0&&(l[c]=x)}else o[c]=u}),this.syncDiff(a,{joins:o,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:a,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(a,(o,l)=>{var c;const u=(c=t[o])!==null&&c!==void 0?c:[];if(t[o]=this.cloneDeep(l),u.length>0){const h=t[o].map(g=>g.presence_ref),p=u.filter(g=>h.indexOf(g.presence_ref)<0);t[o].unshift(...p)}n(o,u,l)}),this.map(i,(o,l)=>{let c=t[o];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),t[o]=c,s(o,c,l),c.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var fy;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(fy||(fy={}));var Yl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Yl||(Yl={}));var Gs;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Gs||(Gs={}));class Co{constructor(t,r={config:{}},n){var s,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Er.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new ah(this,vs.join,this.params,this.timeout),this.rejoinTimer=new oS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Er.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Er.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Er.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Er.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Er.errored,this.rejoinTimer.scheduleTimeout())}),this._on(vs.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new Jl(this),this.broadcastEndpointURL=cS(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Er.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(g=>g.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[Yl.PRESENCE]&&this.bindings[Yl.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,h={},p={broadcast:i,presence:Object.assign(Object.assign({},o),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(g=>t==null?void 0:t(Gs.CHANNEL_ERROR,g)),this._onClose(()=>t==null?void 0:t(Gs.CLOSED)),this.updateJoinPayload(Object.assign({config:p},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:g})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),g===void 0){t==null||t(Gs.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,y=(v=x==null?void 0:x.length)!==null&&v!==void 0?v:0,w=[];for(let k=0;k<y;k++){const _=x[k],{filter:{event:b,schema:T,table:E,filter:S}}=_,M=g&&g[k];if(M&&M.event===b&&Co.isFilterValueEqual(M.schema,T)&&Co.isFilterValueEqual(M.table,E)&&Co.isFilterValueEqual(M.filter,S))w.push(Object.assign(Object.assign({},_),{id:M.id}));else{this.unsubscribe(),this.state=Er.errored,t==null||t(Gs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(Gs.SUBSCRIBED);return}}).receive("error",g=>{this.state=Er.errored,t==null||t(Gs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Gs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Er.joined&&t===Yl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const i={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const c=await o.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:i}=t,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:i,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var i,o,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(i=this.params)===null||i===void 0?void 0:i.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),c.receive("ok",()=>a("ok")),c.receive("error",()=>a("error")),c.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Er.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(vs.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new ah(this,vs.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Er.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,a=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(a),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new ah(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>w3){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,a;const i=t.toLocaleLowerCase(),{close:o,error:l,leave:c,join:u}=vs;if(n&&[o,l,c,u].indexOf(i)>=0&&n!==this._joinRef())return;let p=this._onMessage(i,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var v,x,y;return((v=g.filter)===null||v===void 0?void 0:v.event)==="*"||((y=(x=g.filter)===null||x===void 0?void 0:x.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===i}).map(g=>g.callback(p,n)):(a=this.bindings[i])===null||a===void 0||a.filter(g=>{var v,x,y,w,k,_;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in g){const b=g.id,T=(v=g.filter)===null||v===void 0?void 0:v.event;return b&&((x=r.ids)===null||x===void 0?void 0:x.includes(b))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const b=(k=(w=g==null?void 0:g.filter)===null||w===void 0?void 0:w.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return b==="*"||b===((_=r==null?void 0:r.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===i}).map(g=>{if(typeof p=="object"&&"ids"in p){const v=p.data,{schema:x,table:y,commit_timestamp:w,type:k,errors:_}=v;p=Object.assign(Object.assign({},{schema:x,table:y,commit_timestamp:w,eventType:k,new:{},old:{},errors:_}),this._getPayloadRecords(v))}g.callback(p,n)})}_isClosed(){return this.state===Er.closed}_isJoined(){return this.state===Er.joined}_isJoining(){return this.state===Er.joining}_isLeaving(){return this.state===Er.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),a={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Co.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(vs.close,{},t)}_onError(t){this._on(vs.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Er.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=uy(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=uy(t.columns,t.old_record)),r}}const ih=()=>{},Uu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},N3=[1e3,2e3,5e3,1e4],I3=1e4,R3=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class P3{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Pp,this.transport=null,this.heartbeatIntervalMs=Uu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ih,this.ref=0,this.reconnectTimer=null,this.vsn=cy,this.logger=ih,this.conn=null,this.sendBuffer=[],this.serializer=new k3,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Fp.websocket}`,this.httpEndpoint=cS(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=g3.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return r==="ok"&&this._remove(t),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ya.connecting:return di.Connecting;case ya.open:return di.Open;case ya.closing:return di.Closing;default:return di.Closed}}isConnected(){return this.connectionState()===di.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===n);if(s)return s;{const a=new Co(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:s,ref:a}=t,i=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${a})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(_3,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Uu.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const c=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",c)}catch(u){this.log("error","error in heartbeat callback",u)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:a,ref:i}=r,o=i?`(${i})`:"",l=a.status||"";this.log("receive",`${l} ${n} ${s} ${o}`.trim(),a),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,a,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===ya.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ya.open||this.conn.readyState===ya.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(vs.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([R3],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const a={access_token:r,version:v3};r&&s.updateJoinPayload(a),s.joinedOnce&&s._isJoined()&&s._push(vs.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new oS(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Uu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,a,i,o,l,c,u,h,p,g;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Pp,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Uu.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:ih,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:cy,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:v=>N3[v-1]||I3,this.vsn){case y3:this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(v,x)=>x(JSON.stringify(v)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(v,x)=>x(JSON.parse(v));break;case iS:this.encode=(p=t==null?void 0:t.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(g=t==null?void 0:t.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Nc=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function F3(e,t,r){const n=new URL(t,e);if(r)for(const[s,a]of Object.entries(r))a!==void 0&&n.searchParams.set(s,a);return n.toString()}async function M3(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function D3(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:a,headers:i}){const o=F3(e.baseUrl,n,s),l=await M3(e.auth),c=await t(o,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...l,...i},body:a?JSON.stringify(a):void 0}),u=await c.text(),h=(c.headers.get("content-type")||"").includes("application/json"),p=h&&u?JSON.parse(u):u;if(!c.ok){const g=h?p:void 0,v=g==null?void 0:g.error;throw new Nc((v==null?void 0:v.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:g})}return{status:c.status,headers:c.headers,data:p}}}}function Bu(e){return e.join("")}var L3=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Bu(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Bu(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Bu(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Bu(e.namespace)}`}),!0}catch(t){if(t instanceof Nc&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Nc&&r.status===409)return;throw r}}};function Zi(e){return e.join("")}var O3=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Zi(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Zi(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Zi(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Zi(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Zi(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Zi(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Nc&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Nc&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},U3=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=D3({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new L3(this.client,t),this.tableOps=new O3(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},f0=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function h0(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var ju=class extends f0{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},uS=class extends f0{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const B3=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),j3=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Dp=e=>{if(Array.isArray(e))return e.map(r=>Dp(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=Dp(n)}),t},$3=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Ic(e){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ic(e)}function V3(e,t){if(Ic(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function H3(e){var t=V3(e,"string");return Ic(t)=="symbol"?t:t+""}function G3(e,t,r){return(t=H3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hy(Object(r),!0).forEach(function(n){G3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const py=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},W3=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e,a=s.status||500;if(typeof s.json=="function")s.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||a+"";t(new ju(py(i),a,o,n))}).catch(()=>{if(n==="vectors"){const i=a+"";t(new ju(s.statusText||`HTTP ${a} error`,a,i,n))}else{const i=a+"";t(new ju(s.statusText||`HTTP ${a} error`,a,i,n))}});else{const i=a+"";t(new ju(s.statusText||`HTTP ${a} error`,a,i,n))}}else t(new uS(py(e),e,n))},z3=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?dt(dt({},s),r):(j3(n)?(s.headers=dt({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),dt(dt({},s),r))};async function bl(e,t,r,n,s,a,i){return new Promise((o,l)=>{e(r,z3(t,n,s,a)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;if(i==="vectors"){const u=c.headers.get("content-type");if(c.headers.get("content-length")==="0"||c.status===204)return{};if(!u||!u.includes("application/json"))return{}}return c.json()}).then(c=>o(c)).catch(c=>W3(c,l,n,i))})}function dS(e="storage"){return{get:async(t,r,n,s)=>bl(t,"GET",r,n,s,void 0,e),post:async(t,r,n,s,a)=>bl(t,"POST",r,s,a,n,e),put:async(t,r,n,s,a)=>bl(t,"PUT",r,s,a,n,e),head:async(t,r,n,s)=>bl(t,"HEAD",r,dt(dt({},n),{},{noResolveJson:!0}),s,void 0,e),remove:async(t,r,n,s,a)=>bl(t,"DELETE",r,s,a,n,e)}}const q3=dS("storage"),{get:Rc,post:ms,put:Lp,head:K3,remove:kx}=q3,Mn=dS("vectors");var il=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=B3(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(h0(r))return{data:null,error:r};throw r}}},J3=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(h0(t))return{data:null,error:t};throw t}}};let fS;fS=Symbol.toStringTag;var Y3=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[fS]="BlobDownloadBuilder",this.promise=null}asStream(){return new J3(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(h0(t))return{data:null,error:t};throw t}}};const X3={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},my={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Q3=class extends il{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var s=this;return s.handleOperation(async()=>{let a;const i=dt(dt({},my),n);let o=dt(dt({},s.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const l=i.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",i.cacheControl),l&&a.append("metadata",s.encodeMetadata(l)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",i.cacheControl),l&&!a.has("metadata")&&a.append("metadata",s.encodeMetadata(l))):(a=r,o["cache-control"]=`max-age=${i.cacheControl}`,o["content-type"]=i.contentType,l&&(o["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!i.duplex&&(i.duplex="half")),n!=null&&n.headers&&(o=dt(dt({},o),n.headers));const c=s._removeEmptyFolders(t),u=s._getFinalPath(c),h=await(e=="PUT"?Lp:ms)(s.fetch,`${s.url}/object/${u}`,a,dt({headers:o},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{path:c,id:h.Id,fullPath:h.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const a=s._removeEmptyFolders(e),i=s._getFinalPath(a),o=new URL(s.url+`/object/upload/sign/${i}`);return o.searchParams.set("token",t),s.handleOperation(async()=>{let l;const c=dt({upsert:my.upsert},n),u=dt(dt({},s.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType),{path:a,fullPath:(await Lp(s.fetch,o.toString(),l,{headers:u})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const s=dt({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const a=await ms(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(r.url+a.url),o=i.searchParams.get("token");if(!o)throw new f0("No token returned by API");return{signedUrl:i.toString(),path:e,token:o}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await ms(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await ms(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let s=n._getFinalPath(e),a=await ms(n.fetch,`${n.url}/object/sign/${s}`,dt({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${a.signedURL}${i}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const s=await ms(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s.map(i=>dt(dt({},i),{},{signedUrl:i.signedURL?encodeURI(`${n.url}${i.signedURL}${a}`):null}))})}download(e,t,r){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=s?`?${s}`:"",i=this._getFinalPath(e),o=()=>Rc(this.fetch,`${this.url}/${n}/${i}${a}`,{headers:this.headers,noResolveJson:!0},r);return new Y3(o,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>Dp(await Rc(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await K3(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(h0(n)&&n instanceof uS){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});i!==""&&n.push(i);let o=n.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${o}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await kx(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const s=dt(dt(dt({},X3),t),{},{prefix:e||""});return await ms(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=dt({},e);return await ms(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const Z3="2.95.3",cu={"X-Client-Info":`storage-js/${Z3}`};var eR=class extends il{constructor(e,t={},r,n){const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const a=s.href.replace(/\/$/,""),i=dt(dt({},cu),t);super(a,i,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await Rc(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Rc(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await ms(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await Lp(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await ms(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await kx(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},tR=class extends il{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=dt(dt({},cu),t);super(n,s,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await ms(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await Rc(t.fetch,s,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await kx(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!$3(e))throw new f0("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new U3({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,a){const i=s[a];return typeof i!="function"?i:async(...o)=>{try{return{data:await i.apply(s,o),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}},rR=class extends il{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=dt(dt({},cu),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Mn.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await Mn.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Mn.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await Mn.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},nR=class extends il{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=dt(dt({},cu),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Mn.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Mn.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Mn.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Mn.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Mn.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},sR=class extends il{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=dt(dt({},cu),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Mn.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Mn.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Mn.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Mn.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},aR=class extends sR{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new iR(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},iR=class extends rR{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,dt(dt({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,dt(dt({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new oR(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},oR=class extends nR{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,dt(dt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,dt(dt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,dt(dt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,dt(dt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,dt(dt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},lR=class extends eR{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new Q3(this.url,this.headers,e,this.fetch)}get vectors(){return new aR(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new tR(this.url+"/iceberg",this.headers,this.fetch)}};const hS="2.95.3",uo=30*1e3,Op=3,oh=Op*uo,cR="http://localhost:9999",uR="supabase.auth.token",dR={"X-Client-Info":`gotrue-js/${hS}`},Up="X-Supabase-Api-Version",pS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},fR=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,hR=10*60*1e3;class Pc extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function tt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class pR extends Pc{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function mR(e){return tt(e)&&e.name==="AuthApiError"}class fi extends Pc{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ia extends Pc{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Nn extends ia{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function lh(e){return tt(e)&&e.name==="AuthSessionMissingError"}class eo extends ia{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class $u extends ia{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Vu extends ia{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function gR(e){return tt(e)&&e.name==="AuthImplicitGrantRedirectError"}class gy extends ia{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class xR extends ia{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Bp extends ia{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function ch(e){return tt(e)&&e.name==="AuthRetryableFetchError"}class xy extends ia{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class jp extends ia{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Kd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),vy=` 	
\r=`.split(""),vR=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<vy.length;t+=1)e[vy[t].charCodeAt(0)]=-2;for(let t=0;t<Kd.length;t+=1)e[Kd[t].charCodeAt(0)]=t;return e})();function yy(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Kd[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Kd[n]),t.queuedBits-=6}}function mS(e,t,r){const n=vR[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function _y(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=i=>{wR(i,n,r)};for(let i=0;i<e.length;i+=1)mS(e.charCodeAt(i),s,a);return t.join("")}function yR(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function _R(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}yR(n,t)}}function wR(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Oo(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)mS(e.charCodeAt(s),r,n);return new Uint8Array(t)}function kR(e){const t=[];return _R(e,r=>t.push(r)),new Uint8Array(t)}function xi(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>yy(s,r,n)),yy(null,r,n),t.join("")}function bR(e){return Math.round(Date.now()/1e3)+e}function SR(){return Symbol("auth-callback")}const jr=()=>typeof window<"u"&&typeof document<"u",ni={tested:!1,writable:!1},gS=()=>{if(!jr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ni.tested)return ni.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ni.tested=!0,ni.writable=!0}catch{ni.tested=!0,ni.writable=!1}return ni.writable};function ER(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const xS=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),TR=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",fo=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},si=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Br=async(e,t)=>{await e.removeItem(t)};class p0{constructor(){this.promise=new p0.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}p0.promiseConstructor=Promise;function Hu(e){const t=e.split(".");if(t.length!==3)throw new jp("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!fR.test(t[n]))throw new jp("JWT not in base64url format");return{header:JSON.parse(_y(t[0])),payload:JSON.parse(_y(t[1])),signature:Oo(t[2]),raw:{header:t[0],payload:t[1]}}}async function CR(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function AR(e,t){return new Promise((n,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const i=await e(a);if(!t(a,null,i)){n(i);return}}catch(i){if(!t(a,i)){s(i);return}}})()})}function NR(e){return("0"+e.toString(16)).substr(-2)}function IR(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let a=0;a<56;a++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,NR).join("")}async function RR(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function PR(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await RR(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function to(e,t,r=!1){const n=IR();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await fo(e,`${t}-code-verifier`,s);const a=await PR(n);return[a,n===a?"plain":"s256"]}const FR=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function MR(e){const t=e.headers.get(Up);if(!t||!t.match(FR))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function DR(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function LR(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const OR=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ro(e){if(!OR.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function uh(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function UR(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function wy(e){return JSON.parse(JSON.stringify(e))}const ci=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),BR=[502,503,504];async function ky(e){var t;if(!TR(e))throw new Bp(ci(e),0);if(BR.includes(e.status))throw new Bp(ci(e),e.status);let r;try{r=await e.json()}catch(a){throw new fi(ci(a),a)}let n;const s=MR(e);if(s&&s.getTime()>=pS["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new xy(ci(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Nn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,i)=>a&&typeof i=="string",!0))throw new xy(ci(r),e.status,r.weak_password.reasons);throw new pR(ci(r),e.status||500,n)}const jR=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function it(e,t,r,n){var s;const a=Object.assign({},n==null?void 0:n.headers);a[Up]||(a[Up]=pS["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const o=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await $R(e,t,r+o,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function $R(e,t,r,n,s,a){const i=jR(t,n,s,a);let o;try{o=await e(r,Object.assign({},i))}catch(l){throw console.error(l),new Bp(ci(l),0)}if(o.ok||await ky(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await ky(l)}}function hs(e){var t;let r=null;GR(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=bR(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function by(e){const t=hs(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ka(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function VR(e){return{data:e,error:null}}function HR(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a}=e,i=d0(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a},l=Object.assign({},i);return{data:{properties:o,user:l},error:null}}function Sy(e){return e}function GR(e){return e.access_token&&e.refresh_token&&e.expires_in}const dh=["global","local","others"];class WR{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=xS(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=dh[0]){if(dh.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${dh.join(", ")}`);try{return await it(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(tt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await it(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ka})}catch(n){if(tt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=d0(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await it(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:HR,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(tt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await it(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ka})}catch(r){if(tt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,a,i,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await it(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:Sy});if(u.error)throw u.error;const h=await u.json(),p=(i=u.headers.get("x-total-count"))!==null&&i!==void 0?i:0,g=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(v=>{const x=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(v.split(";")[1].split("=")[1]);c[`${y}Page`]=x}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(tt(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){ro(t);try{return await it(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ka})}catch(r){if(tt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){ro(t);try{return await it(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ka})}catch(n){if(tt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){ro(t);try{return await it(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ka})}catch(n){if(tt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){ro(t.userId);try{const{data:r,error:n}=await it(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(tt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){ro(t.userId),ro(t.id);try{return{data:await it(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(tt(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,a,i,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await it(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:Sy});if(u.error)throw u.error;const h=await u.json(),p=(i=u.headers.get("x-total-count"))!==null&&i!==void 0?i:0,g=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(v=>{const x=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(v.split(";")[1].split("=")[1]);c[`${y}Page`]=x}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(tt(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await it(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(tt(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await it(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(tt(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await it(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(tt(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await it(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(tt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await it(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(tt(r))return{data:null,error:r};throw r}}}function Ey(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const no={debug:!!(globalThis&&gS()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class vS extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class zR extends vS{}async function qR(e,t,r){no.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),no.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){no.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{no.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw no.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new zR(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(no.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function KR(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function yS(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function JR(e){return parseInt(e,16)}function YR(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function XR(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:a=new Date,nonce:i,notBefore:o,requestId:l,resources:c,scheme:u,uri:h,version:p}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const g=yS(e.address),v=u?`${u}://${n}`:n,x=e.statement?`${e.statement}
`:"",y=`${v} wants you to sign in with your Ethereum account:
${g}

${x}`;let w=`URI: ${h}
Version: ${p}
Chain ID: ${r}${i?`
Nonce: ${i}`:""}
Issued At: ${a.toISOString()}`;if(s&&(w+=`
Expiration Time: ${s.toISOString()}`),o&&(w+=`
Not Before: ${o.toISOString()}`),l&&(w+=`
Request ID: ${l}`),c){let k=`
Resources:`;for(const _ of c){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);k+=`
- ${_}`}w+=k}return`${y}
${w}`}class kr extends Error{constructor({message:t,code:r,cause:n,name:s}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=s??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class Jd extends kr{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function QR({error:e,options:t}){var r,n,s;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new kr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new kr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new kr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=a.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new kr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new kr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new kr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new kr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new kr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(_S(i)){if(a.rp.id!==i)return new kr({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new kr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new kr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new kr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new kr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function ZR({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new kr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new kr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(_S(n)){if(r.rpId!==n)return new kr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new kr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new kr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new kr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class eP{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const tP=new eP;function rP(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=d0(e,["challenge","user","excludeCredentials"]),a=Oo(t).buffer,i=Object.assign(Object.assign({},r),{id:Oo(r.id).buffer}),o=Object.assign(Object.assign({},s),{challenge:a,user:i});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];o.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Oo(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function nP(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=d0(e,["challenge","allowCredentials"]),s=Oo(t).buffer,a=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let i=0;i<r.length;i++){const o=r[i];a.allowCredentials[i]=Object.assign(Object.assign({},o),{id:Oo(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return a}function sP(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:xi(new Uint8Array(e.response.attestationObject)),clientDataJSON:xi(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function aP(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:xi(new Uint8Array(s.authenticatorData)),clientDataJSON:xi(new Uint8Array(s.clientDataJSON)),signature:xi(new Uint8Array(s.signature)),userHandle:s.userHandle?xi(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function _S(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Ty(){var e,t;return!!(jr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function iP(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Jd("Browser returned unexpected credential type",t)}:{data:null,error:new Jd("Empty credential response",t)}}catch(t){return{data:null,error:QR({error:t,options:e})}}}async function oP(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Jd("Browser returned unexpected credential type",t)}:{data:null,error:new Jd("Empty credential response",t)}}catch(t){return{data:null,error:ZR({error:t,options:e})}}}const lP={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},cP={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Yd(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const a in s){const i=s[a];if(i!==void 0)if(Array.isArray(i))n[a]=i;else if(r(i))n[a]=i;else if(t(i)){const o=n[a];t(o)?n[a]=Yd(o,i):n[a]=Yd(i)}else n[a]=i}return n}function uP(e,t){return Yd(lP,e,t||{})}function dP(e,t){return Yd(cP,e,t||{})}class fP{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},a){var i;try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const c=s??tP.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;if(!u.name){const h=n;if(h)u.name=`${u.id}:${h}`;else{const g=(await this.client.getUser()).data.user,v=((i=g==null?void 0:g.user_metadata)===null||i===void 0?void 0:i.name)||(g==null?void 0:g.email)||(g==null?void 0:g.id)||"User";u.name=`${u.id}:${v}`}}u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=uP(o.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:h,error:p}=await iP({publicKey:u,signal:c});return h?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}case"request":{const u=dP(o.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:h,error:p}=await oP(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return h?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}}}catch(o){return tt(o)?{data:null,error:o}:{data:null,error:new fi("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},a){if(!r)return{data:null,error:new Pc("rpId is required for WebAuthn authentication")};try{if(!Ty())return{data:null,error:new fi("Browser does not support WebAuthn",null)};const{data:i,error:o}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:a});if(!i)return{data:null,error:o};const{webauthn:l}=i;return this._verify({factorId:t,challengeId:i.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(i){return tt(i)?{data:null,error:i}:{data:null,error:new fi("Unexpected error in authenticate",i)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},a){if(!r)return{data:null,error:new Pc("rpId is required for WebAuthn registration")};try{if(!Ty())return{data:null,error:new fi("Browser does not support WebAuthn",null)};const{data:i,error:o}=await this._enroll({friendlyName:t});if(!i)return await this.client.mfa.listFactors().then(u=>{var h;return(h=u.data)===null||h===void 0?void 0:h.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===t&&p.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:o};const{data:l,error:c}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:a});return l?this._verify({factorId:i.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(i){return tt(i)?{data:null,error:i}:{data:null,error:new fi("Unexpected error in register",i)}}}}KR();const hP={url:cR,storageKey:uR,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:dR,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Cy(e,t,r){return await r()}const so={};class Fc{get jwks(){var t,r;return(r=(t=so[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){so[this.storageKey]=Object.assign(Object.assign({},so[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=so[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){so[this.storageKey]=Object.assign(Object.assign({},so[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},hP),t);if(this.storageKey=a.storageKey,this.instanceID=(r=Fc.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Fc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&jr()){const i=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(i),this.logDebugMessages&&console.trace(i)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new WR({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=xS(a.fetch),this.lock=a.lock||Cy,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&jr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=qR:this.lock=Cy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new fP(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:gS()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ey(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Ey(this.memoryStorage)),jr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i);try{await this._notifyAllSubscribers(i.data.event,i.data.session,!1)}catch(o){this._debug("#broadcastChannel","error",o)}})}this.initialize().catch(i=>{this._debug("#initialize()","error",i)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${hS}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(jr()&&(r=ER(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),jr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),gR(a)){const l=(t=a.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:i,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",o),await this._saveSession(i),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return tt(r)?this._returnResult({error:r}):this._returnResult({error:new fi("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const a=await it(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:hs}),{data:i,error:o}=a;if(o||!i)return this._returnResult({data:{user:null,session:null},error:o});const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(a){if(tt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var r,n,s;try{let a;if("email"in t){const{email:u,password:h,options:p}=t;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await to(this.storage,this.storageKey)),a=await it(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:u,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:v},xform:hs})}else if("phone"in t){const{phone:u,password:h,options:p}=t;a=await it(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:hs})}else throw new $u("You must provide either an email or phone number and a password");const{data:i,error:o}=a;if(o||!i)return await Br(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(a){if(await Br(this.storage,`${this.storageKey}-code-verifier`),tt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:i,options:o}=t;r=await it(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:by})}else if("phone"in t){const{phone:a,password:i,options:o}=t;r=await it(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:by})}else throw new $u("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const a=new eo;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(tt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,a,i,o,l,c,u,h,p;let g,v;if("message"in t)g=t.message,v=t.signature;else{const{chain:x,wallet:y,statement:w,options:k}=t;let _;if(jr())if(typeof y=="object")_=y;else{const F=window;if("ethereum"in F&&typeof F.ethereum=="object"&&"request"in F.ethereum&&typeof F.ethereum.request=="function")_=F.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const b=new URL((r=k==null?void 0:k.url)!==null&&r!==void 0?r:window.location.href),T=await _.request({method:"eth_requestAccounts"}).then(F=>F).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=yS(T[0]);let S=(n=k==null?void 0:k.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!S){const F=await _.request({method:"eth_chainId"});S=JR(F)}const M={domain:b.host,address:E,statement:w,uri:b.href,version:"1",chainId:S,nonce:(s=k==null?void 0:k.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(i=(a=k==null?void 0:k.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(o=k==null?void 0:k.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=k==null?void 0:k.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=k==null?void 0:k.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=k==null?void 0:k.signInWithEthereum)===null||u===void 0?void 0:u.resources};g=XR(M),v=await _.request({method:"personal_sign",params:[YR(g),E]})}try{const{data:x,error:y}=await it(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:v},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:hs});if(y)throw y;if(!x||!x.session||!x.user){const w=new eo;return this._returnResult({data:{user:null,session:null},error:w})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:y})}catch(x){if(tt(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async signInWithSolana(t){var r,n,s,a,i,o,l,c,u,h,p,g;let v,x;if("message"in t)v=t.message,x=t.signature;else{const{chain:y,wallet:w,statement:k,options:_}=t;let b;if(jr())if(typeof w=="object")b=w;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))b=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=w}const T=new URL((r=_==null?void 0:_.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in b&&b.signIn){const E=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),k?{statement:k}:null));let S;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")S=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)S=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)v=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),x=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${T.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...k?["",k,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(s=(n=_==null?void 0:_.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((i=_==null?void 0:_.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((c=_==null?void 0:_.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((h=(u=_==null?void 0:_.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",..._.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const E=await b.signMessage(new TextEncoder().encode(v),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=E}}try{const{data:y,error:w}=await it(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:xi(x)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:hs});if(w)throw w;if(!y||!y.session||!y.user){const k=new eo;return this._returnResult({data:{user:null,session:null},error:k})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:w})}catch(y){if(tt(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(t){const r=await si(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new xR;const{data:a,error:i}=await it(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:hs});if(await Br(this.storage,`${this.storageKey}-code-verifier`),i)throw i;if(!a||!a.session||!a.user){const o=new eo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:i})}catch(a){if(await Br(this.storage,`${this.storageKey}-code-verifier`),tt(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:a,nonce:i}=t,o=await it(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:a,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:hs}),{data:l,error:c}=o;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new eo;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if(tt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,a,i;try{if("email"in t){const{email:o,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await to(this.storage,this.storageKey));const{error:h}=await it(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:o,options:l}=t,{data:c,error:u}=await it(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(i=l==null?void 0:l.channel)!==null&&i!==void 0?i:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u})}throw new $u("You must provide either an email or phone number.")}catch(o){if(await Br(this.storage,`${this.storageKey}-code-verifier`),tt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(t){var r,n;try{let s,a;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:o}=await it(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:hs});if(o)throw o;if(!i)throw new Error("An error occurred on token verification.");const l=i.session,c=i.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(tt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,a,i;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await to(this.storage,this.storageKey));const c=await it(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:VR});return!((a=c.data)===null||a===void 0)&&a.url&&jr()&&!(!((i=t.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(o){if(await Br(this.storage,`${this.storageKey}-code-verifier`),tt(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Nn;const{error:s}=await it(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(tt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:a}=t,{error:i}=await it(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:i})}else if("phone"in t){const{phone:n,type:s,options:a}=t,{data:i,error:o}=await it(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:o})}throw new $u("You must provide either an email or phone number and a type")}catch(r){if(tt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await si(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<oh:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const i=await si(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=uh()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const i={value:this.suppressGetSessionWarning};t.user=UR(t.user,i),i.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await it(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ka}):await this._useSession(async r=>{var n,s,a;const{data:i,error:o}=r;if(o)throw o;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Nn}:await it(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:ka})})}catch(r){if(tt(r))return lh(r)&&(await this._removeSession(),await Br(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:a}=n;if(a)throw a;if(!s.session)throw new Nn;const i=s.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await to(this.storage,this.storageKey));const{data:c,error:u}=await it(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:i.access_token,xform:ka});if(u)throw u;return i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),this._returnResult({data:{user:i.user},error:null})})}catch(n){if(await Br(this.storage,`${this.storageKey}-code-verifier`),tt(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Nn;const r=Date.now()/1e3;let n=r,s=!0,a=null;const{payload:i}=Hu(t.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{data:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});a={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(tt(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:o}=r;if(o)throw o;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Nn;const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(tt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!jr())throw new Vu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Vu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new gy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Vu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new gy("No code detected.");const{data:k,error:_}=await this._exchangeCodeForSession(t.code);if(_)throw _;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:a,refresh_token:i,expires_in:o,expires_at:l,token_type:c}=t;if(!a||!o||!i||!c)throw new Vu("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(o);let p=u+h;l&&(p=parseInt(l));const g=p-u;g*1e3<=uo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const v=p-h;u-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,p,u):u-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,p,u);const{data:x,error:y}=await this._getUser(a);if(y)throw y;const w={provider_token:n,provider_refresh_token:s,access_token:a,expires_in:h,expires_at:p,refresh_token:i,token_type:c,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:t.type},error:null})}catch(n){if(tt(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await si(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a&&!lh(a))return this._returnResult({error:a});const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:o}=await this.admin.signOut(i,t);if(o&&!(mR(o)&&(o.status===404||o.status===401||o.status===403)||lh(o)))return this._returnResult({error:o})}return t!=="others"&&(await this._removeSession(),await Br(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=SR(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:a},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await to(this.storage,this.storageKey,!0));try{return await it(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(await Br(this.storage,`${this.storageKey}-code-verifier`),tt(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(tt(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async a=>{var i,o,l,c,u;const{data:h,error:p}=a;if(p)throw p;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await it(this.fetch,"GET",g,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return jr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(tt(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:a}}=r;if(s)throw s;const{options:i,provider:o,token:l,access_token:c,nonce:u}=t,h=await it(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:hs}),{data:p,error:g}=h;return g?this._returnResult({data:{user:null,session:null},error:g}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new eo}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:g}))}catch(s){if(await Br(this.storage,`${this.storageKey}-code-verifier`),tt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:i}=r;if(i)throw i;return await it(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(tt(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await AR(async s=>(s>0&&await CR(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await it(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:hs})),(s,a)=>{const i=200*Math.pow(2,s);return a&&ch(a)&&Date.now()+i-n<uo})}catch(n){if(this._debug(r,"error",n),tt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),jr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await si(this.storage,this.storageKey);if(s&&this.userStorage){let i=await si(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await fo(this.userStorage,this.storageKey+"-user",i)),s.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:uh()}else if(s&&!s.user&&!s.user){const i=await si(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await Br(this.storage,this.storageKey+"-user"),await fo(this.storage,this.storageKey,s)):s.user=uh()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const a=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<oh;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${oh}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),ch(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:o}=await this._getUser(s.access_token);!o&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Nn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new p0;const{data:a,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!a.session)throw new Nn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={data:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(s,"error",a),tt(a)){const i={data:null,error:a};return ch(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],i=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(l){a.push(l)}});if(await Promise.all(i),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Br(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await fo(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const a=wy(s);await fo(this.storage,this.storageKey,a)}else{const s=wy(r);await fo(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Br(this.storage,this.storageKey),await Br(this.storage,this.storageKey+"-code-verifier"),await Br(this.storage,this.storageKey+"-user"),this.userStorage&&await Br(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&jr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),uo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/uo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${uo}ms, refresh threshold is ${Op} ticks`),s<=Op&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof vS)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!jr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,i]=await to(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);s.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?this._returnResult({data:null,error:a}):await it(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(tt(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:c}=await it(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(tt(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});const i=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?sP(t.webauthn.credential_response):aP(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:l}=await it(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:i,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(r){if(tt(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});const i=await it(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(i.error)return i;const{data:o}=i;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:rP(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:nP(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(tt(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(a),a.status==="verified"&&s[a.factor_type].push(a);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,s,a;if(t)try{const{payload:g}=Hu(t);let v=null;g.aal&&(v=g.aal);let x=v;const{data:{user:y},error:w}=await this.getUser(t);if(w)return this._returnResult({data:null,error:w});((n=(r=y==null?void 0:y.factors)===null||r===void 0?void 0:r.filter(b=>b.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(x="aal2");const _=g.amr||[];return{data:{currentLevel:v,nextLevel:x,currentAuthenticationMethods:_},error:null}}catch(g){if(tt(g))return this._returnResult({data:null,error:g});throw g}const{data:{session:i},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Hu(i.access_token);let c=null;l.aal&&(c=l.aal);let u=c;((a=(s=i.user.factors)===null||s===void 0?void 0:s.filter(g=>g.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(u="aal2");const p=l.amr||[];return{data:{currentLevel:c,nextLevel:u,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await it(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Nn})})}catch(r){if(tt(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new Nn});const i=await it(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return i.data&&i.data.redirect_url&&jr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(tt(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new Nn});const i=await it(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return i.data&&i.data.redirect_url&&jr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(tt(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await it(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Nn})})}catch(t){if(tt(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await it(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Nn})})}catch(r){if(tt(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+hR>s)return n;const{data:a,error:i}=await it(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,n=a.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:g,error:v}=await this.getSession();if(v||!g.session)return this._returnResult({data:null,error:v});n=g.session.access_token}const{header:s,payload:a,signature:i,raw:{header:o,payload:l}}=Hu(n);r!=null&&r.allowExpired||DR(a.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:a,header:s,signature:i},error:null}}const u=LR(s.alg),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,i,kR(`${o}.${l}`)))throw new jp("Invalid JWT signature");return{data:{claims:a,header:s,signature:i},error:null}}catch(n){if(tt(n))return this._returnResult({data:null,error:n});throw n}}}Fc.nextInstanceID={};const pP=Fc,mP="2.95.3";let Dl="";typeof Deno<"u"?Dl="deno":typeof document<"u"?Dl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Dl="react-native":Dl="node";const gP={"X-Client-Info":`supabase-js-${Dl}/${mP}`},xP={headers:gP},vP={schema:"public"},yP={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},_P={};function Mc(e){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mc(e)}function wP(e,t){if(Mc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kP(e){var t=wP(e,"string");return Mc(t)=="symbol"?t:t+""}function bP(e,t,r){return(t=kP(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ay(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ay(Object(r),!0).forEach(function(n){bP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ay(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const SP=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),EP=()=>Headers,TP=(e,t,r)=>{const n=SP(r),s=EP();return async(a,i)=>{var o;const l=(o=await t())!==null&&o!==void 0?o:e;let c=new s(i==null?void 0:i.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(a,lr(lr({},i),{},{headers:c}))}};function CP(e){return e.endsWith("/")?e:e+"/"}function AP(e,t){var r,n;const{db:s,auth:a,realtime:i,global:o}=e,{db:l,auth:c,realtime:u,global:h}=t,p={db:lr(lr({},l),s),auth:lr(lr({},c),a),realtime:lr(lr({},u),i),storage:{},global:lr(lr(lr({},h),o),{},{headers:lr(lr({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}function NP(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(CP(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var IP=class extends pP{constructor(e){super(e)}},RP=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const a=NP(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const i=`sb-${a.hostname.split(".")[0]}-auth-token`,o={db:vP,realtime:_P,auth:lr(lr({},yP),{},{storageKey:i}),global:xP},l=AP(r??{},o);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(u,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=l.auth)!==null&&c!==void 0?c:{},this.headers,l.global.fetch)}this.fetch=TP(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(lr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(u=>this.realtime.setAuth(u)).catch(u=>console.warn("Failed to set initial Realtime auth token:",u)),this.rest=new m3(new URL("rest/v1",a).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch,timeout:l.db.timeout,urlLengthLimit:l.db.urlLengthLimit}),this.storage=new lR(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new o3(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:a,flowType:i,lock:o,debug:l,throwOnError:c},u,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new IP({url:this.authUrl.href,headers:lr(lr({},p),u),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:i,lock:o,debug:l,throwOnError:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new P3(this.realtimeUrl.href,lr(lr({},e),{},{params:lr(lr({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const PP=(e,t,r)=>new RP(e,t,r);function FP(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}FP()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const MP="https://krgznynrljnvxwhvsdxj.supabase.co",DP="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtyZ3pueW5ybGpudnh3aHZzZHhqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYzMzI3MzMsImV4cCI6MjA4MTkwODczM30.OUjiO0YpbSHSfD9gQ6T6RugFNdGPvJPhMzTQBkbgI5c",It=PP(MP,DP,{auth:{persistSession:!0,autoRefreshToken:!0},db:{schema:"public"}}),uu=()=>{try{const e=localStorage.getItem("workflows");return e?JSON.parse(e):[]}catch{return[]}},wS=e=>{localStorage.setItem("workflows",JSON.stringify(e))},kS=()=>{try{const e=localStorage.getItem("cartable");return e?JSON.parse(e):[]}catch{return[]}},bS=e=>{localStorage.setItem("cartable",JSON.stringify(e))},LP=async(e,t)=>{try{const{data:r,error:n}=await It.from("messages").select("*").order("created_at",{ascending:!1});if(n)throw n;const a=(r||[]).map(l=>({id:l.id,senderId:l.sender_id,senderName:l.sender_name,receiverId:l.receiver_id,receiverType:l.receiver_type,subject:l.subject,body:l.body,createdAt:l.created_at,readBy:l.read_by||[],attachments:l.attachments||[]})),i=a.filter(l=>l.receiverType==="USER"&&l.receiverId===e||l.receiverType==="ALL"||l.receiverType==="GROUP"&&l.receiverId===t),o=a.filter(l=>l.senderId===e);return{inbox:i,sent:o}}catch(r){const n=JSON.stringify(r).toLowerCase(),s=((r==null?void 0:r.message)||"").toLowerCase();return!s.includes("failed to fetch")&&!s.includes("network request failed")&&!n.includes("failed to fetch")&&console.error("Error fetching messages:",r),{inbox:[],sent:[]}}},OP=async(e,t)=>{try{const{inbox:r}=await LP(e,t);return r.filter(n=>!n.readBy.includes(e)).length}catch{return 0}},lJ=async(e,t,r,n,s,a=[])=>{const i=`${Tn()} ${qd()}`,o=[];if(r==="USER"&&Array.isArray(t))t.forEach(c=>{o.push({sender_id:e.id,sender_name:e.fullName,receiver_id:c,receiver_type:"USER",subject:n,body:s,created_at:i,read_by:[],attachments:a})});else{const c=Array.isArray(t)?t[0]:t;o.push({sender_id:e.id,sender_name:e.fullName,receiver_id:c,receiver_type:r,subject:n,body:s,created_at:i,read_by:[],attachments:a})}const{error:l}=await It.from("messages").insert(o);if(l)throw l},cJ=async(e,t)=>{if(!e.readBy.includes(t)){const r=[...e.readBy,t];await It.from("messages").update({read_by:r}).eq("id",e.id)}},SS=async e=>{try{const{data:t,error:r}=await It.from(e).select("*");if(!r&&t&&!(e==="measurement_units"&&t.length===0))return t}catch{}return e==="measurement_units"?[{id:"1",title:""},{id:"2",title:""},{id:"3",title:""},{id:"4",title:""},{id:"5",title:""},{id:"6",title:""},{id:"7",title:""},{id:"8",title:""}]:[]},uJ=async()=>{try{const{data:e,error:t}=await It.from("shift_reports").select("id, tracking_code, shift_date, shift_name, shift_type, supervisor_name, total_production_a, total_production_b, full_data").order("created_at",{ascending:!1});if(t)throw t;return e||[]}catch(e){const t=((e==null?void 0:e.message)||"").toLowerCase(),r=JSON.stringify(e).toLowerCase();return!t.includes("failed to fetch")&&!r.includes("failed to fetch")&&console.error("Error fetching shift reports:",e),[]}},dJ=async e=>{try{const t=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;let r=e.shiftInfo.supervisor;(!r||!t.test(r))&&(r=null);const n={tracking_code:e.code,shift_date:e.shiftInfo.date,shift_name:e.shiftInfo.name,shift_type:e.shiftInfo.type,shift_duration:e.shiftInfo.shiftDuration,supervisor_id:r,supervisor_name:e.shiftInfo.supervisorName,total_production_a:e.totalA,total_production_b:e.totalB,full_data:e},{error:s}=await It.from("shift_reports").insert([n]);if(s)throw s;return!0}catch(t){throw console.error("Error saving shift report:",t),t}},ES=async e=>{try{const{data:t,error:r}=await It.rpc("get_next_tracking_code",{prefix_input:e});return r?e+Math.floor(Math.random()*9e3+1e3):t}catch{return e+Math.floor(Math.random()*9e3+1e3)}},fJ=async e=>{try{const{data:t,error:r}=await It.from("work_orders").select("tracking_code").ilike("tracking_code",`${e}%`).order("created_at",{ascending:!1}).limit(1);if(r)throw r;if(t&&t.length>0){const s=t[0].tracking_code.replace(e,""),a=parseInt(s,10)+1;if(!isNaN(a))return e+String(a).padStart(4,"0")}return e+"0001"}catch{return ES(e)}},UP=()=>{let e=uu();if(!e.find(t=>t.module==="WORK_ORDER")){const t={id:"default-wo-flow",module:"WORK_ORDER",title:"  ",isActive:!0,steps:[{id:"step-request",title:"",assigneeRole:"INITIATOR",description:"   ",actions:[{id:"act-submit",label:"  ",nextStepId:"step-inprogress",style:"primary"}]},{id:"step-inprogress",title:"  ",assigneeRole:_n.USER,description:"    ",actions:[{id:"act-finish",label:"     ",nextStepId:"step-verify",style:"success"}]},{id:"step-verify",title:"",assigneeRole:_n.MANAGER,description:"    ",actions:[{id:"act-approve",label:" ",nextStepId:"step-finish",style:"success"},{id:"act-reject",label:"  (  )",nextStepId:"step-inprogress",style:"danger"}]},{id:"step-finish",title:"",assigneeRole:_n.ADMIN,description:" ",actions:[{id:"act-close",label:" ",nextStepId:"FINISH",style:"neutral"}]}]};e.push(t),wS(e)}};UP();const hJ=()=>uu(),pJ=e=>{const t=uu(),r=t.findIndex(n=>n.id===e.id);r>=0?t[r]=e:t.push(e),wS(t)},mJ=(e,t,r,n,s)=>{let i=uu().find(u=>u.module===e&&u.isActive);i||(i={id:`dummy-${e}`,module:e,title:" ",isActive:!0,steps:[{id:"step-start",title:" ",assigneeRole:"INITIATOR",actions:[]}]});const o=i.steps[0],l={id:n3(),workflowId:i.id,trackingCode:n,module:e,title:s,description:`   ${r.fullName}`,currentStepId:o.id,initiatorId:r.id,assigneeRole:o.assigneeRole==="INITIATOR"?r.role:o.assigneeRole,status:"PENDING",createdAt:Tn(),updatedAt:Tn(),data:{...t,status:"REQUEST"}},c=kS();return c.push(l),bS(c),l},gJ=(e,t,r,n)=>{const s=kS(),a=s.findIndex(h=>h.id===e);if(a===-1)return;const i=s[a],l=uu().find(h=>h.id===i.workflowId);if(!l)return;const c=l.steps.find(h=>h.id===i.currentStepId);if(!c)return;const u=c.actions.find(h=>h.id===t);if(u){if(u.nextStepId==="FINISH")i.status="DONE",i.assigneeRole=_n.ADMIN,i.description=`   ${r.fullName}`,i.data&&(i.data.status="FINISHED");else{const h=l.steps.find(p=>p.id===u.nextStepId);if(h){i.currentStepId=h.id;const p=h.assigneeRole;p==="INITIATOR"?i.assigneeRole=_n.USER:i.assigneeRole=p,i.updatedAt=Tn(),i.description=`   ${h.assigneeRole}  ${r.fullName}`,i.module==="WORK_ORDER"&&(h.title===""?i.data.status="REQUEST":h.title==="  "?i.data.status="IN_PROGRESS":h.title===""?i.data.status="VERIFICATION":h.title===""&&(i.data.status="FINISHED"))}}s[a]=i,bS(s)}},BP=async(e,t)=>{try{const{data:r,error:n}=await It.from("cartable_items").select("module, assignee_role, initiator_id, assignee_id, data").eq("status","PENDING");if(n)throw n;return(r||[]).filter(a=>{var l;let i=!1;if(a.module==="WORK_ORDER")i=!0;else{const c=a.assignee_role===t,u=a.assignee_role==="INITIATOR"&&a.initiator_id===e,h=a.assignee_id===e;i=c||u||h}return i?!(((l=a.data)==null?void 0:l.seen_by)||[]).includes(e):!1}).length}catch(r){const n=((r==null?void 0:r.message)||"").toLowerCase(),s=((r==null?void 0:r.details)||"").toLowerCase(),a=JSON.stringify(r).toLowerCase();return n.includes("failed to fetch")||n.includes("network request failed")||n.includes("networkerror")||s.includes("failed to fetch")||a.includes("failed to fetch")||console.error("Error counting unread cartable:",JSON.stringify(r)),0}},xJ=async(e,t)=>{try{const{data:r,error:n}=await It.from("cartable_items").select("data").eq("id",e).single();if(n||!r)return;const s=r.data||{},a=s.seen_by||[];if(a.includes(t))return;const i=[...a,t],o={...s,seen_by:i};await It.from("cartable_items").update({data:o}).eq("id",e)}catch(r){const n=((r==null?void 0:r.message)||"").toLowerCase(),s=JSON.stringify(r).toLowerCase();!n.includes("failed to fetch")&&!s.includes("failed to fetch")&&console.error("Error marking item seen:",(r==null?void 0:r.message)||r)}},TS="report_definitions_fallback_v1",jP=(e,t)=>{if(!e)return t;try{return JSON.parse(e)}catch{return t}},Dc=()=>jP(localStorage.getItem(TS),[]),CS=e=>localStorage.setItem(TS,JSON.stringify(e)),AS=e=>String(e||"").trim().toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-_]/g,"").replace(/-+/g,"-").replace(/^-|-$/g,""),NS=async(e,t)=>{try{await It.from("system_logs").insert([{action:e,details:t}])}catch{}},IS=async(e,t,r,n)=>{try{await It.from("data_change_audit").insert([{table_name:"report_definitions",record_id:t,operation:e,changed_by:"app-local-user",old_data:r,new_data:n}])}catch{}},Xd=()=>{typeof window>"u"||window.dispatchEvent(new CustomEvent("report-definitions-changed"))},RS=async()=>{try{const{data:e,error:t}=await It.from("report_definitions").select("*").order("updated_at",{ascending:!1});if(t)throw t;const r=e||[],n=Dc();if(!n.length)return r;const s=new Map(r.map(a=>[a.slug,a]));for(const a of n){const i=s.get(a.slug),o=a.updated_at||"",l=(i==null?void 0:i.updated_at)||"";(!i||o>l)&&s.set(a.slug,a)}return Array.from(s.values()).sort((a,i)=>(i.updated_at||"").localeCompare(a.updated_at||""))}catch{return Dc()}},PS=async()=>(await RS()).filter(t=>t.is_active),$P=async e=>{const t=await PS(),r="/"+String(e||"").replace(/^\/+/,"");return t.find(n=>{var a;const s=(a=n.template_schema)==null?void 0:a.modulePath;return s&&"/"+String(s).replace(/^\/+/,"")===r})||null},bx=async e=>{const t=AS(e);try{const{data:r,error:n}=await It.from("report_definitions").select("*").eq("slug",t).maybeSingle();if(n)throw n;return r||null}catch{return Dc().find(r=>r.slug===t)||null}},VP=e=>typeof e=="string"&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e),HP=async e=>{const t=AS(e.slug),r=new Date().toISOString(),n=await bx(t),s={slug:t,title:e.title,category:e.category||"",is_active:e.is_active??!0,form_schema:e.form_schema??{tabs:[],fields:[],groups:[],sections:[]},list_schema:e.list_schema??{columns:[]},template_schema:e.template_schema||{moduleId:t},data_source:{mode:"generic",table:"report_records"},version:Math.max(1,((n==null?void 0:n.version)||0)+1),published_version:(n==null?void 0:n.published_version)||0,updated_at:r};e.id&&VP(e.id)&&(s.id=e.id);try{const{data:a,error:i}=await It.from("report_definitions").upsert([s],{onConflict:"slug"}).select("*").single();if(i)throw i;return await NS("    ",`slug=${t}`),await IS(n?"UPDATE":"INSERT",a.id,n||null,a),Xd(),{data:a,usedFallback:!1}}catch(a){console.error("     Supabase:",a);const i=Dc(),o=i.findIndex(u=>u.slug===t),l={id:e.id||`local-${Date.now()}`,slug:t,title:e.title,category:e.category||"",is_active:e.is_active??!0,form_schema:e.form_schema,list_schema:e.list_schema,template_schema:e.template_schema||{moduleId:t},data_source:{mode:"generic",table:"report_records"},version:Math.max(1,(o>=0?i[o].version:0)+1),published_version:o>=0?i[o].published_version:0,created_at:o>=0?i[o].created_at:r,updated_at:r};o>=0?i[o]=l:i.unshift(l),CS(i),Xd();const c=a instanceof Error?a.message:String(a);return{data:l,usedFallback:!0,error:c}}},GP=async e=>{const t=await bx(e);if(!t)throw new Error("    .");const r=Math.max(t.version,(t.published_version||0)+1),n={...t,published_version:r,template_schema:{...t.template_schema||{moduleId:t.slug},moduleId:t.slug}};try{const{data:s,error:a}=await It.from("report_definitions").update({published_version:r,template_schema:n.template_schema,is_active:!0}).eq("id",t.id).select("*").single();if(a)throw a;return await NS("  ",`slug=${e}, version=${r}`),await IS("UPDATE",t.id,t,s),Xd(),s}catch{const s=Dc(),a=s.findIndex(i=>i.slug===t.slug);if(a>=0)return s[a]={...s[a],published_version:r,is_active:!0},CS(s),Xd(),s[a];throw new Error("    fallback  .")}},Ua=({value:e,onChange:t,label:r,error:n,disableFuture:s=!0})=>{const[a,i]=V.useState(!1),[o,l]=V.useState(1403),[c,u]=V.useState(1),h=V.useRef(null);V.useEffect(()=>{if(e){const E=e.split("/").map(Number);E.length===3&&(l(E[0]),u(E[1]))}else{const E=Tn().split("/").map(Number);l(E[0]),u(E[1])}},[e,a]),V.useEffect(()=>{const E=S=>{h.current&&!h.current.contains(S.target)&&i(!1)};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]);const p=["","","","","","","","","","","",""],g=["","","","","","",""],v=(E,S)=>S<=6?31:S<=11||E%33===1||E%33===5||E%33===9||E%33===13||E%33===17||E%33===22||E%33===26||E%33===30?30:29,x=(E,S)=>{const{gy:M,gm:F,gd:z}=nS(E,S,1);return new Date(M,F-1,z).getDay()},y=()=>{c===1?(u(12),l(E=>E-1)):u(E=>E-1)},w=()=>{c===12?(u(1),l(E=>E+1)):u(E=>E+1)},k=E=>{const S=`${o}/${String(c).padStart(2,"0")}/${String(E).padStart(2,"0")}`;s&&ny(S)||(t(S),i(!1))},_=()=>{const E=Tn();t(E),i(!1)},b=(x(o,c)+1)%7,T=v(o,c);return d.jsxs("div",{className:"relative w-full",ref:h,children:[r&&d.jsx("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:r}),d.jsxs("button",{type:"button",onClick:()=>i(!a),className:`w-full h-11 flex items-center justify-between px-4 py-2.5 bg-white dark:bg-gray-700 rounded-xl border transition-all
        ${n?"border-red-500 text-red-500":"border-gray-200 dark:border-gray-600 text-gray-800 dark:text-gray-100 hover:border-primary/50"} ${a?"ring-2 ring-primary/20 border-primary shadow-sm":""}`,children:[d.jsx("span",{className:`${e?"text-sm font-medium":"text-gray-400 text-sm"}`,children:e||" ..."}),d.jsx(Hf,{className:"w-4 h-4 text-gray-400"})]}),a&&d.jsxs("div",{className:"absolute top-full left-0 z-50 mt-2 w-72 bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-100 dark:border-gray-600 p-4 animate-fadeIn",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("button",{onClick:y,className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition",children:d.jsx(su,{className:"w-4 h-4"})}),d.jsxs("span",{className:"font-bold text-sm text-gray-800 dark:text-gray-200",children:[p[c-1]," ",o]}),d.jsx("button",{onClick:w,className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition",children:d.jsx(Gf,{className:"w-4 h-4"})})]}),d.jsx("div",{className:"grid grid-cols-7 mb-2 text-center text-xs font-medium text-gray-400",children:g.map((E,S)=>d.jsx("span",{className:S===6?"text-red-500 font-bold":"",children:E},S))}),d.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:b}).map((E,S)=>d.jsx("div",{},`empty-${S}`)),Array.from({length:T}).map((E,S)=>{const M=S+1,F=`${o}/${String(c).padStart(2,"0")}/${String(M).padStart(2,"0")}`,z=e===F,Y=s&&ny(F),U=(b+S)%7===6;return d.jsx("button",{type:"button",disabled:Y,onClick:()=>k(M),className:`w-8 h-8 rounded-lg text-sm flex items-center justify-center transition-all
                     ${z?"bg-primary text-white shadow-md font-bold":Y?"text-gray-200 dark:text-gray-600 cursor-not-allowed":U?"text-red-500 font-medium hover:bg-red-50 dark:hover:bg-red-900/20":"hover:bg-primary/10 text-gray-700 dark:text-gray-300"}`,children:M},M)})]}),d.jsx("div",{className:"mt-4 pt-3 border-t border-gray-100 dark:border-gray-700",children:d.jsx("button",{type:"button",onClick:_,className:"w-full py-2 text-xs text-primary bg-primary/5 hover:bg-primary/10 rounded-lg font-medium transition-colors",children:"  "})})]})]})},tn=({value:e,onChange:t,label:r,error:n})=>{const[s,a]=V.useState(!1),[i,o]=V.useState("HOURS"),l=V.useRef(null),[c,u]=V.useState("00"),[h,p]=V.useState("00");V.useEffect(()=>{if(e&&e.includes(":")){const[_,b]=e.split(":");u(_),p(b)}},[e,s]),V.useEffect(()=>{const _=b=>{l.current&&!l.current.contains(b.target)&&a(!1)};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]);const g=_=>{u(_),o("MINUTES")},v=_=>{p(_),t(`${c}:${_}`),a(!1),o("HOURS")},x=(_,b,T)=>{const E=_*(360/b)-90,S=T*Math.cos(E*Math.PI/180),M=T*Math.sin(E*Math.PI/180);return{transform:`translate(${S}px, ${M}px)`}},y=[12,13,14,15,16,17,18,19,20,21,22,23],w=[12,1,2,3,4,5,6,7,8,9,10,11],k=[0,5,10,15,20,25,30,35,40,45,50,55];return d.jsxs("div",{className:"relative",ref:l,children:[r&&d.jsx("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:r}),d.jsxs("button",{type:"button",onClick:()=>a(!s),className:`w-full h-11 flex items-center justify-between px-4 py-2.5 bg-white dark:bg-gray-700 rounded-xl border transition-all
        ${n?"border-red-500 text-red-500":s?"ring-2 ring-primary/20 border-primary shadow-sm":"border-gray-200 dark:border-gray-600 hover:border-primary/50"}
        `,children:[d.jsx("span",{className:`font-mono text-lg tracking-wider ${e?"text-gray-800 dark:text-gray-100":"text-gray-400 font-sans text-sm tracking-normal"}`,children:e||"--:--"}),d.jsx(Yb,{className:"w-5 h-5 text-gray-400"})]}),n&&d.jsx("p",{className:"text-xs text-red-500 mt-1",children:n}),s&&d.jsxs("div",{className:"absolute top-full left-0 z-50 mt-2 w-64 bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-100 dark:border-gray-600 p-4 animate-fadeIn flex flex-col items-center",children:[d.jsxs("div",{className:"flex items-center justify-center gap-1 mb-6 text-4xl font-bold text-gray-700 dark:text-white",dir:"ltr",children:[d.jsx("button",{type:"button",onClick:()=>o("HOURS"),className:`p-1 rounded ${i==="HOURS"?"text-primary":"text-gray-300 dark:text-gray-600"}`,children:c}),d.jsx("span",{className:"text-gray-300 pb-2",children:":"}),d.jsx("button",{type:"button",onClick:()=>o("MINUTES"),className:`p-1 rounded ${i==="MINUTES"?"text-primary":"text-gray-300 dark:text-gray-600"}`,children:h})]}),d.jsxs("div",{className:"relative w-48 h-48 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center mb-4",children:[d.jsx("div",{className:"absolute w-1 h-1 bg-primary rounded-full z-10"}),i==="HOURS"&&d.jsxs(d.Fragment,{children:[y.map((_,b)=>{const T=_===12?"00":_,E=String(T).padStart(2,"0"),S=c===E;return d.jsx("button",{type:"button",onClick:()=>g(E),style:x(b,12,85),className:`absolute w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-all
                            ${S?"bg-primary text-white scale-110 shadow-lg z-20":"text-gray-500 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}
                          `,children:T},`out-${_}`)}),w.map((_,b)=>{const T=String(_).padStart(2,"0"),E=c===T;return d.jsx("button",{type:"button",onClick:()=>g(T),style:x(b,12,50),className:`absolute w-7 h-7 rounded-full flex items-center justify-center text-xs font-medium transition-all
                            ${E?"bg-primary text-white scale-110 shadow-lg z-20":"text-gray-400 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"}
                          `,children:_===12?"12":_},`in-${_}`)})]}),i==="MINUTES"&&d.jsxs(d.Fragment,{children:[k.map((_,b)=>{const T=String(_).padStart(2,"0"),E=h===T;return d.jsx("button",{type:"button",onClick:()=>v(T),style:x(b,12,80),className:`absolute w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-all
                            ${E?"bg-primary text-white scale-110 shadow-lg z-20":"text-gray-500 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}
                          `,children:T},`m-${_}`)}),d.jsx("div",{className:"absolute w-2 h-2 bg-gray-300 rounded-full"})]})]}),d.jsx("div",{className:"text-xs text-gray-400 text-center",children:i==="HOURS"?"   ":"   "})]})]})},WP={BASE_URL:"/newray/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GOOGLE_API_KEY:"AIzaSyBbrl8wKH28MYJn0yx2AZO6fqQUyhlm-KI",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtyZ3pueW5ybGpudnh3aHZzZHhqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYzMzI3MzMsImV4cCI6MjA4MTkwODczM30.OUjiO0YpbSHSfD9gQ6T6RugFNdGPvJPhMzTQBkbgI5c",VITE_SUPABASE_URL:"https://krgznynrljnvxwhvsdxj.supabase.co"},zP=({className:e})=>{const t=()=>{try{return`${typeof WP<"u"&&"/newray/"||"/"}logo.svg`.replace(/\/\//g,"/")}catch{return"/logo.svg"}};return d.jsx("img",{src:t(),className:e,alt:"Company Logo",onError:r=>{r.currentTarget.style.display="none"}})},qP=({children:e,user:t,onLogout:r,darkMode:n,toggleDarkMode:s})=>{var ve;const[a,i]=V.useState(!1),[o,l]=V.useState(!1),[c,u]=V.useState([]),[h,p]=V.useState(0),[g,v]=V.useState(0),[x,y]=V.useState(null),[w,k]=V.useState(!1),[_,b]=V.useState(""),[T,E]=V.useState(""),[S,M]=V.useState([]),[F,z]=V.useState(!1),[Y,U]=V.useState(null),re=fg();V.useEffect(()=>{t&&"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission()},[t]);const B=Of(),fe=B.pathname==="/login";V.useEffect(()=>{const H=async()=>{const D=await PS(),Ce=new Set(Np.flatMap(Ve=>(Ve.submenu||[]).map(Pe=>Pe.path))),Ae=D.filter(Ve=>{var Z;const Pe=(Z=Ve.template_schema)==null?void 0:Z.modulePath;return!Pe||!Ce.has("/"+String(Pe).replace(/^\/+/,""))}).map(Ve=>({id:`dyn-${Ve.slug}`,title:Ve.title,icon:$a,path:`/reports/${Ve.slug}`}));M(Ae)},he=()=>{H()};return H(),window.addEventListener("report-definitions-changed",he),()=>window.removeEventListener("report-definitions-changed",he)},[]);const we=V.useMemo(()=>Np.map(H=>{if(H.id!=="reports-group"||!H.submenu)return H;const he=new Set(H.submenu.map(Ce=>Ce.path)),D=[...H.submenu,...S.filter(Ce=>!he.has(Ce.path))];return{...H,submenu:D}}),[S]);V.useEffect(()=>{u([]),i(!1)},[t]),V.useEffect(()=>{if(B.pathname==="/"&&t){window.history.pushState(null,"",window.location.href);const H=()=>{window.history.pushState(null,"",window.location.href),z(!0)};return window.addEventListener("popstate",H),()=>{window.removeEventListener("popstate",H)}}},[B.pathname,t]),V.useEffect(()=>{we.forEach(H=>{H.submenu&&H.submenu.some(D=>D.path===B.pathname)&&!c.includes(H.id)&&u(D=>[...D,H.id])})},[B.pathname,we]),V.useEffect(()=>{if(!t)return;const H=async()=>{const Z=await OP(t.id,t.role);p(Z);const Te=await BP(t.id,t.role);v(Te),Ce()},he=()=>{try{const Z=new(window.AudioContext||window.webkitAudioContext),Te=Z.createOscillator(),He=Z.createGain();Te.connect(He),He.connect(Z.destination),Te.frequency.setValueAtTime(880,Z.currentTime),Te.frequency.setValueAtTime(1100,Z.currentTime+.15),Te.frequency.setValueAtTime(1320,Z.currentTime+.3),He.gain.setValueAtTime(.3,Z.currentTime),He.gain.exponentialRampToValueAtTime(.01,Z.currentTime+.4),Te.start(Z.currentTime),Te.stop(Z.currentTime+.4)}catch{new Audio("data:audio/wav;base64,UklGRl9vT19XQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YU"+"tv".repeat(100)).play().catch(()=>{})}},D=Z=>{const Te=Z.title||"",He=(Z.content||"      .").slice(0,100),qe=[Z.reminder_date,Z.reminder_time].filter(Boolean).join(" - ");if("Notification"in window&&Notification.permission==="granted"){const je=new Notification(" "+Te,{body:qe?`${He}
 ${qe}`:He,icon:"/favicon.ico",tag:"note-"+Z.id,requireInteraction:!0});je.onclick=()=>{window.focus(),je.close()}}},Ce=async()=>{try{const{data:Z}=await It.from("personal_notes").select("*").eq("user_id",t.id).eq("is_completed",!1).or("reminder_dismissed.is.null,reminder_dismissed.eq.false").not("reminder_date","is",null).not("reminder_time","is",null);if(Z&&Z.length>0){const Te=Tn(),He=qd(),qe=Z.find(je=>{const At=je.reminder_date||"",Nt=je.reminder_time||"",Be=At<Te,_e=At===Te,mt=Nt<=He;return Be||_e&&mt});if(qe){const je={id:qe.id,userId:qe.user_id,title:qe.title,content:qe.content,tags:qe.tags||[],reminderDate:qe.reminder_date,reminderTime:qe.reminder_time,isCompleted:qe.is_completed,createdAt:qe.created_at,reminderSeen:!1};y(je),he(),D(qe)}}}catch(Z){console.error("Reminder check failed",Z)}};H();const Ae=setTimeout(Ce,5e3),Ve=setInterval(H,3e4),Pe=setInterval(Ce,1e4);return()=>{clearTimeout(Ae),clearInterval(Ve),clearInterval(Pe)}},[t]),V.useEffect(()=>{if(!t)return;(async()=>{var he;try{const{data:D}=await It.from("app_settings").select("id, announcement_active, announcement_message, announcement_version").order("created_at",{ascending:!0}).limit(1),Ce=Array.isArray(D)?D[0]:null;if(!Ce||!Ce.announcement_active||!((he=Ce.announcement_message)!=null&&he.trim()))return;const Ae=Ce.announcement_version??1,{data:Ve}=await It.from("announcement_acknowledgments").select("acknowledged_version").eq("user_id",t.id).eq("app_settings_id",Ce.id).limit(1),Pe=Array.isArray(Ve)?Ve[0]:null,Z=(Pe==null?void 0:Pe.acknowledged_version)??0;Ae>Z&&U({message:Ce.announcement_message.trim(),settingsId:Ce.id,version:Ae})}catch(D){console.error("Announcement check failed",D)}})()},[t]);const J=async()=>{if(!(!Y||!t)){try{await It.from("announcement_acknowledgments").upsert({user_id:t.id,app_settings_id:Y.settingsId,acknowledged_version:Y.version,acknowledged_at:new Date().toISOString()},{onConflict:["user_id","app_settings_id"]})}catch(H){console.error("Announcement ack failed",H),alert("  .    .")}U(null)}},X=()=>{if(!x)return;const H=new Date,he=new Date(H);he.setDate(he.getDate()+1);const{jy:D,jm:Ce,jd:Ae}=sS(he.getFullYear(),he.getMonth()+1,he.getDate());b(`${D}/${String(Ce).padStart(2,"0")}/${String(Ae).padStart(2,"0")}`),E(x.reminderTime||qd()),k(!0)},W=()=>{k(!1),y(null)},pe=async()=>{if(x)try{await It.from("personal_notes").update({reminder_dismissed:!0}).eq("id",x.id),y(null),k(!1)}catch(H){console.error(H)}},Ee=async()=>{if(!x||!_||!T){alert("      .");return}try{await It.from("personal_notes").update({reminder_date:_,reminder_time:T,reminder_dismissed:!1}).eq("id",x.id),k(!1),y(null)}catch(H){console.error(H),alert("   .")}},I=async()=>{if(x)try{await It.from("personal_notes").update({is_completed:!0}).eq("id",x.id),y(null),k(!1),alert("  .")}catch(H){console.error(H)}},L=()=>{z(!1),r()};if(fe)return d.jsx(d.Fragment,{children:e});const G=H=>{if(H==="/")return"/";if(H.startsWith("/work-orders/"))return"/work-orders";if(H.startsWith("/admin/"))return"/admin";if(H.startsWith("/reports/"))return"/reports";if(H.startsWith("/report-template-preview")||we.find(Ce=>!Ce.submenu&&Ce.path===H))return"/";const D=we.find(Ce=>{var Ae;return(Ae=Ce.submenu)==null?void 0:Ae.some(Ve=>Ve.path===H)});if(D){const Ce={"reports-group":"/","base-info":"/admin","system-settings":"/system-config"};if(Ce[D.id])return Ce[D.id]}return"/"},q=()=>{const H=G(B.pathname);re(H)},ce=B.pathname==="/",ye=H=>{o?(l(!1),u([H])):u(he=>he.includes(H)?he.filter(D=>D!==H):[...he,H])},ge=H=>{H.submenu?ye(H.id):(re(H.path),i(!1))};return d.jsxs("div",{className:`flex h-screen w-full overflow-hidden ${n?"dark":""}`,children:[Y&&d.jsx("div",{className:"fixed inset-0 z-[105] flex items-center justify-center bg-black/50 backdrop-blur-sm animate-fadeIn p-4",children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden border-t-4 border-yellow-500",children:[d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center gap-3 text-yellow-600 dark:text-yellow-400 mb-4",children:[d.jsx("div",{className:"bg-yellow-100 dark:bg-yellow-900/20 p-3 rounded-full",children:d.jsx(lu,{className:"w-6 h-6"})}),d.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:" "})]}),d.jsx("p",{className:"text-gray-700 dark:text-gray-200 leading-relaxed whitespace-pre-wrap",children:Y.message})]}),d.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 p-4",children:d.jsxs("button",{onClick:J,className:"w-full py-3 bg-yellow-500 hover:bg-yellow-600 text-white font-bold rounded-xl transition flex items-center justify-center gap-2",children:[d.jsx(sh,{className:"w-5 h-5"})," "]})})]})}),x&&d.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-md p-4 animate-fadeIn overflow-y-auto",children:d.jsxs("div",{className:`bg-gradient-to-br from-amber-50 via-white to-orange-50 dark:from-amber-950/30 dark:via-gray-800 dark:to-orange-950/20 rounded-3xl shadow-2xl w-full border border-amber-200/60 dark:border-amber-700/40 ring-4 ring-amber-400/20 dark:ring-amber-500/10 my-8 ${w?"max-w-2xl min-h-[420px] overflow-visible":"max-w-lg overflow-hidden"}`,children:[d.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-amber-400/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),d.jsx("div",{className:"relative p-6 overflow-visible",children:w?d.jsxs(d.Fragment,{children:[d.jsx("h3",{className:"font-bold text-xl text-gray-800 dark:text-white mb-6",children:"    "}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[d.jsx("div",{className:"min-w-0",children:d.jsx(Ua,{label:" ",value:_,onChange:b,disableFuture:!1})}),d.jsx("div",{className:"min-w-0",children:d.jsx(tn,{label:"",value:T,onChange:E})})]})]}):d.jsx(d.Fragment,{children:d.jsxs("div",{className:"flex items-start gap-4",children:[d.jsx("div",{className:"flex-shrink-0 w-14 h-14 rounded-2xl bg-gradient-to-br from-amber-400 to-orange-500 flex items-center justify-center shadow-lg shadow-amber-500/30 animate-pulse",children:d.jsx($f,{className:"w-7 h-7 text-white"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("span",{className:"text-amber-600 dark:text-amber-400 text-xs font-bold uppercase tracking-wider",children:""}),d.jsx("h4",{className:"font-black text-xl text-gray-900 dark:text-white mt-1 mb-2 leading-tight",children:x.title}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm leading-relaxed mb-3 line-clamp-3",children:x.content||"      ."}),d.jsxs("div",{className:"flex items-center gap-2 text-amber-700 dark:text-amber-400 text-sm font-medium bg-amber-100/50 dark:bg-amber-900/20 rounded-xl px-3 py-2 w-fit",children:[d.jsx(Yb,{className:"w-4 h-4"}),x.reminderTime&&x.reminderDate?`${x.reminderTime} - ${x.reminderDate}`:x.reminderDate||x.reminderTime||""]})]})]})})}),d.jsx("div",{className:"p-4 flex flex-wrap gap-3 bg-gradient-to-r from-gray-50/80 to-amber-50/50 dark:from-gray-900/50 dark:to-amber-950/20 border-t border-amber-100 dark:border-amber-900/30",children:w?d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:()=>k(!1),className:"py-3 px-4 text-gray-600 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-xl font-bold text-sm transition-all flex items-center gap-1",children:[d.jsx(h4,{className:"w-4 h-4"})," "]}),d.jsx("button",{onClick:W,className:"flex-1 py-3 px-4 text-gray-600 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-xl font-bold text-sm transition-all",children:""}),d.jsxs("button",{onClick:Ee,className:"flex-1 py-3 px-4 bg-amber-500 hover:bg-amber-600 text-white rounded-xl font-bold text-sm transition-all flex items-center justify-center gap-2",children:[d.jsx(sh,{className:"w-5 h-5"})," "]})]}):d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:pe,className:"flex-1 py-3 px-4 bg-blue-500 hover:bg-blue-600 text-white rounded-xl font-bold text-sm transition-all hover:scale-[1.02] active:scale-[0.98] flex items-center justify-center gap-2",children:" "}),d.jsxs("button",{onClick:I,className:"flex-1 py-3 px-4 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white rounded-xl font-bold text-sm shadow-lg shadow-green-500/25 transition-all hover:scale-[1.02] active:scale-[0.98] flex items-center justify-center gap-2",children:[d.jsx(sh,{className:"w-5 h-5"}),"  "]}),d.jsx("button",{onClick:X,className:"flex-1 py-3 px-4 text-amber-700 dark:text-amber-300 bg-amber-100/80 dark:bg-amber-900/30 hover:bg-amber-200/80 dark:hover:bg-amber-800/40 rounded-xl font-bold text-sm transition-all hover:scale-[1.02] active:scale-[0.98]",children:"  "})]})})]})}),F&&d.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center bg-black/60 backdrop-blur-sm animate-fadeIn p-4",children:d.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-xs overflow-hidden transform transition-all scale-100",children:d.jsxs("div",{className:"p-6 text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(Qv,{className:"w-8 h-8 text-red-600"})}),d.jsx("h3",{className:"text-lg font-black text-gray-800 dark:text-white mb-2",children:"   "}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6 leading-relaxed",children:"        "}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:()=>z(!1),className:"flex-1 py-3 text-sm font-bold text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-xl transition",children:""}),d.jsx("button",{onClick:L,className:"flex-1 py-3 text-sm font-bold text-white bg-red-600 hover:bg-red-700 rounded-xl shadow-lg shadow-red-900/20 transition",children:" "})]})]})})}),a&&d.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 md:hidden",onClick:()=>i(!1)}),d.jsx("aside",{className:`
        fixed top-0 right-0 z-50 h-full bg-white dark:bg-gray-800 shadow-xl transition-all duration-300 ease-in-out border-l dark:border-gray-700
        ${a?"translate-x-0 w-64":"translate-x-full w-64"}
        md:relative md:translate-x-0 md:flex-shrink-0
        ${o?"md:w-20":"md:w-64"}
      `,children:d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsxs("div",{className:`p-4 border-b border-gray-200 dark:border-gray-700 flex items-center ${o?"justify-center":"justify-between"}`,children:[!o&&d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"transition-transform duration-300 hover:scale-110 hover:rotate-12 cursor-default",children:d.jsx(zP,{className:"w-9 h-9 object-contain flex-shrink-0"})}),d.jsx("h2",{className:"text-xl font-bold text-primary dark:text-red-400 whitespace-nowrap",children:""})]}),d.jsx("button",{onClick:()=>i(!1),className:"md:hidden",children:d.jsx(ki,{className:"w-6 h-6"})}),d.jsx("button",{onClick:()=>l(!o),className:"hidden md:block p-1.5 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500 transition-colors",title:o?"  ":" ",children:o?d.jsx(B4,{className:"w-5 h-5"}):d.jsx(U4,{className:"w-5 h-5"})})]}),d.jsxs("div",{onClick:()=>{re("/settings"),i(!1)},className:`
              p-4 border-b border-gray-100 dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors group relative flex items-center gap-3
              ${o?"justify-center":""}
            `,title:o?t==null?void 0:t.fullName:" ",children:[d.jsx("div",{className:"w-10 h-10 min-w-[2.5rem] rounded-full bg-gray-100 dark:bg-gray-700 text-gray-500 flex items-center justify-center overflow-hidden border-2 border-gray-200 dark:border-gray-600 group-hover:border-primary transition-all shadow-sm",children:t!=null&&t.avatar?d.jsx("img",{src:t.avatar,alt:"User",className:"w-full h-full object-cover"}):d.jsx(X4,{className:"w-5 h-5"})}),!o&&d.jsxs("div",{className:"overflow-hidden",children:[d.jsx("p",{className:"font-medium truncate text-sm group-hover:text-primary transition-colors",children:t==null?void 0:t.fullName}),d.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 truncate",children:t==null?void 0:t.role})]})]}),d.jsx("nav",{className:"flex-1 overflow-y-auto py-4 overflow-x-hidden no-scrollbar",children:we.map(H=>{var He,qe;if(H.id==="settings"||H.role&&(t==null?void 0:t.role)!==H.role&&(t==null?void 0:t.role)!=="ADMIN")return null;const he=!!H.submenu,D=c.includes(H.id),Ce=he&&((He=H.submenu)==null?void 0:He.some(je=>je.path===B.pathname)),Ae=!he&&B.pathname===H.path,Ve=H.id==="messages"&&h>0,Pe=H.id==="inbox"&&g>0,Z=Ve||Pe,Te=H.id==="messages"?h:g;return d.jsxs("div",{children:[d.jsxs("button",{onClick:()=>ge(H),title:o?H.title:"",className:`
                      w-full flex items-center gap-3 py-3 transition-colors relative group
                      ${o?"justify-center px-2":"px-6 text-right justify-between"}
                      ${Ae||Ce?"text-primary dark:text-red-400 bg-primary/5 dark:bg-primary/10":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}
                    `,children:[d.jsxs("div",{className:"flex items-center gap-3 relative",children:[d.jsxs("div",{className:"relative",children:[d.jsx(H.icon,{className:`w-5 h-5 flex-shrink-0 transition-transform ${Z?"animate-pulse":""} ${(Ae||Ce)&&!o?"scale-110":""}`}),Z&&o&&d.jsx("span",{className:"absolute -top-1 -left-1 w-2.5 h-2.5 bg-red-500 rounded-full border-2 border-white dark:border-gray-800"})]}),!o&&d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:`text-sm truncate ${Ae||Ce?"font-bold":"font-medium"}`,children:H.title}),Z&&d.jsx("span",{className:"bg-red-500 text-white text-[10px] px-1.5 py-0.5 rounded-full animate-bounce",children:Te})]})]}),!o&&he&&d.jsx(li,{className:`w-4 h-4 transition-transform duration-200 ${D?"rotate-180":""}`}),o&&d.jsxs("div",{className:"absolute right-full mr-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-50 shadow-lg flex items-center gap-2",children:[H.title,Z&&d.jsx("span",{className:"bg-red-500 text-white px-1.5 rounded-full text-[9px]",children:Te})]})]}),!o&&he&&D&&d.jsx("div",{className:"bg-gray-50 dark:bg-black/20 overflow-hidden transition-all",children:(qe=H.submenu)==null?void 0:qe.map(je=>{const At=B.pathname===je.path;return d.jsxs("button",{onClick:()=>{re(je.path),i(!1)},className:`
                                    w-full flex items-center gap-3 py-2.5 px-6 pr-12 text-right transition-colors
                                    ${At?"text-primary dark:text-red-400 font-bold":"text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200"}
                                  `,children:[d.jsx(je.icon,{className:"w-4 h-4"}),d.jsx("span",{className:"text-xs",children:je.title})]},je.id)})})]},H.id)})}),d.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 space-y-2",children:[d.jsxs("button",{onClick:s,title:o?n?" ":" ":"",className:`w-full flex items-center gap-3 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors ${o?"justify-center px-2":"px-4"}`,children:[n?d.jsx(o0,{className:"w-5 h-5"}):d.jsx(Zf,{className:"w-5 h-5"}),!o&&d.jsx("span",{className:"text-sm",children:n?" ":" "})]}),d.jsxs("button",{onClick:()=>z(!0),title:o?"":"",className:`w-full flex items-center gap-3 py-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors ${o?"justify-center px-2":"px-4"}`,children:[d.jsx(Qv,{className:"w-5 h-5"}),!o&&d.jsx("span",{className:"text-sm",children:""})]})]})]})}),d.jsxs("div",{className:"flex-1 flex flex-col h-full overflow-hidden bg-gray-50 dark:bg-gray-900 transition-all duration-300",children:[d.jsxs("header",{className:"bg-white dark:bg-gray-800 shadow-sm z-10 px-4 h-16 flex items-center justify-between flex-shrink-0 transition-all",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("button",{onClick:()=>i(!0),className:"md:hidden p-2 text-gray-600 dark:text-gray-300",children:d.jsx(O4,{className:"w-6 h-6"})}),!ce&&d.jsx("button",{onClick:q,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:d.jsx(su,{className:"w-6 h-6 text-gray-500"})}),d.jsx("h1",{className:"text-lg font-bold text-gray-800 dark:text-white truncate",children:((ve=we.flatMap(H=>H.submenu?H.submenu:H).find(H=>H.path===B.pathname))==null?void 0:ve.title)||(B.pathname==="/settings"?"":"")})]}),d.jsx("div",{className:"flex items-center gap-2"})]}),d.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 no-scrollbar pb-20 md:pb-6 relative",children:d.jsx(t3,{value:t,children:e})})]})]})};async function KP(e,t){if(!e)return[];const{data:r,error:n}=await It.from("user_column_preferences").select("visible_column_keys").eq("user_id",e).eq("page_key",t).maybeSingle();if(n)return[];const s=r==null?void 0:r.visible_column_keys;return Array.isArray(s)?s:[]}async function JP(e,t,r){e&&await It.from("user_column_preferences").upsert({user_id:e,page_key:t,visible_column_keys:r},{onConflict:["user_id","page_key"]})}function YP({data:e,columns:t,title:r,subtitle:n,icon:s,onAdd:a,extraActions:i,selectedIds:o,onSelect:l,isLoading:c=!1,onEdit:u,onDelete:h,onViewDetails:p,customRowActions:g,filterContent:v,columnVisibilityKey:x,userId:y}){const[w,k]=V.useState(e),[_,b]=V.useState(""),[T,E]=V.useState(1),[S,M]=V.useState(10),[F,z]=V.useState(!1),[Y,U]=V.useState({}),[re,B]=V.useState({}),[fe,we]=V.useState(null),J=V.useRef(null),X=(de,Le)=>de.sortKey||de.header||`col_${Le}`,W=V.useMemo(()=>new Set(t.map((de,Le)=>X(de,Le))),[t]),pe=()=>{const de=new Set(W);if(!x||typeof localStorage>"u")return de;try{const Le=localStorage.getItem(`columnVisibility_${x}`);if(Le){const Qe=JSON.parse(Le),at=new Set(Qe.filter(bt=>de.has(bt)));return de.forEach(bt=>{Qe.includes(bt)||at.add(bt)}),at}}catch{}return de},[Ee,I]=V.useState(pe),[L,G]=V.useState(!1),[q,ce]=V.useState({x:0,y:0}),ye=V.useRef(null);V.useEffect(()=>{if(!y||!x){I(pe);return}let de=!1;return KP(y,x).then(Le=>{if(de)return;const Qe=new Set(t.map((bt,Rr)=>X(bt,Rr))),at=new Set(Le.filter(bt=>Qe.has(bt)));Qe.forEach(bt=>{Le.includes(bt)||at.add(bt)}),I(at)}).catch(()=>{de||I(pe)}),()=>{de=!0}},[y,x,t.length]);const ge=de=>{if(y&&x&&JP(y,x,de).catch(()=>{}),x&&typeof localStorage<"u")try{localStorage.setItem(`columnVisibility_${x}`,JSON.stringify(de))}catch{}},ve=de=>{I(Le=>{const Qe=new Set(Le);if(Qe.has(de)){if(Qe.size<=1)return Le;Qe.delete(de)}else Qe.add(de);return ge([...Qe]),Qe})},H=()=>{const de=[...W];I(new Set(de)),ge(de)},he=V.useMemo(()=>t.filter((de,Le)=>Ee.has(X(de,Le))),[t,Ee]),[D,Ce]=V.useState([]),Ae=o||D,Ve=l||Ce,[Pe,Z]=V.useState(()=>{const de=t.find(Le=>Le.sortKey);return de?{key:de.sortKey,direction:"desc"}:null}),Te=(de,Le)=>Le?Le.split(".").reduce((Qe,at)=>Qe?Qe[at]:null,de):"",He=de=>de==null?"":typeof de=="string"||typeof de=="number"||typeof de=="boolean"?String(de):Array.isArray(de)?de.map(He).join(" "):typeof de=="object"?Object.values(de).map(He).join(" "):"";V.useEffect(()=>{const de=Le=>{J.current&&!J.current.contains(Le.target)&&we(null),ye.current&&!ye.current.contains(Le.target)&&G(!1)};return document.addEventListener("mousedown",de),()=>document.removeEventListener("mousedown",de)},[]);const qe=V.useMemo(()=>{const de={};return t.forEach(Le=>{if(Le.sortKey){const Qe=Le.sortKey,at=new Set(e.map(bt=>String(Te(bt,Qe)||"")));de[Qe]=Array.from(at).filter(Boolean).sort()}}),de},[e,t]);V.useEffect(()=>{let de=[...e];if(_){const Le=_.toLowerCase();de=de.filter(Qe=>He(Qe).toLowerCase().includes(Le))}Object.keys(Y).forEach(Le=>{if(Y[Le]){const Qe=Y[Le].toLowerCase();de=de.filter(at=>String(Te(at,Le)||"").toLowerCase().includes(Qe))}}),Object.keys(re).forEach(Le=>{re[Le]&&re[Le].length>0&&(de=de.filter(Qe=>re[Le].includes(String(Te(Qe,Le)||""))))}),Pe&&de.sort((Le,Qe)=>{const at=Te(Le,Pe.key),bt=Te(Qe,Pe.key);if(at===bt)return 0;if(at==null)return 1;if(bt==null)return-1;if(!isNaN(Number(at))&&!isNaN(Number(bt))&&typeof at!="boolean")return Pe.direction==="asc"?Number(at)-Number(bt):Number(bt)-Number(at);const Rr=String(at).localeCompare(String(bt));return Pe.direction==="asc"?Rr:-Rr}),k(de),T!==1&&E(1)},[e,_,Y,re,Pe]);const je=de=>{let Le="asc";Pe&&Pe.key===de&&Pe.direction==="asc"&&(Le="desc"),Z({key:de,direction:Le})},At=()=>{b(""),U({}),B({})},Nt=(de,Le)=>{B(Qe=>{const at=Qe[de]||[];if(at.includes(Le)){const bt=at.filter(Rr=>Rr!==Le);return bt.length>0?{...Qe,[de]:bt}:{...Qe,[de]:[]}}else return{...Qe,[de]:[...at,Le]}})},Be=de=>{const Le=qe[de]||[];(re[de]||[]).length===Le.length?B(at=>({...at,[de]:[]})):B(at=>({...at,[de]:Le}))},_e=(T-1)*S,mt=_e+S,er=w.slice(_e,mt),Lt=Math.ceil(w.length/S)||1,Ir=de=>{let Le=parseInt(de.target.value);(isNaN(Le)||Le<1)&&(Le=1),Le>Lt&&(Le=Lt),E(Le)},ct=()=>{w.length>0&&Ae.length===w.length?Ve([]):Ve(w.map(de=>de.id))},Xe=de=>{Ae.includes(de)?Ve(Ae.filter(Le=>Le!==de)):Ve([...Ae,de])},gt=he.length+1,yt=de=>{de.preventDefault(),ce({x:de.clientX,y:de.clientY}),G(!0)},Gt=_||Object.keys(Y).some(de=>Y[de])||Object.keys(re).some(de=>{var Le;return((Le=re[de])==null?void 0:Le.length)>0});return d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:d.jsxs("div",{className:"flex items-center gap-2",children:[s&&d.jsx("div",{className:"bg-white dark:bg-gray-800 p-2 rounded-lg shadow-sm",children:d.jsx(s,{className:"w-6 h-6 text-primary"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:r}),n?d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:n}):r&&d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["  ",r]})]})]})}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden",children:[d.jsxs("div",{className:"p-4 flex flex-col md:flex-row items-center gap-4 justify-between",children:[d.jsxs("div",{className:"relative flex-1 w-full md:max-w-md",children:[d.jsx(Ss,{className:"absolute right-3 top-2.5 w-5 h-5 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"   ...",value:_,onChange:de=>b(de.target.value),className:"w-full pr-10 pl-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg outline-none focus:ring-2 focus:ring-primary transition-all"})]}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2 w-full md:w-auto justify-end",children:[i,v&&d.jsx("button",{onClick:()=>z(!F),className:`p-2 rounded-lg border transition ${F?"bg-primary/10 border-primary text-primary":"bg-gray-50 dark:bg-gray-700 border-gray-200 dark:border-gray-600 text-gray-500"}`,title:" ",children:d.jsx(zf,{className:"w-5 h-5"})}),a&&d.jsx("button",{onClick:a,className:"p-2 bg-cyan-50 text-cyan-600 rounded-lg hover:bg-cyan-100 transition",title:" ",children:d.jsx(Oa,{className:"w-5 h-5"})}),Gt&&d.jsx("button",{onClick:At,className:"p-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition border border-red-100",title:"  ",children:d.jsx(N4,{className:"w-5 h-5"})}),d.jsx("button",{onClick:de=>{ce({x:de.clientX,y:de.clientY}),G(!0)},className:"p-2 rounded-lg border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-600 transition",title:"    (    )",children:d.jsx(Yv,{className:"w-5 h-5"})})]})]}),F&&v&&d.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 border-t border-gray-100 dark:border-gray-700 p-4 animate-fadeIn",children:v})]}),L&&d.jsxs("div",{ref:ye,className:"fixed z-[100] bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-gray-200 dark:border-gray-600 py-2 min-w-[200px] animate-fadeIn",style:{left:q.x,top:q.y},children:[d.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b dark:border-gray-700",children:[d.jsxs("span",{className:"text-xs font-bold text-gray-600 dark:text-gray-400 flex items-center gap-2",children:[d.jsx(Yv,{className:"w-4 h-4"}),"   "]}),d.jsx("button",{type:"button",onClick:H,className:"text-[10px] text-blue-500 hover:underline",children:""})]}),d.jsx("div",{className:"max-h-64 overflow-y-auto py-2 custom-scrollbar",children:t.map((de,Le)=>{const Qe=X(de,Le),at=Ee.has(Qe);return d.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer text-sm",children:[d.jsx("input",{type:"checkbox",checked:at,onChange:()=>ve(Qe),className:"rounded text-primary focus:ring-primary w-4 h-4"}),d.jsx("span",{children:de.header})]},Qe)})})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden border border-gray-100 dark:border-gray-700 relative",children:[d.jsx("div",{className:"overflow-x-auto min-h-[520px]",children:d.jsxs("table",{className:"w-full text-right text-sm",children:[d.jsxs("thead",{className:"bg-orange-100 dark:bg-orange-900/30 text-gray-800 dark:text-gray-200 font-medium border-b dark:border-gray-600",onContextMenu:yt,children:[d.jsxs("tr",{className:"cursor-context-menu",title:"     ",children:[d.jsx("th",{className:"px-3 pt-3 pb-0.5 w-10 border-l border-gray-200 dark:border-gray-700/50",children:d.jsx("button",{type:"button",onClick:ct,className:"inline-flex items-center justify-center focus:outline-none rounded-full translate-y-4","aria-pressed":w.length>0&&Ae.length===w.length,title:w.length>0&&Ae.length===w.length?"  ":" ",children:w.length>0&&Ae.length===w.length?d.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5",children:d.jsxs("svg",{className:"w-5 h-5 text-blue-500 overflow-visible translate-x-px -translate-y-px",viewBox:"0 0 18 18",fill:"none","aria-hidden":"true",children:[d.jsx("circle",{cx:"9",cy:"9",r:"7",stroke:"currentColor",strokeWidth:"1.6"}),d.jsx("path",{d:"M12.5 4L14.9 6.2",stroke:"white",strokeWidth:"2.4",strokeLinecap:"round"}),d.jsx("path",{d:"M4.8 9.5L7.6 12.2L17 3.2",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round"})]})}):d.jsx("span",{className:"w-5 h-5 rounded border border-gray-300 bg-white dark:bg-gray-800"})})}),he.map((de,Le)=>{var at,bt,Rr,ls;const Qe=de.sortKey&&((at=re[de.sortKey])==null?void 0:at.length)>0;return d.jsx("th",{className:"px-3 pt-3 pb-0.5 whitespace-nowrap min-w-[150px] border-l border-gray-200 dark:border-gray-700/50 last:border-l-0",children:d.jsxs("div",{className:"flex items-center justify-between gap-2",children:[d.jsxs("div",{className:`flex items-center gap-1 cursor-pointer select-none ${de.sortKey?"hover:text-primary":""}`,onClick:()=>de.sortKey&&je(de.sortKey),children:[de.header,de.sortKey&&d.jsx("span",{className:"text-gray-400",children:(Pe==null?void 0:Pe.key)===de.sortKey?Pe.direction==="asc"?d.jsx(m4,{className:"w-3 h-3"}):d.jsx(f4,{className:"w-3 h-3"}):d.jsx(p4,{className:"w-3 h-3 opacity-30"})})]}),de.sortKey&&d.jsxs("div",{className:"relative",children:[d.jsx("button",{onClick:Ur=>{Ur.stopPropagation(),we(fe===de.sortKey?null:de.sortKey)},className:`p-1 rounded-full hover:bg-gray-200 dark:hover:bg-gray-600 transition ${Qe?"text-blue-500 bg-blue-50 dark:bg-blue-900/20":"text-gray-400"}`,children:d.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${Qe?"bg-blue-500":"bg-gray-400"}`})}),fe===de.sortKey&&d.jsxs("div",{ref:J,className:"absolute top-6 left-0 z-50 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-600 animate-fadeIn p-2",children:[d.jsxs("div",{className:"flex items-center justify-between border-b dark:border-gray-700 pb-2 mb-2",children:[d.jsx("span",{className:"text-xs font-bold text-gray-500",children:" "}),d.jsx("button",{onClick:()=>Be(de.sortKey),className:"text-[10px] text-blue-500 hover:underline",children:((bt=re[de.sortKey])==null?void 0:bt.length)===((Rr=qe[de.sortKey])==null?void 0:Rr.length)?" ":" "})]}),d.jsxs("div",{className:"max-h-48 overflow-y-auto space-y-1 custom-scrollbar",children:[(ls=qe[de.sortKey])==null?void 0:ls.map(Ur=>{var cs;return d.jsxs("label",{className:"flex items-center gap-2 px-2 py-1.5 hover:bg-gray-50 dark:hover:bg-gray-700 rounded cursor-pointer text-xs",children:[d.jsx("input",{type:"checkbox",checked:((cs=re[de.sortKey])==null?void 0:cs.includes(Ur))||!1,onChange:()=>Nt(de.sortKey,Ur),className:"rounded text-primary focus:ring-primary w-3.5 h-3.5"}),d.jsx("span",{className:"truncate",title:Ur,children:Ur})]},Ur)}),(!qe[de.sortKey]||qe[de.sortKey].length===0)&&d.jsx("div",{className:"text-center text-gray-400 text-xs py-2",children:"  "})]})]})]})]})},Le)})]}),d.jsxs("tr",{className:"bg-gray-50/50 dark:bg-gray-800/50",children:[d.jsx("th",{className:"pt-0.5 pb-2 px-2 border-l border-gray-200 dark:border-gray-700/50"}),he.map((de,Le)=>d.jsx("th",{className:"pt-0.5 pb-2 px-2 border-l border-gray-200 dark:border-gray-700/50 last:border-l-0",children:de.sortKey&&d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",className:"w-full text-xs p-1.5 pr-7 border border-gray-200 dark:border-gray-600 rounded bg-white dark:bg-gray-700 outline-none focus:border-primary",value:Y[de.sortKey]||"",onChange:Qe=>U(at=>({...at,[de.sortKey]:Qe.target.value}))}),d.jsx(Ss,{className:"w-3 h-3 text-gray-400 absolute right-2 top-2"}),Y[de.sortKey]&&d.jsx("button",{onClick:()=>U(Qe=>({...Qe,[de.sortKey]:""})),className:"absolute left-1 top-1.5 text-gray-400 hover:text-red-500",children:d.jsx(ki,{className:"w-3 h-3"})})]})},`search-${Le}`))]})]}),d.jsx("tbody",{className:"divide-y dark:divide-gray-700",children:c?d.jsx("tr",{children:d.jsx("td",{colSpan:gt,className:"p-12 text-center text-gray-400",children:d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx(al,{className:"w-8 h-8 animate-spin text-primary"}),d.jsx("span",{children:"   ..."})]})})}):er.length>0?er.map((de,Le)=>d.jsxs("tr",{onClick:()=>Xe(de.id),className:`
                                    cursor-pointer transition-colors duration-150 border-b border-gray-100 dark:border-gray-800
                                    ${Ae.includes(de.id)?"bg-blue-50/80 dark:bg-blue-900/30":Le%2===0?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-800/50"}
                                    hover:bg-blue-50/50 dark:hover:bg-blue-900/20
                                `,children:[d.jsx("td",{className:"p-4 border-l border-gray-100 dark:border-gray-700/50",children:d.jsx("button",{type:"button",onClick:Qe=>{Qe.stopPropagation(),Xe(de.id)},className:"inline-flex items-center justify-center focus:outline-none rounded-full","aria-pressed":Ae.includes(de.id),title:Ae.includes(de.id)?" ":"",children:Ae.includes(de.id)?d.jsx("span",{className:"inline-flex items-center justify-center w-4 h-4",children:d.jsxs("svg",{className:"w-4 h-4 text-blue-500 overflow-visible translate-x-px -translate-y-px",viewBox:"0 0 18 18",fill:"none","aria-hidden":"true",children:[d.jsx("circle",{cx:"9",cy:"9",r:"7",stroke:"currentColor",strokeWidth:"1.6"}),d.jsx("path",{d:"M12.5 4L14.9 6.2",stroke:"white",strokeWidth:"2.4",strokeLinecap:"round"}),d.jsx("path",{d:"M4.8 9.5L7.6 12.2L17 3.2",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round"})]})}):d.jsx("span",{className:"w-4 h-4 rounded border border-gray-300 bg-white dark:bg-gray-800"})})}),he.map((Qe,at)=>d.jsx("td",{className:"p-4 whitespace-nowrap border-l border-gray-100 dark:border-gray-700/50 last:border-l-0",children:Qe.accessor(de)},at))]},de.id||Le)):d.jsx("tr",{children:d.jsx("td",{colSpan:gt,className:"p-12 text-center text-gray-400",children:"  ."})})})]})}),d.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 border-t dark:border-gray-700 p-4 flex flex-col md:flex-row justify-between items-center gap-4",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[d.jsx("span",{children:""}),d.jsxs("select",{value:S,onChange:de=>{M(Number(de.target.value)),E(1)},className:"bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded p-1 outline-none",children:[d.jsx("option",{value:10,children:"10"}),d.jsx("option",{value:50,children:"50"}),d.jsx("option",{value:100,children:"100"}),d.jsx("option",{value:200,children:"200"})]}),d.jsx("span",{children:"   "}),d.jsxs("span",{className:"mr-2 px-2 border-r border-gray-300 dark:border-gray-600 font-bold",children:[": ",w.length," "]})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("button",{disabled:T===1,onClick:()=>E(1),className:"p-2 border rounded-lg hover:bg-white dark:hover:bg-gray-700 disabled:opacity-30 transition bg-white dark:bg-gray-800 dark:border-gray-600",title:" ",children:d.jsx(b4,{className:"w-4 h-4 rtl:rotate-180"})}),d.jsx("button",{disabled:T===1,onClick:()=>E(de=>de-1),className:"p-2 border rounded-lg hover:bg-white dark:hover:bg-gray-700 disabled:opacity-30 transition bg-white dark:bg-gray-800 dark:border-gray-600",title:" ",children:d.jsx(su,{className:"w-4 h-4 rtl:rotate-180"})}),d.jsxs("div",{className:"flex items-center gap-2 px-2",children:[d.jsx("span",{className:"text-sm font-medium",children:""}),d.jsx("input",{type:"number",min:1,max:Lt,value:T,onChange:Ir,className:"w-12 text-center p-1 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-sm font-bold outline-none focus:ring-2 focus:ring-primary"}),d.jsxs("span",{className:"text-sm font-medium text-gray-500",children:[" ",Lt]})]}),d.jsx("button",{disabled:T>=Lt,onClick:()=>E(de=>de+1),className:"p-2 border rounded-lg hover:bg-white dark:hover:bg-gray-700 disabled:opacity-30 transition bg-white dark:bg-gray-800 dark:border-gray-600",title:" ",children:d.jsx(Gf,{className:"w-4 h-4 rtl:rotate-180"})}),d.jsx("button",{disabled:T>=Lt,onClick:()=>E(Lt),className:"p-2 border rounded-lg hover:bg-white dark:hover:bg-gray-700 disabled:opacity-30 transition bg-white dark:bg-gray-800 dark:border-gray-600",title:" ",children:d.jsx(k4,{className:"w-4 h-4 rtl:rotate-180"})})]})]})]})]})}const XP=({isOpen:e,onClose:t,onConfirm:r,title:n=" ",message:s="           .",confirmText:a="  ",cancelText:i="",variant:o="danger"})=>e?d.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fadeIn",children:d.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden transform scale-100 transition-all animate-scaleIn border border-gray-100 dark:border-gray-700",role:"dialog","aria-modal":"true",children:d.jsxs("div",{className:"p-6 text-center",children:[d.jsx("div",{className:`mx-auto w-20 h-20 rounded-full flex items-center justify-center mb-6 shadow-lg ${o==="danger"?"bg-red-50 dark:bg-red-900/20 text-red-600":"bg-orange-50 dark:bg-orange-900/20 text-orange-600"}`,children:o==="danger"?d.jsx(hn,{className:"w-10 h-10"}):d.jsx(nl,{className:"w-10 h-10"})}),d.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:n}),d.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm leading-relaxed mb-8",children:s}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:t,className:"flex-1 px-4 py-3 bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-xl font-bold transition-colors",children:i}),d.jsx("button",{onClick:r,className:`flex-1 px-4 py-3 text-white rounded-xl font-bold shadow-lg transition-transform active:scale-95 ${o==="danger"?"bg-red-600 hover:bg-red-700 shadow-red-200 dark:shadow-none":"bg-orange-600 hover:bg-orange-700"}`,children:a})]})]})})}):null;/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Qd={};Qd.version="0.18.5";var FS=1252,QP=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],Sx={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},Ex=function(e){QP.indexOf(e)!=-1&&(FS=Sx[0]=e)};function ZP(){Ex(1252)}var _s=function(e){Ex(e)};function Tx(){_s(1200),ZP()}function Ny(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function eF(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function MS(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var Ll=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?eF(e.slice(2)):t==254&&r==255?MS(e.slice(2)):t==65279?e.slice(1):e},Gu=function(t){return String.fromCharCode(t)},Iy=function(t){return String.fromCharCode(t)},Lc,Ta="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Oc(e){for(var t="",r=0,n=0,s=0,a=0,i=0,o=0,l=0,c=0;c<e.length;)r=e.charCodeAt(c++),a=r>>2,n=e.charCodeAt(c++),i=(r&3)<<4|n>>4,s=e.charCodeAt(c++),o=(n&15)<<2|s>>6,l=s&63,isNaN(n)?o=l=64:isNaN(s)&&(l=64),t+=Ta.charAt(a)+Ta.charAt(i)+Ta.charAt(o)+Ta.charAt(l);return t}function jn(e){var t="",r=0,n=0,s=0,a=0,i=0,o=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<e.length;)a=Ta.indexOf(e.charAt(c++)),i=Ta.indexOf(e.charAt(c++)),r=a<<2|i>>4,t+=String.fromCharCode(r),o=Ta.indexOf(e.charAt(c++)),n=(i&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),l=Ta.indexOf(e.charAt(c++)),s=(o&3)<<6|l,l!==64&&(t+=String.fromCharCode(s));return t}var Et=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),oa=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Va(e){return Et?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function Ry(e){return Et?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Dn=function(t){return Et?oa(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function m0(e){if(typeof ArrayBuffer>"u")return Dn(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function Xa(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function tF(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function Cx(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return Cx(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var Mr=Et?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:oa(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),s=0;for(t=0,r=0;t<e.length;r+=s,++t)if(s=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function rF(e){for(var t=[],r=0,n=e.length+250,s=Va(e.length+255),a=0;a<e.length;++a){var i=e.charCodeAt(a);if(i<128)s[r++]=i;else if(i<2048)s[r++]=192|i>>6&31,s[r++]=128|i&63;else if(i>=55296&&i<57344){i=(i&1023)+64;var o=e.charCodeAt(++a)&1023;s[r++]=240|i>>8&7,s[r++]=128|i>>2&63,s[r++]=128|o>>6&15|(i&3)<<4,s[r++]=128|o&63}else s[r++]=224|i>>12&15,s[r++]=128|i>>6&63,s[r++]=128|i&63;r>n&&(t.push(s.slice(0,r)),r=0,s=Va(65535),n=65530)}return t.push(s.slice(0,r)),Mr(t)}var mn=/\u0000/g,Ol=/[\u0001-\u0006]/g;function Uo(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function ws(e,t){var r=""+e;return r.length>=t?r:ur("0",t-r.length)+r}function Ax(e,t){var r=""+e;return r.length>=t?r:ur(" ",t-r.length)+r}function Zd(e,t){var r=""+e;return r.length>=t?r:r+ur(" ",t-r.length)}function nF(e,t){var r=""+Math.round(e);return r.length>=t?r:ur("0",t-r.length)+r}function sF(e,t){var r=""+e;return r.length>=t?r:ur("0",t-r.length)+r}var Py=Math.pow(2,32);function ao(e,t){if(e>Py||e<-Py)return nF(e,t);var r=Math.round(e);return sF(r,t)}function ef(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var Fy=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],fh=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function aF(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var ot={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},My={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},iF={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function tf(e,t,r){for(var n=e<0?-1:1,s=e*n,a=0,i=1,o=0,l=1,c=0,u=0,h=Math.floor(s);c<t&&(h=Math.floor(s),o=h*i+a,u=h*c+l,!(s-h<5e-8));)s=1/(s-h),a=i,i=o,l=c,c=u;if(u>t&&(c>t?(u=l,o=a):(u=c,o=i)),!r)return[0,n*o,u];var p=Math.floor(n*o/u);return[p,n*o-p*u,u]}function vi(e,t,r){if(e>2958465||e<0)return null;var n=e|0,s=Math.floor(86400*(e-n)),a=0,i=[],o={D:n,T:s,u:86400*(e-n)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++s==86400&&(o.T=s=0,++n,++o.D)),n===60)i=r?[1317,10,29]:[1900,2,29],a=3;else if(n===0)i=r?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),i=[l.getFullYear(),l.getMonth()+1,l.getDate()],a=l.getDay(),n<60&&(a=(a+6)%7),r&&(a=fF(l,i))}return o.y=i[0],o.m=i[1],o.d=i[2],o.S=s%60,s=Math.floor(s/60),o.M=s%60,s=Math.floor(s/60),o.H=s,o.q=a,o}var DS=new Date(1899,11,31,0,0,0),oF=DS.getTime(),lF=new Date(1900,2,1,0,0,0);function LS(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=lF&&(r+=24*60*60*1e3),(r-(oF+(e.getTimezoneOffset()-DS.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function Nx(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function cF(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function uF(e){var t=e<0?12:11,r=Nx(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function dF(e){var t=Nx(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Uc(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=uF(e):t===10?r=e.toFixed(10).substr(0,12):r=dF(e),Nx(cF(r.toUpperCase()))}function Fi(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Uc(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return as(14,LS(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function fF(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function hF(e,t,r,n){var s="",a=0,i=0,o=r.y,l,c=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(t.length){case 1:case 2:l=r.m,c=t.length;break;case 3:return fh[r.m-1][1];case 5:return fh[r.m-1][0];default:return fh[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=r.d,c=t.length;break;case 3:return Fy[r.q][0];default:return Fy[r.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(r.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=r.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=r.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?ws(r.S,t.length):(n>=2?i=n===3?1e3:100:i=n===1?10:1,a=Math.round(i*(r.S+r.u)),a>=60*i&&(a=0),t==="s"?a===0?"0":""+a/i:(s=ws(a,2+n),t==="ss"?s.substr(0,2):"."+s.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}c=t.length===3?1:2;break;case 101:l=o,c=1;break}var u=c>0?ws(l,c):"";return u}function Ca(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var OS=/%/g;function pF(e,t,r){var n=t.replace(OS,""),s=t.length-n.length;return Ys(e,n,r*Math.pow(10,2*s))+ur("%",s)}function mF(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Ys(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function US(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+US(e,-t);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%s;if(a<0&&(a+=s),r=(t/Math.pow(10,a)).toPrecision(n+1+(s+a)%s),r.indexOf("e")===-1){var i=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+a):r+="E+"+(i-a);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,s)+"."+r.substr(2+s),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(s+a)%s)+"."+u.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var BS=/# (\?+)( ?)\/( ?)(\d+)/;function gF(e,t,r){var n=parseInt(e[4],10),s=Math.round(t*n),a=Math.floor(s/n),i=s-a*n,o=n;return r+(a===0?"":""+a)+" "+(i===0?ur(" ",e[1].length+1+e[4].length):Ax(i,e[1].length)+e[2]+"/"+e[3]+ws(o,e[4].length))}function xF(e,t,r){return r+(t===0?"":""+t)+ur(" ",e[1].length+2+e[4].length)}var jS=/^#*0*\.([0#]+)/,$S=/\).*[0#]/,VS=/\(###\) ###\\?-####/;function dn(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function Dy(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function Ly(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function vF(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function yF(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Gn(e,t,r){if(e.charCodeAt(0)===40&&!t.match($S)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Gn("n",n,r):"("+Gn("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return mF(e,t,r);if(t.indexOf("%")!==-1)return pF(e,t,r);if(t.indexOf("E")!==-1)return US(t,r);if(t.charCodeAt(0)===36)return"$"+Gn(e,t.substr(t.charAt(1)==" "?2:1),r);var s,a,i,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+ao(l,t.length);if(t.match(/^[#?]+$/))return s=ao(r,0),s==="0"&&(s=""),s.length>t.length?s:dn(t.substr(0,t.length-s.length))+s;if(a=t.match(BS))return gF(a,l,c);if(t.match(/^#+0+$/))return c+ao(l,t.length-t.indexOf("0"));if(a=t.match(jS))return s=Dy(r,a[1].length).replace(/^([^\.]+)$/,"$1."+dn(a[1])).replace(/\.$/,"."+dn(a[1])).replace(/\.(\d*)$/,function(v,x){return"."+x+ur("0",dn(a[1]).length-x.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return c+Dy(l,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return c+Ca(ao(l,0));if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Gn(e,t,-r):Ca(""+(Math.floor(r)+vF(r,a[1].length)))+"."+ws(Ly(r,a[1].length),a[1].length);if(a=t.match(/^#,#*,#0/))return Gn(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=Uo(Gn(e,t.replace(/[\\-]/g,""),r)),i=0,Uo(Uo(t.replace(/\\/g,"")).replace(/[0#]/g,function(v){return i<s.length?s.charAt(i++):v==="0"?"0":""}));if(t.match(VS))return s=Gn(e,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var u="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(a[4].length,7),o=tf(l,Math.pow(10,i)-1,!1),s=""+c,u=Ys("n",a[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),s+=u+a[2]+"/"+a[3],u=Zd(o[2],i),u.length<a[4].length&&(u=dn(a[4].substr(a[4].length-u.length))+u),s+=u,s;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(a[1].length,a[4].length),7),o=tf(l,Math.pow(10,i)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?Ax(o[1],i)+a[2]+"/"+a[3]+Zd(o[2],i):ur(" ",2*i+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return s=ao(r,0),t.length<=s.length?s:dn(t.substr(0,t.length-s.length))+s;if(a=t.match(/^([#0?]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),i=s.indexOf(".");var h=t.indexOf(".")-i,p=t.length-s.length-h;return dn(t.substr(0,h)+s+t.substr(t.length-p))}if(a=t.match(/^00,000\.([#0]*0)$/))return i=Ly(r,a[1].length),r<0?"-"+Gn(e,t,-r):Ca(yF(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?ws(0,3-v.length):"")+v})+"."+ws(i,a[1].length);switch(t){case"###,##0.00":return Gn(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var g=Ca(ao(l,0));return g!=="0"?c+g:"";case"###,###.00":return Gn(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Gn(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function _F(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Ys(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function wF(e,t,r){var n=t.replace(OS,""),s=t.length-n.length;return Ys(e,n,r*Math.pow(10,2*s))+ur("%",s)}function HS(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+HS(e,-t);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%s;if(a<0&&(a+=s),r=(t/Math.pow(10,a)).toPrecision(n+1+(s+a)%s),!r.match(/[Ee]/)){var i=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+a):r+="E+"+(i-a),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(s+a)%s)+"."+u.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Ms(e,t,r){if(e.charCodeAt(0)===40&&!t.match($S)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ms("n",n,r):"("+Ms("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return _F(e,t,r);if(t.indexOf("%")!==-1)return wF(e,t,r);if(t.indexOf("E")!==-1)return HS(t,r);if(t.charCodeAt(0)===36)return"$"+Ms(e,t.substr(t.charAt(1)==" "?2:1),r);var s,a,i,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+ws(l,t.length);if(t.match(/^[#?]+$/))return s=""+r,r===0&&(s=""),s.length>t.length?s:dn(t.substr(0,t.length-s.length))+s;if(a=t.match(BS))return xF(a,l,c);if(t.match(/^#+0+$/))return c+ws(l,t.length-t.indexOf("0"));if(a=t.match(jS))return s=(""+r).replace(/^([^\.]+)$/,"$1."+dn(a[1])).replace(/\.$/,"."+dn(a[1])),s=s.replace(/\.(\d*)$/,function(v,x){return"."+x+ur("0",dn(a[1]).length-x.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return c+Ca(""+l);if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ms(e,t,-r):Ca(""+r)+"."+ur("0",a[1].length);if(a=t.match(/^#,#*,#0/))return Ms(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=Uo(Ms(e,t.replace(/[\\-]/g,""),r)),i=0,Uo(Uo(t.replace(/\\/g,"")).replace(/[0#]/g,function(v){return i<s.length?s.charAt(i++):v==="0"?"0":""}));if(t.match(VS))return s=Ms(e,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var u="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(a[4].length,7),o=tf(l,Math.pow(10,i)-1,!1),s=""+c,u=Ys("n",a[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),s+=u+a[2]+"/"+a[3],u=Zd(o[2],i),u.length<a[4].length&&(u=dn(a[4].substr(a[4].length-u.length))+u),s+=u,s;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(a[1].length,a[4].length),7),o=tf(l,Math.pow(10,i)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?Ax(o[1],i)+a[2]+"/"+a[3]+Zd(o[2],i):ur(" ",2*i+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return s=""+r,t.length<=s.length?s:dn(t.substr(0,t.length-s.length))+s;if(a=t.match(/^([#0]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),i=s.indexOf(".");var h=t.indexOf(".")-i,p=t.length-s.length-h;return dn(t.substr(0,h)+s+t.substr(t.length-p))}if(a=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Ms(e,t,-r):Ca(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?ws(0,3-v.length):"")+v})+"."+ws(0,a[1].length);switch(t){case"###,###":case"##,###":case"#,###":var g=Ca(""+l);return g!=="0"?c+g:"";default:if(t.match(/\.[0#?]*$/))return Ms(e,t.slice(0,t.lastIndexOf(".")),r)+dn(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Ys(e,t,r){return(r|0)===r?Ms(e,t,r):Gn(e,t,r)}function kF(e){for(var t=[],r=!1,n=0,s=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(s,n-s),s=n+1}if(t[t.length]=e.substr(s),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var GS=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function ol(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":ef(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(GS))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function bF(e,t,r,n){for(var s=[],a="",i=0,o="",l="t",c,u,h,p="H";i<e.length;)switch(o=e.charAt(i)){case"G":if(!ef(e,i))throw new Error("unrecognized character "+o+" in "+e);s[s.length]={t:"G",v:"General"},i+=7;break;case'"':for(a="";(h=e.charCodeAt(++i))!==34&&i<e.length;)a+=String.fromCharCode(h);s[s.length]={t:"t",v:a},++i;break;case"\\":var g=e.charAt(++i),v=g==="("||g===")"?g:"t";s[s.length]={t:v,v:g},++i;break;case"_":s[s.length]={t:"t",v:" "},i+=2;break;case"@":s[s.length]={t:"T",v:t},++i;break;case"B":case"b":if(e.charAt(i+1)==="1"||e.charAt(i+1)==="2"){if(c==null&&(c=vi(t,r,e.charAt(i+1)==="2"),c==null))return"";s[s.length]={t:"X",v:e.substr(i,2)},l=o,i+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||c==null&&(c=vi(t,r),c==null))return"";for(a=o;++i<e.length&&e.charAt(i).toLowerCase()===o;)a+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=p),s[s.length]={t:o,v:a},l=o;break;case"A":case"a":case"":var x={t:o,v:o};if(c==null&&(c=vi(t,r)),e.substr(i,3).toUpperCase()==="A/P"?(c!=null&&(x.v=c.H>=12?"P":"A"),x.t="T",p="h",i+=3):e.substr(i,5).toUpperCase()==="AM/PM"?(c!=null&&(x.v=c.H>=12?"PM":"AM"),x.t="T",i+=5,p="h"):e.substr(i,5).toUpperCase()==="/"?(c!=null&&(x.v=c.H>=12?"":""),x.t="T",i+=5,p="h"):(x.t="t",++i),c==null&&x.t==="T")return"";s[s.length]=x,l=o;break;case"[":for(a=o;e.charAt(i++)!=="]"&&i<e.length;)a+=e.charAt(i);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(GS)){if(c==null&&(c=vi(t,r),c==null))return"";s[s.length]={t:"Z",v:a.toLowerCase()},l=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",ol(e)||(s[s.length]={t:"t",v:a}));break;case".":if(c!=null){for(a=o;++i<e.length&&(o=e.charAt(i))==="0";)a+=o;s[s.length]={t:"s",v:a};break}case"0":case"#":for(a=o;++i<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(i))>-1;)a+=o;s[s.length]={t:"n",v:a};break;case"?":for(a=o;e.charAt(++i)===o;)a+=o;s[s.length]={t:o,v:a},l=o;break;case"*":++i,(e.charAt(i)==" "||e.charAt(i)=="*")&&++i;break;case"(":case")":s[s.length]={t:n===1?"t":o,v:o},++i;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=o;i<e.length&&"0123456789".indexOf(e.charAt(++i))>-1;)a+=e.charAt(i);s[s.length]={t:"D",v:a};break;case" ":s[s.length]={t:o,v:o},++i;break;case"$":s[s.length]={t:"t",v:"$"},++i;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);s[s.length]={t:"t",v:o},++i;break}var y=0,w=0,k;for(i=s.length-1,l="t";i>=0;--i)switch(s[i].t){case"h":case"H":s[i].t=p,l="h",y<1&&(y=1);break;case"s":(k=s[i].v.match(/\.0+$/))&&(w=Math.max(w,k[0].length-1)),y<3&&(y=3);case"d":case"y":case"M":case"e":l=s[i].t;break;case"m":l==="s"&&(s[i].t="M",y<2&&(y=2));break;case"X":break;case"Z":y<1&&s[i].v.match(/[Hh]/)&&(y=1),y<2&&s[i].v.match(/[Mm]/)&&(y=2),y<3&&s[i].v.match(/[Ss]/)&&(y=3)}switch(y){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var _="",b;for(i=0;i<s.length;++i)switch(s[i].t){case"t":case"T":case" ":case"D":break;case"X":s[i].v="",s[i].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[i].v=hF(s[i].t.charCodeAt(0),s[i].v,c,w),s[i].t="t";break;case"n":case"?":for(b=i+1;s[b]!=null&&((o=s[b].t)==="?"||o==="D"||(o===" "||o==="t")&&s[b+1]!=null&&(s[b+1].t==="?"||s[b+1].t==="t"&&s[b+1].v==="/")||s[i].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(s[b].v==="/"||s[b].v===" "&&s[b+1]!=null&&s[b+1].t=="?"));)s[i].v+=s[b].v,s[b]={v:"",t:";"},++b;_+=s[i].v,i=b-1;break;case"G":s[i].t="t",s[i].v=Fi(t,r);break}var T="",E,S;if(_.length>0){_.charCodeAt(0)==40?(E=t<0&&_.charCodeAt(0)===45?-t:t,S=Ys("n",_,E)):(E=t<0&&n>1?-t:t,S=Ys("n",_,E),E<0&&s[0]&&s[0].t=="t"&&(S=S.substr(1),s[0].v="-"+s[0].v)),b=S.length-1;var M=s.length;for(i=0;i<s.length;++i)if(s[i]!=null&&s[i].t!="t"&&s[i].v.indexOf(".")>-1){M=i;break}var F=s.length;if(M===s.length&&S.indexOf("E")===-1){for(i=s.length-1;i>=0;--i)s[i]==null||"n?".indexOf(s[i].t)===-1||(b>=s[i].v.length-1?(b-=s[i].v.length,s[i].v=S.substr(b+1,s[i].v.length)):b<0?s[i].v="":(s[i].v=S.substr(0,b+1),b=-1),s[i].t="t",F=i);b>=0&&F<s.length&&(s[F].v=S.substr(0,b+1)+s[F].v)}else if(M!==s.length&&S.indexOf("E")===-1){for(b=S.indexOf(".")-1,i=M;i>=0;--i)if(!(s[i]==null||"n?".indexOf(s[i].t)===-1)){for(u=s[i].v.indexOf(".")>-1&&i===M?s[i].v.indexOf(".")-1:s[i].v.length-1,T=s[i].v.substr(u+1);u>=0;--u)b>=0&&(s[i].v.charAt(u)==="0"||s[i].v.charAt(u)==="#")&&(T=S.charAt(b--)+T);s[i].v=T,s[i].t="t",F=i}for(b>=0&&F<s.length&&(s[F].v=S.substr(0,b+1)+s[F].v),b=S.indexOf(".")+1,i=M;i<s.length;++i)if(!(s[i]==null||"n?(".indexOf(s[i].t)===-1&&i!==M)){for(u=s[i].v.indexOf(".")>-1&&i===M?s[i].v.indexOf(".")+1:0,T=s[i].v.substr(0,u);u<s[i].v.length;++u)b<S.length&&(T+=S.charAt(b++));s[i].v=T,s[i].t="t",F=i}}}for(i=0;i<s.length;++i)s[i]!=null&&"n?".indexOf(s[i].t)>-1&&(E=n>1&&t<0&&i>0&&s[i-1].v==="-"?-t:t,s[i].v=Ys(s[i].t,s[i].v,E),s[i].t="t");var z="";for(i=0;i!==s.length;++i)s[i]!=null&&(z+=s[i].v);return z}var Oy=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Uy(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function SF(e,t){var r=kF(e),n=r.length,s=r[n-1].indexOf("@");if(n<4&&s>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||s>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=s>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=s>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=s>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var a=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,a];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var i=r[0].match(Oy),o=r[1].match(Oy);return Uy(t,i)?[n,r[0]]:Uy(t,o)?[n,r[1]]:[n,r[i!=null&&o!=null?2:1]]}return[n,a]}function as(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:ot)[e],n==null&&(n=r.table&&r.table[My[e]]||ot[My[e]]),n==null&&(n=iF[e]||"General");break}if(ef(n,0))return Fi(t,r);t instanceof Date&&(t=LS(t,r.date1904));var s=SF(n,t);if(ef(s[1]))return Fi(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return bF(s[1],t,r,s[0])}function Xs(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(ot[r]==null){t<0&&(t=r);continue}if(ot[r]==e){t=r;break}}t<0&&(t=391)}return ot[t]=e,t}function g0(e){for(var t=0;t!=392;++t)e[t]!==void 0&&Xs(e[t],t)}function ll(){ot=aF()}var EF={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},WS=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function TF(e){var t=typeof e=="number"?ot[e]:e;return t=t.replace(WS,"(\\d+)"),new RegExp("^"+t+"$")}function CF(e,t,r){var n=-1,s=-1,a=-1,i=-1,o=-1,l=-1;(t.match(WS)||[]).forEach(function(h,p){var g=parseInt(r[p+1],10);switch(h.toLowerCase().charAt(0)){case"y":n=g;break;case"d":a=g;break;case"h":i=g;break;case"s":l=g;break;case"m":i>=0?o=g:s=g;break}}),l>=0&&o==-1&&s>=0&&(o=s,s=-1);var c=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(i>=0?i:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return i==-1&&o==-1&&l==-1?c:n==-1&&s==-1&&a==-1?u:c+"T"+u}var AF=function(){var e={};e.version="1.2.0";function t(){for(var S=0,M=new Array(256),F=0;F!=256;++F)S=F,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,M[F]=S;return typeof Int32Array<"u"?new Int32Array(M):M}var r=t();function n(S){var M=0,F=0,z=0,Y=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(z=0;z!=256;++z)Y[z]=S[z];for(z=0;z!=256;++z)for(F=S[z],M=256+z;M<4096;M+=256)F=Y[M]=F>>>8^S[F&255];var U=[];for(z=1;z!=16;++z)U[z-1]=typeof Int32Array<"u"?Y.subarray(z*256,z*256+256):Y.slice(z*256,z*256+256);return U}var s=n(r),a=s[0],i=s[1],o=s[2],l=s[3],c=s[4],u=s[5],h=s[6],p=s[7],g=s[8],v=s[9],x=s[10],y=s[11],w=s[12],k=s[13],_=s[14];function b(S,M){for(var F=M^-1,z=0,Y=S.length;z<Y;)F=F>>>8^r[(F^S.charCodeAt(z++))&255];return~F}function T(S,M){for(var F=M^-1,z=S.length-15,Y=0;Y<z;)F=_[S[Y++]^F&255]^k[S[Y++]^F>>8&255]^w[S[Y++]^F>>16&255]^y[S[Y++]^F>>>24]^x[S[Y++]]^v[S[Y++]]^g[S[Y++]]^p[S[Y++]]^h[S[Y++]]^u[S[Y++]]^c[S[Y++]]^l[S[Y++]]^o[S[Y++]]^i[S[Y++]]^a[S[Y++]]^r[S[Y++]];for(z+=15;Y<z;)F=F>>>8^r[(F^S[Y++])&255];return~F}function E(S,M){for(var F=M^-1,z=0,Y=S.length,U=0,re=0;z<Y;)U=S.charCodeAt(z++),U<128?F=F>>>8^r[(F^U)&255]:U<2048?(F=F>>>8^r[(F^(192|U>>6&31))&255],F=F>>>8^r[(F^(128|U&63))&255]):U>=55296&&U<57344?(U=(U&1023)+64,re=S.charCodeAt(z++)&1023,F=F>>>8^r[(F^(240|U>>8&7))&255],F=F>>>8^r[(F^(128|U>>2&63))&255],F=F>>>8^r[(F^(128|re>>6&15|(U&3)<<4))&255],F=F>>>8^r[(F^(128|re&63))&255]):(F=F>>>8^r[(F^(224|U>>12&15))&255],F=F>>>8^r[(F^(128|U>>6&63))&255],F=F>>>8^r[(F^(128|U&63))&255]);return~F}return e.table=r,e.bstr=b,e.buf=T,e.str=E,e}(),nt=function(){var t={};t.version="1.2.1";function r(C,P){for(var A=C.split("/"),R=P.split("/"),O=0,N=0,ee=Math.min(A.length,R.length);O<ee;++O){if(N=A[O].length-R[O].length)return N;if(A[O]!=R[O])return A[O]<R[O]?-1:1}return A.length-R.length}function n(C){if(C.charAt(C.length-1)=="/")return C.slice(0,-1).indexOf("/")===-1?C:n(C.slice(0,-1));var P=C.lastIndexOf("/");return P===-1?C:C.slice(0,P+1)}function s(C){if(C.charAt(C.length-1)=="/")return s(C.slice(0,-1));var P=C.lastIndexOf("/");return P===-1?C:C.slice(P+1)}function a(C,P){typeof P=="string"&&(P=new Date(P));var A=P.getHours();A=A<<6|P.getMinutes(),A=A<<5|P.getSeconds()>>>1,C.write_shift(2,A);var R=P.getFullYear()-1980;R=R<<4|P.getMonth()+1,R=R<<5|P.getDate(),C.write_shift(2,R)}function i(C){var P=C.read_shift(2)&65535,A=C.read_shift(2)&65535,R=new Date,O=A&31;A>>>=5;var N=A&15;A>>>=4,R.setMilliseconds(0),R.setFullYear(A+1980),R.setMonth(N-1),R.setDate(O);var ee=P&31;P>>>=5;var se=P&63;return P>>>=6,R.setHours(P),R.setMinutes(se),R.setSeconds(ee<<1),R}function o(C){Hr(C,0);for(var P={},A=0;C.l<=C.length-4;){var R=C.read_shift(2),O=C.read_shift(2),N=C.l+O,ee={};switch(R){case 21589:A=C.read_shift(1),A&1&&(ee.mtime=C.read_shift(4)),O>5&&(A&2&&(ee.atime=C.read_shift(4)),A&4&&(ee.ctime=C.read_shift(4))),ee.mtime&&(ee.mt=new Date(ee.mtime*1e3));break}C.l=N,P[R]=ee}return P}var l;function c(){return l||(l={})}function u(C,P){if(C[0]==80&&C[1]==75)return Rr(C,P);if((C[0]|32)==109&&(C[1]|32)==105)return ha(C,P);if(C.length<512)throw new Error("CFB file size "+C.length+" < 512");var A=3,R=512,O=0,N=0,ee=0,se=0,ne=0,ue=[],ae=C.slice(0,512);Hr(ae,0);var Se=h(ae);switch(A=Se[0],A){case 3:R=512;break;case 4:R=4096;break;case 0:if(Se[1]==0)return Rr(C,P);default:throw new Error("Major Version: Expected 3 or 4 saw "+A)}R!==512&&(ae=C.slice(0,R),Hr(ae,28));var Ue=C.slice(0,R);p(ae,A);var We=ae.read_shift(4,"i");if(A===3&&We!==0)throw new Error("# Directory Sectors: Expected 0 saw "+We);ae.l+=4,ee=ae.read_shift(4,"i"),ae.l+=4,ae.chk("00100000","Mini Stream Cutoff Size: "),se=ae.read_shift(4,"i"),O=ae.read_shift(4,"i"),ne=ae.read_shift(4,"i"),N=ae.read_shift(4,"i");for(var Ie=-1,$e=0;$e<109&&(Ie=ae.read_shift(4,"i"),!(Ie<0));++$e)ue[$e]=Ie;var ut=g(C,R);y(ne,N,ut,R,ue);var Ot=k(ut,ee,ue,R);Ot[ee].name="!Directory",O>0&&se!==re&&(Ot[se].name="!MiniFAT"),Ot[ue[0]].name="!FAT",Ot.fat_addrs=ue,Ot.ssz=R;var Ut={},or=[],j=[],K=[];_(ee,Ot,ut,or,O,Ut,j,se),v(j,K,or),or.shift();var te={FileIndex:j,FullPaths:K};return P&&P.raw&&(te.raw={header:Ue,sectors:ut}),te}function h(C){if(C[C.l]==80&&C[C.l+1]==75)return[0,0];C.chk(B,"Header Signature: "),C.l+=16;var P=C.read_shift(2,"u");return[C.read_shift(2,"u"),P]}function p(C,P){var A=9;switch(C.l+=2,A=C.read_shift(2)){case 9:if(P!=3)throw new Error("Sector Shift: Expected 9 saw "+A);break;case 12:if(P!=4)throw new Error("Sector Shift: Expected 12 saw "+A);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+A)}C.chk("0600","Mini Sector Shift: "),C.chk("000000000000","Reserved: ")}function g(C,P){for(var A=Math.ceil(C.length/P)-1,R=[],O=1;O<A;++O)R[O-1]=C.slice(O*P,(O+1)*P);return R[A-1]=C.slice(A*P),R}function v(C,P,A){for(var R=0,O=0,N=0,ee=0,se=0,ne=A.length,ue=[],ae=[];R<ne;++R)ue[R]=ae[R]=R,P[R]=A[R];for(;se<ae.length;++se)R=ae[se],O=C[R].L,N=C[R].R,ee=C[R].C,ue[R]===R&&(O!==-1&&ue[O]!==O&&(ue[R]=ue[O]),N!==-1&&ue[N]!==N&&(ue[R]=ue[N])),ee!==-1&&(ue[ee]=R),O!==-1&&R!=ue[R]&&(ue[O]=ue[R],ae.lastIndexOf(O)<se&&ae.push(O)),N!==-1&&R!=ue[R]&&(ue[N]=ue[R],ae.lastIndexOf(N)<se&&ae.push(N));for(R=1;R<ne;++R)ue[R]===R&&(N!==-1&&ue[N]!==N?ue[R]=ue[N]:O!==-1&&ue[O]!==O&&(ue[R]=ue[O]));for(R=1;R<ne;++R)if(C[R].type!==0){if(se=R,se!=ue[se])do se=ue[se],P[R]=P[se]+"/"+P[R];while(se!==0&&ue[se]!==-1&&se!=ue[se]);ue[R]=-1}for(P[0]+="/",R=1;R<ne;++R)C[R].type!==2&&(P[R]+="/")}function x(C,P,A){for(var R=C.start,O=C.size,N=[],ee=R;A&&O>0&&ee>=0;)N.push(P.slice(ee*U,ee*U+U)),O-=U,ee=hi(A,ee*4);return N.length===0?me(0):Mr(N).slice(0,C.size)}function y(C,P,A,R,O){var N=re;if(C===re){if(P!==0)throw new Error("DIFAT chain shorter than expected")}else if(C!==-1){var ee=A[C],se=(R>>>2)-1;if(!ee)return;for(var ne=0;ne<se&&(N=hi(ee,ne*4))!==re;++ne)O.push(N);y(hi(ee,R-4),P-1,A,R,O)}}function w(C,P,A,R,O){var N=[],ee=[];O||(O=[]);var se=R-1,ne=0,ue=0;for(ne=P;ne>=0;){O[ne]=!0,N[N.length]=ne,ee.push(C[ne]);var ae=A[Math.floor(ne*4/R)];if(ue=ne*4&se,R<4+ue)throw new Error("FAT boundary crossed: "+ne+" 4 "+R);if(!C[ae])break;ne=hi(C[ae],ue)}return{nodes:N,data:Yy([ee])}}function k(C,P,A,R){var O=C.length,N=[],ee=[],se=[],ne=[],ue=R-1,ae=0,Se=0,Ue=0,We=0;for(ae=0;ae<O;++ae)if(se=[],Ue=ae+P,Ue>=O&&(Ue-=O),!ee[Ue]){ne=[];var Ie=[];for(Se=Ue;Se>=0;){Ie[Se]=!0,ee[Se]=!0,se[se.length]=Se,ne.push(C[Se]);var $e=A[Math.floor(Se*4/R)];if(We=Se*4&ue,R<4+We)throw new Error("FAT boundary crossed: "+Se+" 4 "+R);if(!C[$e]||(Se=hi(C[$e],We),Ie[Se]))break}N[Ue]={nodes:se,data:Yy([ne])}}return N}function _(C,P,A,R,O,N,ee,se){for(var ne=0,ue=R.length?2:0,ae=P[C].data,Se=0,Ue=0,We;Se<ae.length;Se+=128){var Ie=ae.slice(Se,Se+128);Hr(Ie,64),Ue=Ie.read_shift(2),We=Lx(Ie,0,Ue-ue),R.push(We);var $e={name:We,type:Ie.read_shift(1),color:Ie.read_shift(1),L:Ie.read_shift(4,"i"),R:Ie.read_shift(4,"i"),C:Ie.read_shift(4,"i"),clsid:Ie.read_shift(16),state:Ie.read_shift(4,"i"),start:0,size:0},ut=Ie.read_shift(2)+Ie.read_shift(2)+Ie.read_shift(2)+Ie.read_shift(2);ut!==0&&($e.ct=b(Ie,Ie.l-8));var Ot=Ie.read_shift(2)+Ie.read_shift(2)+Ie.read_shift(2)+Ie.read_shift(2);Ot!==0&&($e.mt=b(Ie,Ie.l-8)),$e.start=Ie.read_shift(4,"i"),$e.size=Ie.read_shift(4,"i"),$e.size<0&&$e.start<0&&($e.size=$e.type=0,$e.start=re,$e.name=""),$e.type===5?(ne=$e.start,O>0&&ne!==re&&(P[ne].name="!StreamData")):$e.size>=4096?($e.storage="fat",P[$e.start]===void 0&&(P[$e.start]=w(A,$e.start,P.fat_addrs,P.ssz)),P[$e.start].name=$e.name,$e.content=P[$e.start].data.slice(0,$e.size)):($e.storage="minifat",$e.size<0?$e.size=0:ne!==re&&$e.start!==re&&P[ne]&&($e.content=x($e,P[ne].data,(P[se]||{}).data))),$e.content&&Hr($e.content,0),N[We]=$e,ee.push($e)}}function b(C,P){return new Date((Fn(C,P+4)/1e7*Math.pow(2,32)+Fn(C,P)/1e7-11644473600)*1e3)}function T(C,P){return c(),u(l.readFileSync(C),P)}function E(C,P){var A=P&&P.type;switch(A||Et&&Buffer.isBuffer(C)&&(A="buffer"),A||"base64"){case"file":return T(C,P);case"base64":return u(Dn(jn(C)),P);case"binary":return u(Dn(C),P)}return u(C,P)}function S(C,P){var A=P||{},R=A.root||"Root Entry";if(C.FullPaths||(C.FullPaths=[]),C.FileIndex||(C.FileIndex=[]),C.FullPaths.length!==C.FileIndex.length)throw new Error("inconsistent CFB structure");C.FullPaths.length===0&&(C.FullPaths[0]=R+"/",C.FileIndex[0]={name:R,type:5}),A.CLSID&&(C.FileIndex[0].clsid=A.CLSID),M(C)}function M(C){var P="Sh33tJ5";if(!nt.find(C,"/"+P)){var A=me(4);A[0]=55,A[1]=A[3]=50,A[2]=54,C.FileIndex.push({name:P,type:2,content:A,size:4,L:69,R:69,C:69}),C.FullPaths.push(C.FullPaths[0]+P),F(C)}}function F(C,P){S(C);for(var A=!1,R=!1,O=C.FullPaths.length-1;O>=0;--O){var N=C.FileIndex[O];switch(N.type){case 0:R?A=!0:(C.FileIndex.pop(),C.FullPaths.pop());break;case 1:case 2:case 5:R=!0,isNaN(N.R*N.L*N.C)&&(A=!0),N.R>-1&&N.L>-1&&N.R==N.L&&(A=!0);break;default:A=!0;break}}if(!(!A&&!P)){var ee=new Date(1987,1,19),se=0,ne=Object.create?Object.create(null):{},ue=[];for(O=0;O<C.FullPaths.length;++O)ne[C.FullPaths[O]]=!0,C.FileIndex[O].type!==0&&ue.push([C.FullPaths[O],C.FileIndex[O]]);for(O=0;O<ue.length;++O){var ae=n(ue[O][0]);R=ne[ae],R||(ue.push([ae,{name:s(ae).replace("/",""),type:1,clsid:we,ct:ee,mt:ee,content:null}]),ne[ae]=!0)}for(ue.sort(function(We,Ie){return r(We[0],Ie[0])}),C.FullPaths=[],C.FileIndex=[],O=0;O<ue.length;++O)C.FullPaths[O]=ue[O][0],C.FileIndex[O]=ue[O][1];for(O=0;O<ue.length;++O){var Se=C.FileIndex[O],Ue=C.FullPaths[O];if(Se.name=s(Ue).replace("/",""),Se.L=Se.R=Se.C=-(Se.color=1),Se.size=Se.content?Se.content.length:0,Se.start=0,Se.clsid=Se.clsid||we,O===0)Se.C=ue.length>1?1:-1,Se.size=0,Se.type=5;else if(Ue.slice(-1)=="/"){for(se=O+1;se<ue.length&&n(C.FullPaths[se])!=Ue;++se);for(Se.C=se>=ue.length?-1:se,se=O+1;se<ue.length&&n(C.FullPaths[se])!=n(Ue);++se);Se.R=se>=ue.length?-1:se,Se.type=1}else n(C.FullPaths[O+1]||"")==n(Ue)&&(Se.R=O+1),Se.type=2}}}function z(C,P){var A=P||{};if(A.fileType=="mad")return Yi(C,A);switch(F(C),A.fileType){case"zip":return Ur(C,A)}var R=function(We){for(var Ie=0,$e=0,ut=0;ut<We.FileIndex.length;++ut){var Ot=We.FileIndex[ut];if(Ot.content){var Ut=Ot.content.length;Ut>0&&(Ut<4096?Ie+=Ut+63>>6:$e+=Ut+511>>9)}}for(var or=We.FullPaths.length+3>>2,j=Ie+7>>3,K=Ie+127>>7,te=j+$e+or+K,Q=te+127>>7,ie=Q<=109?0:Math.ceil((Q-109)/127);te+Q+ie+127>>7>Q;)ie=++Q<=109?0:Math.ceil((Q-109)/127);var ke=[1,ie,Q,K,or,$e,Ie,0];return We.FileIndex[0].size=Ie<<6,ke[7]=(We.FileIndex[0].start=ke[0]+ke[1]+ke[2]+ke[3]+ke[4]+ke[5])+(ke[6]+7>>3),ke}(C),O=me(R[7]<<9),N=0,ee=0;{for(N=0;N<8;++N)O.write_shift(1,fe[N]);for(N=0;N<8;++N)O.write_shift(2,0);for(O.write_shift(2,62),O.write_shift(2,3),O.write_shift(2,65534),O.write_shift(2,9),O.write_shift(2,6),N=0;N<3;++N)O.write_shift(2,0);for(O.write_shift(4,0),O.write_shift(4,R[2]),O.write_shift(4,R[0]+R[1]+R[2]+R[3]-1),O.write_shift(4,0),O.write_shift(4,4096),O.write_shift(4,R[3]?R[0]+R[1]+R[2]-1:re),O.write_shift(4,R[3]),O.write_shift(-4,R[1]?R[0]-1:re),O.write_shift(4,R[1]),N=0;N<109;++N)O.write_shift(-4,N<R[2]?R[1]+N:-1)}if(R[1])for(ee=0;ee<R[1];++ee){for(;N<236+ee*127;++N)O.write_shift(-4,N<R[2]?R[1]+N:-1);O.write_shift(-4,ee===R[1]-1?re:ee+1)}var se=function(We){for(ee+=We;N<ee-1;++N)O.write_shift(-4,N+1);We&&(++N,O.write_shift(-4,re))};for(ee=N=0,ee+=R[1];N<ee;++N)O.write_shift(-4,J.DIFSECT);for(ee+=R[2];N<ee;++N)O.write_shift(-4,J.FATSECT);se(R[3]),se(R[4]);for(var ne=0,ue=0,ae=C.FileIndex[0];ne<C.FileIndex.length;++ne)ae=C.FileIndex[ne],ae.content&&(ue=ae.content.length,!(ue<4096)&&(ae.start=ee,se(ue+511>>9)));for(se(R[6]+7>>3);O.l&511;)O.write_shift(-4,J.ENDOFCHAIN);for(ee=N=0,ne=0;ne<C.FileIndex.length;++ne)ae=C.FileIndex[ne],ae.content&&(ue=ae.content.length,!(!ue||ue>=4096)&&(ae.start=ee,se(ue+63>>6)));for(;O.l&511;)O.write_shift(-4,J.ENDOFCHAIN);for(N=0;N<R[4]<<2;++N){var Se=C.FullPaths[N];if(!Se||Se.length===0){for(ne=0;ne<17;++ne)O.write_shift(4,0);for(ne=0;ne<3;++ne)O.write_shift(4,-1);for(ne=0;ne<12;++ne)O.write_shift(4,0);continue}ae=C.FileIndex[N],N===0&&(ae.start=ae.size?ae.start-1:re);var Ue=N===0&&A.root||ae.name;if(ue=2*(Ue.length+1),O.write_shift(64,Ue,"utf16le"),O.write_shift(2,ue),O.write_shift(1,ae.type),O.write_shift(1,ae.color),O.write_shift(-4,ae.L),O.write_shift(-4,ae.R),O.write_shift(-4,ae.C),ae.clsid)O.write_shift(16,ae.clsid,"hex");else for(ne=0;ne<4;++ne)O.write_shift(4,0);O.write_shift(4,ae.state||0),O.write_shift(4,0),O.write_shift(4,0),O.write_shift(4,0),O.write_shift(4,0),O.write_shift(4,ae.start),O.write_shift(4,ae.size),O.write_shift(4,0)}for(N=1;N<C.FileIndex.length;++N)if(ae=C.FileIndex[N],ae.size>=4096)if(O.l=ae.start+1<<9,Et&&Buffer.isBuffer(ae.content))ae.content.copy(O,O.l,0,ae.size),O.l+=ae.size+511&-512;else{for(ne=0;ne<ae.size;++ne)O.write_shift(1,ae.content[ne]);for(;ne&511;++ne)O.write_shift(1,0)}for(N=1;N<C.FileIndex.length;++N)if(ae=C.FileIndex[N],ae.size>0&&ae.size<4096)if(Et&&Buffer.isBuffer(ae.content))ae.content.copy(O,O.l,0,ae.size),O.l+=ae.size+63&-64;else{for(ne=0;ne<ae.size;++ne)O.write_shift(1,ae.content[ne]);for(;ne&63;++ne)O.write_shift(1,0)}if(Et)O.l=O.length;else for(;O.l<O.length;)O.write_shift(1,0);return O}function Y(C,P){var A=C.FullPaths.map(function(ne){return ne.toUpperCase()}),R=A.map(function(ne){var ue=ne.split("/");return ue[ue.length-(ne.slice(-1)=="/"?2:1)]}),O=!1;P.charCodeAt(0)===47?(O=!0,P=A[0].slice(0,-1)+P):O=P.indexOf("/")!==-1;var N=P.toUpperCase(),ee=O===!0?A.indexOf(N):R.indexOf(N);if(ee!==-1)return C.FileIndex[ee];var se=!N.match(Ol);for(N=N.replace(mn,""),se&&(N=N.replace(Ol,"!")),ee=0;ee<A.length;++ee)if((se?A[ee].replace(Ol,"!"):A[ee]).replace(mn,"")==N||(se?R[ee].replace(Ol,"!"):R[ee]).replace(mn,"")==N)return C.FileIndex[ee];return null}var U=64,re=-2,B="d0cf11e0a1b11ae1",fe=[208,207,17,224,161,177,26,225],we="00000000000000000000000000000000",J={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:re,FREESECT:-1,HEADER_SIGNATURE:B,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:we,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function X(C,P,A){c();var R=z(C,A);l.writeFileSync(P,R)}function W(C){for(var P=new Array(C.length),A=0;A<C.length;++A)P[A]=String.fromCharCode(C[A]);return P.join("")}function pe(C,P){var A=z(C,P);switch(P&&P.type||"buffer"){case"file":return c(),l.writeFileSync(P.filename,A),A;case"binary":return typeof A=="string"?A:W(A);case"base64":return Oc(typeof A=="string"?A:W(A));case"buffer":if(Et)return Buffer.isBuffer(A)?A:oa(A);case"array":return typeof A=="string"?Dn(A):A}return A}var Ee;function I(C){try{var P=C.InflateRaw,A=new P;if(A._processChunk(new Uint8Array([3,0]),A._finishFlushFlag),A.bytesRead)Ee=C;else throw new Error("zlib does not expose bytesRead")}catch(R){console.error("cannot use native zlib: "+(R.message||R))}}function L(C,P){if(!Ee)return at(C,P);var A=Ee.InflateRaw,R=new A,O=R._processChunk(C.slice(C.l),R._finishFlushFlag);return C.l+=R.bytesRead,O}function G(C){return Ee?Ee.deflateRawSync(C):ct(C)}var q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ce=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ye=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ge(C){var P=(C<<1|C<<11)&139536|(C<<5|C<<15)&558144;return(P>>16|P>>8|P)&255}for(var ve=typeof Uint8Array<"u",H=ve?new Uint8Array(256):[],he=0;he<256;++he)H[he]=ge(he);function D(C,P){var A=H[C&255];return P<=8?A>>>8-P:(A=A<<8|H[C>>8&255],P<=16?A>>>16-P:(A=A<<8|H[C>>16&255],A>>>24-P))}function Ce(C,P){var A=P&7,R=P>>>3;return(C[R]|(A<=6?0:C[R+1]<<8))>>>A&3}function Ae(C,P){var A=P&7,R=P>>>3;return(C[R]|(A<=5?0:C[R+1]<<8))>>>A&7}function Ve(C,P){var A=P&7,R=P>>>3;return(C[R]|(A<=4?0:C[R+1]<<8))>>>A&15}function Pe(C,P){var A=P&7,R=P>>>3;return(C[R]|(A<=3?0:C[R+1]<<8))>>>A&31}function Z(C,P){var A=P&7,R=P>>>3;return(C[R]|(A<=1?0:C[R+1]<<8))>>>A&127}function Te(C,P,A){var R=P&7,O=P>>>3,N=(1<<A)-1,ee=C[O]>>>R;return A<8-R||(ee|=C[O+1]<<8-R,A<16-R)||(ee|=C[O+2]<<16-R,A<24-R)||(ee|=C[O+3]<<24-R),ee&N}function He(C,P,A){var R=P&7,O=P>>>3;return R<=5?C[O]|=(A&7)<<R:(C[O]|=A<<R&255,C[O+1]=(A&7)>>8-R),P+3}function qe(C,P,A){var R=P&7,O=P>>>3;return A=(A&1)<<R,C[O]|=A,P+1}function je(C,P,A){var R=P&7,O=P>>>3;return A<<=R,C[O]|=A&255,A>>>=8,C[O+1]=A,P+8}function At(C,P,A){var R=P&7,O=P>>>3;return A<<=R,C[O]|=A&255,A>>>=8,C[O+1]=A&255,C[O+2]=A>>>8,P+16}function Nt(C,P){var A=C.length,R=2*A>P?2*A:P+5,O=0;if(A>=P)return C;if(Et){var N=Ry(R);if(C.copy)C.copy(N);else for(;O<C.length;++O)N[O]=C[O];return N}else if(ve){var ee=new Uint8Array(R);if(ee.set)ee.set(C);else for(;O<A;++O)ee[O]=C[O];return ee}return C.length=R,C}function Be(C){for(var P=new Array(C),A=0;A<C;++A)P[A]=0;return P}function _e(C,P,A){var R=1,O=0,N=0,ee=0,se=0,ne=C.length,ue=ve?new Uint16Array(32):Be(32);for(N=0;N<32;++N)ue[N]=0;for(N=ne;N<A;++N)C[N]=0;ne=C.length;var ae=ve?new Uint16Array(ne):Be(ne);for(N=0;N<ne;++N)ue[O=C[N]]++,R<O&&(R=O),ae[N]=0;for(ue[0]=0,N=1;N<=R;++N)ue[N+16]=se=se+ue[N-1]<<1;for(N=0;N<ne;++N)se=C[N],se!=0&&(ae[N]=ue[se+16]++);var Se=0;for(N=0;N<ne;++N)if(Se=C[N],Se!=0)for(se=D(ae[N],R)>>R-Se,ee=(1<<R+4-Se)-1;ee>=0;--ee)P[se|ee<<Se]=Se&15|N<<4;return R}var mt=ve?new Uint16Array(512):Be(512),er=ve?new Uint16Array(32):Be(32);if(!ve){for(var Lt=0;Lt<512;++Lt)mt[Lt]=0;for(Lt=0;Lt<32;++Lt)er[Lt]=0}(function(){for(var C=[],P=0;P<32;P++)C.push(5);_e(C,er,32);var A=[];for(P=0;P<=143;P++)A.push(8);for(;P<=255;P++)A.push(9);for(;P<=279;P++)A.push(7);for(;P<=287;P++)A.push(8);_e(A,mt,288)})();var Ir=function(){for(var P=ve?new Uint8Array(32768):[],A=0,R=0;A<ye.length-1;++A)for(;R<ye[A+1];++R)P[R]=A;for(;R<32768;++R)P[R]=29;var O=ve?new Uint8Array(259):[];for(A=0,R=0;A<ce.length-1;++A)for(;R<ce[A+1];++R)O[R]=A;function N(se,ne){for(var ue=0;ue<se.length;){var ae=Math.min(65535,se.length-ue),Se=ue+ae==se.length;for(ne.write_shift(1,+Se),ne.write_shift(2,ae),ne.write_shift(2,~ae&65535);ae-- >0;)ne[ne.l++]=se[ue++]}return ne.l}function ee(se,ne){for(var ue=0,ae=0,Se=ve?new Uint16Array(32768):[];ae<se.length;){var Ue=Math.min(65535,se.length-ae);if(Ue<10){for(ue=He(ne,ue,+(ae+Ue==se.length)),ue&7&&(ue+=8-(ue&7)),ne.l=ue/8|0,ne.write_shift(2,Ue),ne.write_shift(2,~Ue&65535);Ue-- >0;)ne[ne.l++]=se[ae++];ue=ne.l*8;continue}ue=He(ne,ue,+(ae+Ue==se.length)+2);for(var We=0;Ue-- >0;){var Ie=se[ae];We=(We<<5^Ie)&32767;var $e=-1,ut=0;if(($e=Se[We])&&($e|=ae&-32768,$e>ae&&($e-=32768),$e<ae))for(;se[$e+ut]==se[ae+ut]&&ut<250;)++ut;if(ut>2){Ie=O[ut],Ie<=22?ue=je(ne,ue,H[Ie+1]>>1)-1:(je(ne,ue,3),ue+=5,je(ne,ue,H[Ie-23]>>5),ue+=3);var Ot=Ie<8?0:Ie-4>>2;Ot>0&&(At(ne,ue,ut-ce[Ie]),ue+=Ot),Ie=P[ae-$e],ue=je(ne,ue,H[Ie]>>3),ue-=3;var Ut=Ie<4?0:Ie-2>>1;Ut>0&&(At(ne,ue,ae-$e-ye[Ie]),ue+=Ut);for(var or=0;or<ut;++or)Se[We]=ae&32767,We=(We<<5^se[ae])&32767,++ae;Ue-=ut-1}else Ie<=143?Ie=Ie+48:ue=qe(ne,ue,1),ue=je(ne,ue,H[Ie]),Se[We]=ae&32767,++ae}ue=je(ne,ue,0)-1}return ne.l=(ue+7)/8|0,ne.l}return function(ne,ue){return ne.length<8?N(ne,ue):ee(ne,ue)}}();function ct(C){var P=me(50+Math.floor(C.length*1.1)),A=Ir(C,P);return P.slice(0,A)}var Xe=ve?new Uint16Array(32768):Be(32768),gt=ve?new Uint16Array(32768):Be(32768),yt=ve?new Uint16Array(128):Be(128),Gt=1,de=1;function Le(C,P){var A=Pe(C,P)+257;P+=5;var R=Pe(C,P)+1;P+=5;var O=Ve(C,P)+4;P+=4;for(var N=0,ee=ve?new Uint8Array(19):Be(19),se=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ne=1,ue=ve?new Uint8Array(8):Be(8),ae=ve?new Uint8Array(8):Be(8),Se=ee.length,Ue=0;Ue<O;++Ue)ee[q[Ue]]=N=Ae(C,P),ne<N&&(ne=N),ue[N]++,P+=3;var We=0;for(ue[0]=0,Ue=1;Ue<=ne;++Ue)ae[Ue]=We=We+ue[Ue-1]<<1;for(Ue=0;Ue<Se;++Ue)(We=ee[Ue])!=0&&(se[Ue]=ae[We]++);var Ie=0;for(Ue=0;Ue<Se;++Ue)if(Ie=ee[Ue],Ie!=0){We=H[se[Ue]]>>8-Ie;for(var $e=(1<<7-Ie)-1;$e>=0;--$e)yt[We|$e<<Ie]=Ie&7|Ue<<3}var ut=[];for(ne=1;ut.length<A+R;)switch(We=yt[Z(C,P)],P+=We&7,We>>>=3){case 16:for(N=3+Ce(C,P),P+=2,We=ut[ut.length-1];N-- >0;)ut.push(We);break;case 17:for(N=3+Ae(C,P),P+=3;N-- >0;)ut.push(0);break;case 18:for(N=11+Z(C,P),P+=7;N-- >0;)ut.push(0);break;default:ut.push(We),ne<We&&(ne=We);break}var Ot=ut.slice(0,A),Ut=ut.slice(A);for(Ue=A;Ue<286;++Ue)Ot[Ue]=0;for(Ue=R;Ue<30;++Ue)Ut[Ue]=0;return Gt=_e(Ot,Xe,286),de=_e(Ut,gt,30),P}function Qe(C,P){if(C[0]==3&&!(C[1]&3))return[Va(P),2];for(var A=0,R=0,O=Ry(P||1<<18),N=0,ee=O.length>>>0,se=0,ne=0;!(R&1);){if(R=Ae(C,A),A+=3,R>>>1)R>>1==1?(se=9,ne=5):(A=Le(C,A),se=Gt,ne=de);else{A&7&&(A+=8-(A&7));var ue=C[A>>>3]|C[(A>>>3)+1]<<8;if(A+=32,ue>0)for(!P&&ee<N+ue&&(O=Nt(O,N+ue),ee=O.length);ue-- >0;)O[N++]=C[A>>>3],A+=8;continue}for(;;){!P&&ee<N+32767&&(O=Nt(O,N+32767),ee=O.length);var ae=Te(C,A,se),Se=R>>>1==1?mt[ae]:Xe[ae];if(A+=Se&15,Se>>>=4,!(Se>>>8&255))O[N++]=Se;else{if(Se==256)break;Se-=257;var Ue=Se<8?0:Se-4>>2;Ue>5&&(Ue=0);var We=N+ce[Se];Ue>0&&(We+=Te(C,A,Ue),A+=Ue),ae=Te(C,A,ne),Se=R>>>1==1?er[ae]:gt[ae],A+=Se&15,Se>>>=4;var Ie=Se<4?0:Se-2>>1,$e=ye[Se];for(Ie>0&&($e+=Te(C,A,Ie),A+=Ie),!P&&ee<We&&(O=Nt(O,We+100),ee=O.length);N<We;)O[N]=O[N-$e],++N}}}return P?[O,A+7>>>3]:[O.slice(0,N),A+7>>>3]}function at(C,P){var A=C.slice(C.l||0),R=Qe(A,P);return C.l+=R[1],R[0]}function bt(C,P){if(C)typeof console<"u"&&console.error(P);else throw new Error(P)}function Rr(C,P){var A=C;Hr(A,0);var R=[],O=[],N={FileIndex:R,FullPaths:O};S(N,{root:P.root});for(var ee=A.length-4;(A[ee]!=80||A[ee+1]!=75||A[ee+2]!=5||A[ee+3]!=6)&&ee>=0;)--ee;A.l=ee+4,A.l+=4;var se=A.read_shift(2);A.l+=6;var ne=A.read_shift(4);for(A.l=ne,ee=0;ee<se;++ee){A.l+=20;var ue=A.read_shift(4),ae=A.read_shift(4),Se=A.read_shift(2),Ue=A.read_shift(2),We=A.read_shift(2);A.l+=8;var Ie=A.read_shift(4),$e=o(A.slice(A.l+Se,A.l+Se+Ue));A.l+=Se+Ue+We;var ut=A.l;A.l=Ie+4,ls(A,ue,ae,N,$e),A.l=ut}return N}function ls(C,P,A,R,O){C.l+=2;var N=C.read_shift(2),ee=C.read_shift(2),se=i(C);if(N&8257)throw new Error("Unsupported ZIP encryption");for(var ne=C.read_shift(4),ue=C.read_shift(4),ae=C.read_shift(4),Se=C.read_shift(2),Ue=C.read_shift(2),We="",Ie=0;Ie<Se;++Ie)We+=String.fromCharCode(C[C.l++]);if(Ue){var $e=o(C.slice(C.l,C.l+Ue));($e[21589]||{}).mt&&(se=$e[21589].mt),((O||{})[21589]||{}).mt&&(se=O[21589].mt)}C.l+=Ue;var ut=C.slice(C.l,C.l+ue);switch(ee){case 8:ut=L(C,ae);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ee)}var Ot=!1;N&8&&(ne=C.read_shift(4),ne==134695760&&(ne=C.read_shift(4),Ot=!0),ue=C.read_shift(4),ae=C.read_shift(4)),ue!=P&&bt(Ot,"Bad compressed size: "+P+" != "+ue),ae!=A&&bt(Ot,"Bad uncompressed size: "+A+" != "+ae),le(R,We,ut,{unsafe:!0,mt:se})}function Ur(C,P){var A=P||{},R=[],O=[],N=me(1),ee=A.compression?8:0,se=0,ne=0,ue=0,ae=0,Se=0,Ue=C.FullPaths[0],We=Ue,Ie=C.FileIndex[0],$e=[],ut=0;for(ne=1;ne<C.FullPaths.length;++ne)if(We=C.FullPaths[ne].slice(Ue.length),Ie=C.FileIndex[ne],!(!Ie.size||!Ie.content||We=="Sh33tJ5")){var Ot=ae,Ut=me(We.length);for(ue=0;ue<We.length;++ue)Ut.write_shift(1,We.charCodeAt(ue)&127);Ut=Ut.slice(0,Ut.l),$e[Se]=AF.buf(Ie.content,0);var or=Ie.content;ee==8&&(or=G(or)),N=me(30),N.write_shift(4,67324752),N.write_shift(2,20),N.write_shift(2,se),N.write_shift(2,ee),Ie.mt?a(N,Ie.mt):N.write_shift(4,0),N.write_shift(-4,$e[Se]),N.write_shift(4,or.length),N.write_shift(4,Ie.content.length),N.write_shift(2,Ut.length),N.write_shift(2,0),ae+=N.length,R.push(N),ae+=Ut.length,R.push(Ut),ae+=or.length,R.push(or),N=me(46),N.write_shift(4,33639248),N.write_shift(2,0),N.write_shift(2,20),N.write_shift(2,se),N.write_shift(2,ee),N.write_shift(4,0),N.write_shift(-4,$e[Se]),N.write_shift(4,or.length),N.write_shift(4,Ie.content.length),N.write_shift(2,Ut.length),N.write_shift(2,0),N.write_shift(2,0),N.write_shift(2,0),N.write_shift(2,0),N.write_shift(4,0),N.write_shift(4,Ot),ut+=N.l,O.push(N),ut+=Ut.length,O.push(Ut),++Se}return N=me(22),N.write_shift(4,101010256),N.write_shift(2,0),N.write_shift(2,0),N.write_shift(2,Se),N.write_shift(2,Se),N.write_shift(4,ut),N.write_shift(4,ae),N.write_shift(2,0),Mr([Mr(R),Mr(O),N])}var cs={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function ti(C,P){if(C.ctype)return C.ctype;var A=C.name||"",R=A.match(/\.([^\.]+)$/);return R&&cs[R[1]]||P&&(R=(A=P).match(/[\.\\]([^\.\\])+$/),R&&cs[R[1]])?cs[R[1]]:"application/octet-stream"}function fa(C){for(var P=Oc(C),A=[],R=0;R<P.length;R+=76)A.push(P.slice(R,R+76));return A.join(`\r
`)+`\r
`}function Rs(C){var P=C.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ue){var ae=ue.charCodeAt(0).toString(16).toUpperCase();return"="+(ae.length==1?"0"+ae:ae)});P=P.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),P.charAt(0)==`
`&&(P="=0D"+P.slice(1)),P=P.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var A=[],R=P.split(`\r
`),O=0;O<R.length;++O){var N=R[O];if(N.length==0){A.push("");continue}for(var ee=0;ee<N.length;){var se=76,ne=N.slice(ee,ee+se);ne.charAt(se-1)=="="?se--:ne.charAt(se-2)=="="?se-=2:ne.charAt(se-3)=="="&&(se-=3),ne=N.slice(ee,ee+se),ee+=se,ee<N.length&&(ne+="="),A.push(ne)}}return A.join(`\r
`)}function hr(C){for(var P=[],A=0;A<C.length;++A){for(var R=C[A];A<=C.length&&R.charAt(R.length-1)=="=";)R=R.slice(0,R.length-1)+C[++A];P.push(R)}for(var O=0;O<P.length;++O)P[O]=P[O].replace(/[=][0-9A-Fa-f]{2}/g,function(N){return String.fromCharCode(parseInt(N.slice(1),16))});return Dn(P.join(`\r
`))}function us(C,P,A){for(var R="",O="",N="",ee,se=0;se<10;++se){var ne=P[se];if(!ne||ne.match(/^\s*$/))break;var ue=ne.match(/^(.*?):\s*([^\s].*)$/);if(ue)switch(ue[1].toLowerCase()){case"content-location":R=ue[2].trim();break;case"content-type":N=ue[2].trim();break;case"content-transfer-encoding":O=ue[2].trim();break}}switch(++se,O.toLowerCase()){case"base64":ee=Dn(jn(P.slice(se).join("")));break;case"quoted-printable":ee=hr(P.slice(se));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+O)}var ae=le(C,R.slice(A.length),ee,{unsafe:!0});N&&(ae.ctype=N)}function ha(C,P){if(W(C.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var A=P&&P.root||"",R=(Et&&Buffer.isBuffer(C)?C.toString("binary"):W(C)).split(`\r
`),O=0,N="";for(O=0;O<R.length;++O)if(N=R[O],!!/^Content-Location:/i.test(N)&&(N=N.slice(N.indexOf("file")),A||(A=N.slice(0,N.lastIndexOf("/")+1)),N.slice(0,A.length)!=A))for(;A.length>0&&(A=A.slice(0,A.length-1),A=A.slice(0,A.lastIndexOf("/")+1),N.slice(0,A.length)!=A););var ee=(R[1]||"").match(/boundary="(.*?)"/);if(!ee)throw new Error("MAD cannot find boundary");var se="--"+(ee[1]||""),ne=[],ue=[],ae={FileIndex:ne,FullPaths:ue};S(ae);var Se,Ue=0;for(O=0;O<R.length;++O){var We=R[O];We!==se&&We!==se+"--"||(Ue++&&us(ae,R.slice(Se,O),A),Se=O)}return ae}function Yi(C,P){var A=P||{},R=A.boundary||"SheetJS";R="------="+R;for(var O=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+R.slice(2)+'"',"","",""],N=C.FullPaths[0],ee=N,se=C.FileIndex[0],ne=1;ne<C.FullPaths.length;++ne)if(ee=C.FullPaths[ne].slice(N.length),se=C.FileIndex[ne],!(!se.size||!se.content||ee=="Sh33tJ5")){ee=ee.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(ut){return"_x"+ut.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(ut){return"_u"+ut.charCodeAt(0).toString(16)+"_"});for(var ue=se.content,ae=Et&&Buffer.isBuffer(ue)?ue.toString("binary"):W(ue),Se=0,Ue=Math.min(1024,ae.length),We=0,Ie=0;Ie<=Ue;++Ie)(We=ae.charCodeAt(Ie))>=32&&We<128&&++Se;var $e=Se>=Ue*4/5;O.push(R),O.push("Content-Location: "+(A.root||"file:///C:/SheetJS/")+ee),O.push("Content-Transfer-Encoding: "+($e?"quoted-printable":"base64")),O.push("Content-Type: "+ti(se,ee)),O.push(""),O.push($e?Rs(ae):fa(ae))}return O.push(R+`--\r
`),O.join(`\r
`)}function pa(C){var P={};return S(P,C),P}function le(C,P,A,R){var O=R&&R.unsafe;O||S(C);var N=!O&&nt.find(C,P);if(!N){var ee=C.FullPaths[0];P.slice(0,ee.length)==ee?ee=P:(ee.slice(-1)!="/"&&(ee+="/"),ee=(ee+P).replace("//","/")),N={name:s(P),type:2},C.FileIndex.push(N),C.FullPaths.push(ee),O||nt.utils.cfb_gc(C)}return N.content=A,N.size=A?A.length:0,R&&(R.CLSID&&(N.clsid=R.CLSID),R.mt&&(N.mt=R.mt),R.ct&&(N.ct=R.ct)),N}function Me(C,P){S(C);var A=nt.find(C,P);if(A){for(var R=0;R<C.FileIndex.length;++R)if(C.FileIndex[R]==A)return C.FileIndex.splice(R,1),C.FullPaths.splice(R,1),!0}return!1}function Ze(C,P,A){S(C);var R=nt.find(C,P);if(R){for(var O=0;O<C.FileIndex.length;++O)if(C.FileIndex[O]==R)return C.FileIndex[O].name=s(A),C.FullPaths[O]=A,!0}return!1}function st(C){F(C,!0)}return t.find=Y,t.read=E,t.parse=u,t.write=pe,t.writeFile=X,t.utils={cfb_new:pa,cfb_add:le,cfb_del:Me,cfb_mov:Ze,cfb_gc:st,ReadShift:Xl,CheckField:hE,prep_blob:Hr,bconcat:Mr,use_zlib:I,_deflateRaw:ct,_inflateRaw:at,consts:J},t}();function NF(e){return typeof e=="string"?m0(e):Array.isArray(e)?tF(e):e}function du(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=m0(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?Us(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var s=new Blob([NF(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(s,e);if(typeof saveAs<"u")return saveAs(s,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(s);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:e,saveAs:!0});var i=document.createElement("a");if(i.download!=null)return i.download=e,i.href=a,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=Xa(t)),o.write(t),o.close(),t}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+e)}function IF(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function fr(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function By(e,t){for(var r=[],n=fr(e),s=0;s!==n.length;++s)r[e[n[s]][t]]==null&&(r[e[n[s]][t]]=n[s]);return r}function x0(e){for(var t=[],r=fr(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function v0(e){for(var t=[],r=fr(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function RF(e){for(var t=[],r=fr(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var rf=new Date(1899,11,30,0,0,0);function Nr(e,t){var r=e.getTime(),n=rf.getTime()+(e.getTimezoneOffset()-rf.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var zS=new Date,PF=rf.getTime()+(zS.getTimezoneOffset()-rf.getTimezoneOffset())*6e4,jy=zS.getTimezoneOffset();function y0(e){var t=new Date;return t.setTime(e*24*60*60*1e3+PF),t.getTimezoneOffset()!==jy&&t.setTime(t.getTime()+(t.getTimezoneOffset()-jy)*6e4),t}function FF(e){var t=0,r=0,n=!1,s=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!s)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var a=1;a!=s.length;++a)if(s[a]){switch(r=1,a>3&&(n=!0),s[a].slice(s[a].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+s[a].slice(s[a].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(s[a],10)}return t}var $y=new Date("2017-02-19T19:06:09.000Z"),qS=isNaN($y.getFullYear())?new Date("2/19/17"):$y,MF=qS.getFullYear()==2017;function Qt(e,t){var r=new Date(e);if(MF)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(qS.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var s=e.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return e.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function Mi(e,t){if(Et&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Us(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Us(MS(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Us(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Us(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(a){return r[a]||a})}catch{}for(var n=[],s=0;s!=e.length;++s)n.push(String.fromCharCode(e[s]));return n.join("")}function Zt(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Zt(e[r]));return t}function ur(e,t){for(var r="";r.length<t;)r+=e;return r}function Es(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(s,a){return r=-r,a}),!isNaN(t=Number(n)))?t/r:t}var DF=["january","february","march","april","may","june","july","august","september","october","november","december"];function Xo(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),s=t.getMonth(),a=t.getDate();if(isNaN(a))return r;var i=e.toLowerCase();if(i.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(i=i.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),i.length>3&&DF.indexOf(i)==-1)return r}else if(i.match(/[a-z]/))return r;return n<0||n>8099?r:(s>0||a>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var LF=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,s){if(e||typeof n=="string")return r.split(n);for(var a=r.split(n),i=[a[0]],o=1;o<a.length;++o)i.push(s),i.push(a[o]);return i}}();function KS(e){return e?e.content&&e.type?Mi(e.content,!0):e.data?Ll(e.data):e.asNodeBuffer&&Et?Ll(e.asNodeBuffer().toString("binary")):e.asBinary?Ll(e.asBinary()):e._data&&e._data.getContent?Ll(Mi(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function JS(e){if(!e)return null;if(e.data)return Ny(e.data);if(e.asNodeBuffer&&Et)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?Ny(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function OF(e){return e&&e.name.slice(-4)===".bin"?JS(e):KS(e)}function Kn(e,t){for(var r=e.FullPaths||fr(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),s=n.replace(/\\/g,"/"),a=0;a<r.length;++a){var i=r[a].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==i||s==i)return e.files?e.files[r[a]]:e.FileIndex[a]}return null}function Ix(e,t){var r=Kn(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function _r(e,t,r){if(!r)return OF(Ix(e,t));if(!t)return null;try{return _r(e,t)}catch{return null}}function Ln(e,t,r){if(!r)return KS(Ix(e,t));if(!t)return null;try{return Ln(e,t)}catch{return null}}function UF(e,t,r){return JS(Ix(e,t))}function Vy(e){for(var t=e.FullPaths||fr(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function kt(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Et?n=oa(r):n=rF(r),nt.utils.cfb_add(e,t,n)}nt.utils.cfb_add(e,t,r)}else e.file(t,r)}function Rx(){return nt.utils.cfb_new()}function YS(e,t){switch(t.type){case"base64":return nt.read(e,{type:"base64"});case"binary":return nt.read(e,{type:"binary"});case"buffer":case"array":return nt.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function Ul(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var s=n.shift();s===".."?r.pop():s!=="."&&r.push(s)}return r.join("/")}var xr=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,BF=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,Hy=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,jF=/<[^>]*>/g,ln=xr.match(Hy)?Hy:jF,$F=/<\w*:/,VF=/<(\/?)\w+:/;function ht(e,t,r){for(var n={},s=0,a=0;s!==e.length&&!((a=e.charCodeAt(s))===32||a===10||a===13);++s);if(t||(n[0]=e.slice(0,s)),s===e.length)return n;var i=e.match(BF),o=0,l="",c=0,u="",h="",p=1;if(i)for(c=0;c!=i.length;++c){for(h=i[c],a=0;a!=h.length&&h.charCodeAt(a)!==61;++a);for(u=h.slice(0,a).trim();h.charCodeAt(a+1)==32;)++a;for(p=(s=h.charCodeAt(a+1))==34||s==39?1:0,l=h.slice(a+1+p,h.length-p),o=0;o!=u.length&&u.charCodeAt(o)!==58;++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),n[u]=l,n[u.toLowerCase()]=l;else{var g=(o===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(o+1);if(n[g]&&u.slice(o-3,o)=="ext")continue;n[g]=l,n[g.toLowerCase()]=l}}return n}function $s(e){return e.replace(VF,"<$1")}var XS={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Px=x0(XS),Pt=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var s=n+"",a=s.indexOf("<![CDATA[");if(a==-1)return s.replace(e,function(o,l){return XS[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,l){return String.fromCharCode(parseInt(l,16))});var i=s.indexOf("]]>");return r(s.slice(0,a))+s.slice(a+9,i)+r(s.slice(i+3))}}(),Fx=/[&<>'"]/g,HF=/[\u0000-\u0008\u000b-\u001f]/g;function $t(e){var t=e+"";return t.replace(Fx,function(r){return Px[r]}).replace(HF,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function Gy(e){return $t(e).replace(/ /g,"_x0020_")}var QS=/[\u0000-\u001f]/g;function Mx(e){var t=e+"";return t.replace(Fx,function(r){return Px[r]}).replace(/\n/g,"<br/>").replace(QS,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function GF(e){var t=e+"";return t.replace(Fx,function(r){return Px[r]}).replace(QS,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var Wy=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function WF(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function Yt(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function hh(e){for(var t="",r=0,n=0,s=0,a=0,i=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(s=e.charCodeAt(r++),n>191&&n<224){i=(n&31)<<6,i|=s&63,t+=String.fromCharCode(i);continue}if(a=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(s&63)<<6|a&63);continue}i=e.charCodeAt(r++),o=((n&7)<<18|(s&63)<<12|(a&63)<<6|i&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function zy(e){var t=Va(2*e.length),r,n,s=1,a=0,i=0,o;for(n=0;n<e.length;n+=s)s=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),s=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),s=3):(s=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,i=55296+(r>>>10&1023),r=56320+(r&1023)),i!==0&&(t[a++]=i&255,t[a++]=i>>>8,i=0),t[a++]=r%256,t[a++]=r>>>8;return t.slice(0,a).toString("ucs2")}function qy(e){return oa(e,"binary").toString("utf8")}var Wu="foo bar baz",Ht=Et&&(qy(Wu)==hh(Wu)&&qy||zy(Wu)==hh(Wu)&&zy)||hh,Us=Et?function(e){return oa(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,s=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,s=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(s>>18&7))),t.push(String.fromCharCode(144+(s>>12&63))),t.push(String.fromCharCode(128+(s>>6&63))),t.push(String.fromCharCode(128+(s&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},Bc=function(){var e={};return function(r,n){var s=r+"|"+(n||"");return e[s]?e[s]:e[s]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),ZS=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<e.length;++s)n=n.replace(e[s][0],e[s][1]);return n}}(),zF=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),qF=/<\/?(?:vt:)?variant>/g,KF=/<(?:vt:)([^>]*)>([\s\S]*)</;function Ky(e,t){var r=ht(e),n=e.match(zF(r.baseType))||[],s=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return s}return n.forEach(function(a){var i=a.replace(qF,"").match(KF);i&&s.push({v:Ht(i[2]),t:i[1]})}),s}var eE=/(^\s|\s$|\n)/;function Gr(e,t){return"<"+e+(t.match(eE)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function jc(e){return fr(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function De(e,t,r){return"<"+e+(r!=null?jc(r):"")+(t!=null?(t.match(eE)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function $p(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function JF(e,t){switch(typeof e){case"string":var r=De("vt:lpwstr",$t(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return De((e|0)==e?"vt:i4":"vt:r8",$t(String(e)));case"boolean":return De("vt:bool",e?"true":"false")}if(e instanceof Date)return De("vt:filetime",$p(e));throw new Error("Unable to serialize "+e)}function Dx(e){if(Et&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Ht(Xa(Cx(e)));throw new Error("Bad input format: expected Buffer or string")}var $c=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Cr={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Vi=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Pn={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function YF(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),s=e[t+6]&15,a=5;a>=0;--a)s=s*256+e[t+a];return n==2047?s==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,s+=Math.pow(2,52)),r*Math.pow(2,n-52)*s)}function XF(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,s=0,a=0,i=n?-t:t;isFinite(i)?i==0?s=a=0:(s=Math.floor(Math.log(i)/Math.LN2),a=i*Math.pow(2,52-s),s<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?s=-1022:(a-=Math.pow(2,52),s+=1023)):(s=2047,a=isNaN(t)?26985:0);for(var o=0;o<=5;++o,a/=256)e[r+o]=a&255;e[r+6]=(s&15)<<4|a&15,e[r+7]=s>>4|n}var Jy=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var s=0,a=e[0][n].length;s<a;s+=r)t.push.apply(t,e[0][n].slice(s,s+r));return t},Yy=Et?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:oa(t)})):Jy(e)}:Jy,Xy=function(e,t,r){for(var n=[],s=t;s<r;s+=2)n.push(String.fromCharCode(Ks(e,s)));return n.join("").replace(mn,"")},Lx=Et?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(mn,""):Xy(e,t,r)}:Xy,Qy=function(e,t,r){for(var n=[],s=t;s<t+r;++s)n.push(("0"+e[s].toString(16)).slice(-2));return n.join("")},tE=Et?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):Qy(e,t,r)}:Qy,Zy=function(e,t,r){for(var n=[],s=t;s<r;s++)n.push(String.fromCharCode(ho(e,s)));return n.join("")},fu=Et?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):Zy(t,r,n)}:Zy,rE=function(e,t){var r=Fn(e,t);return r>0?fu(e,t+4,t+4+r-1):""},nE=rE,sE=function(e,t){var r=Fn(e,t);return r>0?fu(e,t+4,t+4+r-1):""},aE=sE,iE=function(e,t){var r=2*Fn(e,t);return r>0?fu(e,t+4,t+4+r-1):""},oE=iE,lE=function(t,r){var n=Fn(t,r);return n>0?Lx(t,r+4,r+4+n):""},cE=lE,uE=function(e,t){var r=Fn(e,t);return r>0?fu(e,t+4,t+4+r):""},dE=uE,fE=function(e,t){return YF(e,t)},nf=fE,Ox=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Et&&(nE=function(t,r){if(!Buffer.isBuffer(t))return rE(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},aE=function(t,r){if(!Buffer.isBuffer(t))return sE(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},oE=function(t,r){if(!Buffer.isBuffer(t))return iE(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},cE=function(t,r){if(!Buffer.isBuffer(t))return lE(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},dE=function(t,r){if(!Buffer.isBuffer(t))return uE(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},nf=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):fE(t,r)},Ox=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var ho=function(e,t){return e[t]},Ks=function(e,t){return e[t+1]*256+e[t]},QF=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Fn=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},hi=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},ZF=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Xl(e,t){var r="",n,s,a=[],i,o,l,c;switch(t){case"dbcs":if(c=this.l,Et&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)r+=String.fromCharCode(Ks(this,c)),c+=2;e*=2;break;case"utf8":r=fu(this,this.l,this.l+e);break;case"utf16le":e*=2,r=Lx(this,this.l,this.l+e);break;case"wstr":return Xl.call(this,e,"dbcs");case"lpstr-ansi":r=nE(this,this.l),e=4+Fn(this,this.l);break;case"lpstr-cp":r=aE(this,this.l),e=4+Fn(this,this.l);break;case"lpwstr":r=oE(this,this.l),e=4+2*Fn(this,this.l);break;case"lpp4":e=4+Fn(this,this.l),r=cE(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Fn(this,this.l),r=dE(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(i=ho(this,this.l+e++))!==0;)a.push(Gu(i));r=a.join("");break;case"_wstr":for(e=0,r="";(i=Ks(this,this.l+e))!==0;)a.push(Gu(i)),e+=2;e+=2,r=a.join("");break;case"dbcs-cont":for(r="",c=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return i=ho(this,c),this.l=c+1,o=Xl.call(this,e-l,i?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(Gu(Ks(this,c))),c+=2}r=a.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",c=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return i=ho(this,c),this.l=c+1,o=Xl.call(this,e-l,i?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(Gu(ho(this,c))),c+=1}r=a.join("");break;default:switch(e){case 1:return n=ho(this,this.l),this.l++,n;case 2:return n=(t==="i"?QF:Ks)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?hi:ZF)(this,this.l),this.l+=4,n):(s=Fn(this,this.l),this.l+=4,s);case 8:case-8:if(t==="f")return e==8?s=nf(this,this.l):s=nf([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;e=8;case 16:r=tE(this,this.l,e);break}}return this.l+=e,r}var e5=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},t5=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},r5=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function n5(e,t,r){var n=0,s=0;if(r==="dbcs"){for(s=0;s!=t.length;++s)r5(this,t.charCodeAt(s),this.l+2*s);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=t.length;++s)this[this.l+s]=t.charCodeAt(s)&255;n=t.length}else if(r==="hex"){for(;s<e;++s)this[this.l++]=parseInt(t.slice(2*s,2*s+2),16)||0;return this}else if(r==="utf16le"){var a=Math.min(this.l+e,this.length);for(s=0;s<Math.min(t.length,e);++s){var i=t.charCodeAt(s);this[this.l++]=i&255,this[this.l++]=i>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,e5(this,t,this.l);break;case 8:if(n=8,r==="f"){XF(this,t,this.l);break}case 16:break;case-4:n=4,t5(this,t,this.l);break}return this.l+=n,this}function hE(e,t){var r=tE(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Hr(e,t){e.l=t,e.read_shift=Xl,e.chk=hE,e.write_shift=n5}function on(e,t){e.l+=t}function me(e){var t=Va(e);return Hr(t,0),t}function la(e,t,r){if(e){var n,s,a;Hr(e,e.l||0);for(var i=e.length,o=0,l=0;e.l<i;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var c=qc[o]||qc[65535];for(n=e.read_shift(1),a=n&127,s=1;s<4&&n&128;++s)a+=((n=e.read_shift(1))&127)<<7*s;l=e.l+a;var u=c.f&&c.f(e,a,r);if(e.l=l,t(u,c,o))return}}}function Cn(){var e=[],t=Et?256:2048,r=function(c){var u=me(c);return Hr(u,0),u},n=r(t),s=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},a=function(c){return n&&c<n.length-n.l?n:(s(),n=r(Math.max(c+1,t)))},i=function(){return s(),Mr(e)},o=function(c){s(),n=c,n.l==null&&(n.l=n.length),a(t)};return{next:a,push:o,end:i,_bufs:e}}function be(e,t,r,n){var s=+t,a;if(!isNaN(s)){n||(n=qc[s].p||(r||[]).length||0),a=1+(s>=128?1:0)+1,n>=128&&++a,n>=16384&&++a,n>=2097152&&++a;var i=e.next(a);s<=127?i.write_shift(1,s):(i.write_shift(1,(s&127)+128),i.write_shift(1,s>>7));for(var o=0;o!=4;++o)if(n>=128)i.write_shift(1,(n&127)+128),n>>=7;else{i.write_shift(1,n);break}n>0&&Ox(r)&&e.push(r)}}function Ql(e,t,r){var n=Zt(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function e_(e,t,r){var n=Zt(e);return n.s=Ql(n.s,t.s,r),n.e=Ql(n.e,t.s,r),n}function Zl(e,t){if(e.cRel&&e.c<0)for(e=Zt(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Zt(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=ft(e);return!e.cRel&&e.cRel!=null&&(r=i5(r)),!e.rRel&&e.rRel!=null&&(r=s5(r)),r}function ph(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+nr(e.s.c)+":"+(e.e.cRel?"":"$")+nr(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+gr(e.s.r)+":"+(e.e.rRel?"":"$")+gr(e.e.r):Zl(e.s,t.biff)+":"+Zl(e.e,t.biff)}function Ux(e){return parseInt(a5(e),10)-1}function gr(e){return""+(e+1)}function s5(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function a5(e){return e.replace(/\$(\d+)$/,"$1")}function Bx(e){for(var t=o5(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function nr(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function i5(e){return e.replace(/^([A-Z])/,"$$$1")}function o5(e){return e.replace(/^\$([A-Z])/,"$1")}function l5(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function sr(e){for(var t=0,r=0,n=0;n<e.length;++n){var s=e.charCodeAt(n);s>=48&&s<=57?t=10*t+(s-48):s>=65&&s<=90&&(r=26*r+(s-64))}return{c:r-1,r:t-1}}function ft(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function An(e){var t=e.indexOf(":");return t==-1?{s:sr(e),e:sr(e)}:{s:sr(e.slice(0,t)),e:sr(e.slice(t+1))}}function wt(e,t){return typeof t>"u"||typeof t=="number"?wt(e.s,e.e):(typeof e!="string"&&(e=ft(e)),typeof t!="string"&&(t=ft(t)),e==t?e:e+":"+t)}function Ft(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,s=0,a=e.length;for(r=0;n<a&&!((s=e.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(t.s.c=--r,r=0;n<a&&!((s=e.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;if(t.s.r=--r,n===a||s!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=a&&!((s=e.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(t.e.c=--r,r=0;n!=a&&!((s=e.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;return t.e.r=--r,t}function t_(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=as(e.z,r?Nr(t):t)}catch{}try{return e.w=as((e.XF||{}).numFmtId||(r?14:0),r?Nr(t):t)}catch{return""+t}}function na(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?ca[e.v]||e.v:t==null?t_(e,e.v):t_(e,t))}function Qa(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function pE(e,t,r){var n=r||{},s=e?Array.isArray(e):n.dense,a=e||(s?[]:{}),i=0,o=0;if(a&&n.origin!=null){if(typeof n.origin=="number")i=n.origin;else{var l=typeof n.origin=="string"?sr(n.origin):n.origin;i=l.r,o=l.c}a["!ref"]||(a["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var u=Ft(a["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),i==-1&&(c.e.r=i=u.e.r+1)}for(var h=0;h!=t.length;++h)if(t[h]){if(!Array.isArray(t[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var p=0;p!=t[h].length;++p)if(!(typeof t[h][p]>"u")){var g={v:t[h][p]},v=i+h,x=o+p;if(c.s.r>v&&(c.s.r=v),c.s.c>x&&(c.s.c=x),c.e.r<v&&(c.e.r=v),c.e.c<x&&(c.e.c=x),t[h][p]&&typeof t[h][p]=="object"&&!Array.isArray(t[h][p])&&!(t[h][p]instanceof Date))g=t[h][p];else if(Array.isArray(g.v)&&(g.f=t[h][p][1],g.v=g.v[0]),g.v===null)if(g.f)g.t="n";else if(n.nullError)g.t="e",g.v=0;else if(n.sheetStubs)g.t="z";else continue;else typeof g.v=="number"?g.t="n":typeof g.v=="boolean"?g.t="b":g.v instanceof Date?(g.z=n.dateNF||ot[14],n.cellDates?(g.t="d",g.w=as(g.z,Nr(g.v))):(g.t="n",g.v=Nr(g.v),g.w=as(g.z,g.v))):g.t="s";if(s)a[v]||(a[v]=[]),a[v][x]&&a[v][x].z&&(g.z=a[v][x].z),a[v][x]=g;else{var y=ft({c:x,r:v});a[y]&&a[y].z&&(g.z=a[y].z),a[y]=g}}}return c.s.c<1e7&&(a["!ref"]=wt(c)),a}function cl(e,t){return pE(null,e,t)}function c5(e){return e.read_shift(4,"i")}function Ts(e,t){return t||(t=me(4)),t.write_shift(4,e),t}function sn(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Dr(e,t){var r=!1;return t==null&&(r=!0,t=me(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function u5(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function d5(e,t){return t||(t=me(4)),t.write_shift(2,0),t.write_shift(2,0),t}function jx(e,t){var r=e.l,n=e.read_shift(1),s=sn(e),a=[],i={t:s,h:s};if(n&1){for(var o=e.read_shift(4),l=0;l!=o;++l)a.push(u5(e));i.r=a}else i.r=[{ich:0,ifnt:0}];return e.l=r+t,i}function f5(e,t){var r=!1;return t==null&&(r=!0,t=me(15+4*e.t.length)),t.write_shift(1,0),Dr(e.t,t),r?t.slice(0,t.l):t}var h5=jx;function p5(e,t){var r=!1;return t==null&&(r=!0,t=me(23+4*e.t.length)),t.write_shift(1,1),Dr(e.t,t),t.write_shift(4,1),d5({},t),r?t.slice(0,t.l):t}function os(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Hi(e,t){return t==null&&(t=me(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Gi(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Wi(e,t){return t==null&&(t=me(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var m5=sn,mE=Dr;function $x(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function sf(e,t){var r=!1;return t==null&&(r=!0,t=me(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var g5=sn,Vp=$x,Vx=sf;function Hx(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var s=n===0?nf([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):hi(t,0)>>2;return r?s/100:s}function gE(e,t){t==null&&(t=me(4));var r=0,n=0,s=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:s==(s|0)&&s>=-536870912&&s<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?s:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function xE(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function x5(e,t){return t||(t=me(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var zi=xE,ul=x5;function rn(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Di(e,t){return(t||me(8)).write_shift(8,e,"f")}function v5(e){var t={},r=e.read_shift(1),n=r>>>1,s=e.read_shift(1),a=e.read_shift(2,"i"),i=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=s;var c=bi[s];c&&(t.rgb=Hc(c));break;case 2:t.rgb=Hc([i,o,l]);break;case 3:t.theme=s;break}return a!=0&&(t.tint=a>0?a/32767:a/32768),t}function af(e,t){if(t||(t=me(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function y5(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function _5(e,t){t||(t=me(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}function vE(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function w5(e){return vE(e,1)}function k5(e){return vE(e,2)}var Gx=2,yn=3,zu=11,r_=12,of=19,qu=64,b5=65,S5=71,E5=4108,T5=4126,Pr=80,yE=81,C5=[Pr,yE],Hp={1:{n:"CodePage",t:Gx},2:{n:"Category",t:Pr},3:{n:"PresentationFormat",t:Pr},4:{n:"ByteCount",t:yn},5:{n:"LineCount",t:yn},6:{n:"ParagraphCount",t:yn},7:{n:"SlideCount",t:yn},8:{n:"NoteCount",t:yn},9:{n:"HiddenCount",t:yn},10:{n:"MultimediaClipCount",t:yn},11:{n:"ScaleCrop",t:zu},12:{n:"HeadingPairs",t:E5},13:{n:"TitlesOfParts",t:T5},14:{n:"Manager",t:Pr},15:{n:"Company",t:Pr},16:{n:"LinksUpToDate",t:zu},17:{n:"CharacterCount",t:yn},19:{n:"SharedDoc",t:zu},22:{n:"HyperlinksChanged",t:zu},23:{n:"AppVersion",t:yn,p:"version"},24:{n:"DigSig",t:b5},26:{n:"ContentType",t:Pr},27:{n:"ContentStatus",t:Pr},28:{n:"Language",t:Pr},29:{n:"Version",t:Pr},255:{},2147483648:{n:"Locale",t:of},2147483651:{n:"Behavior",t:of},1919054434:{}},Gp={1:{n:"CodePage",t:Gx},2:{n:"Title",t:Pr},3:{n:"Subject",t:Pr},4:{n:"Author",t:Pr},5:{n:"Keywords",t:Pr},6:{n:"Comments",t:Pr},7:{n:"Template",t:Pr},8:{n:"LastAuthor",t:Pr},9:{n:"RevNumber",t:Pr},10:{n:"EditTime",t:qu},11:{n:"LastPrinted",t:qu},12:{n:"CreatedDate",t:qu},13:{n:"ModifiedDate",t:qu},14:{n:"PageCount",t:yn},15:{n:"WordCount",t:yn},16:{n:"CharCount",t:yn},17:{n:"Thumbnail",t:S5},18:{n:"Application",t:Pr},19:{n:"DocSecurity",t:yn},255:{},2147483648:{n:"Locale",t:of},2147483651:{n:"Behavior",t:of},1919054434:{}},n_={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},A5=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function N5(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var I5=N5([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),bi=Zt(I5),ca={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},_E={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},Wp={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Ku={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function Wx(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function R5(e){var t=Wx();if(!e||!e.match)return t;var r={};if((e.match(ln)||[]).forEach(function(n){var s=ht(n);switch(s[0].replace($F,"<")){case"<?xml":break;case"<Types":t.xmlns=s["xmlns"+(s[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[s.Extension]=s.ContentType;break;case"<Override":t[Wp[s.ContentType]]!==void 0&&t[Wp[s.ContentType]].push(s.PartName);break}}),t.xmlns!==Cr.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}function wE(e,t){var r=RF(Wp),n=[],s;n[n.length]=xr,n[n.length]=De("Types",null,{xmlns:Cr.CT,"xmlns:xsd":Cr.xsd,"xmlns:xsi":Cr.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return De("Default",null,{Extension:l[0],ContentType:l[1]})}));var a=function(l){e[l]&&e[l].length>0&&(s=e[l][0],n[n.length]=De("Override",null,{PartName:(s[0]=="/"?"":"/")+s,ContentType:Ku[l][t.bookType]||Ku[l].xlsx}))},i=function(l){(e[l]||[]).forEach(function(c){n[n.length]=De("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:Ku[l][t.bookType]||Ku[l].xlsx})})},o=function(l){(e[l]||[]).forEach(function(c){n[n.length]=De("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:r[l][0]})})};return a("workbooks"),i("sheets"),i("charts"),o("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),i("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Tt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Vc(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function ec(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(ln)||[]).forEach(function(s){var a=ht(s);if(a[0]==="<Relationship"){var i={};i.Type=a.Type,i.Target=a.Target,i.Id=a.Id,a.TargetMode&&(i.TargetMode=a.TargetMode);var o=a.TargetMode==="External"?a.Target:Ul(a.Target,t);r[o]=i,n[a.Id]=i}}),r["!id"]=n,r}function Bo(e){var t=[xr,De("Relationships",null,{xmlns:Cr.RELS})];return fr(e["!id"]).forEach(function(r){t[t.length]=De("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function jt(e,t,r,n,s,a){if(s||(s={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,s.Id="rId"+t,s.Type=n,s.Target=r,[Tt.HLINK,Tt.XPATH,Tt.XMISS].indexOf(s.Type)>-1&&(s.TargetMode="External"),e["!id"][s.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][s.Id]=s,e[("/"+s.Target).replace("//","/")]=s,t}var P5="application/vnd.oasis.opendocument.spreadsheet";function F5(e,t){for(var r=Dx(e),n,s;n=$c.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(s=ht(n[0],!1),s.path=="/"&&s.type!==P5)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}function M5(e){var t=[xr];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function s_(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function D5(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function L5(e){var t=[xr];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(s_(e[r][0],e[r][1])),t.push(D5("",e[r][0]));return t.push(s_("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function kE(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Qd.version+"</meta:generator></office:meta></office:document-meta>"}var ts=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],O5=function(){for(var e=new Array(ts.length),t=0;t<ts.length;++t){var r=ts[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function bE(e){var t={};e=Ht(e);for(var r=0;r<ts.length;++r){var n=ts[r],s=e.match(O5[r]);s!=null&&s.length>0&&(t[n[1]]=Pt(s[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=Qt(t[n[1]]))}return t}function mh(e,t,r,n,s){s[e]!=null||t==null||t===""||(s[e]=t,t=$t(t),n[n.length]=r?De(e,t,r):Gr(e,t))}function SE(e,t){var r=t||{},n=[xr,De("cp:coreProperties",null,{"xmlns:cp":Cr.CORE_PROPS,"xmlns:dc":Cr.dc,"xmlns:dcterms":Cr.dcterms,"xmlns:dcmitype":Cr.dcmitype,"xmlns:xsi":Cr.xsi})],s={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&mh("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:$p(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,s),e.ModifiedDate!=null&&mh("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:$p(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,s));for(var a=0;a!=ts.length;++a){var i=ts[a],o=r.Props&&r.Props[i[1]]!=null?r.Props[i[1]]:e?e[i[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&mh(i[0],o,null,n,s)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Si=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],EE=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function TE(e,t,r,n){var s=[];if(typeof e=="string")s=Ky(e,n);else for(var a=0;a<e.length;++a)s=s.concat(e[a].map(function(u){return{v:u}}));var i=typeof t=="string"?Ky(t,n).map(function(u){return u.v}):t,o=0,l=0;if(i.length>0)for(var c=0;c!==s.length;c+=2){switch(l=+s[c+1].v,s[c].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=l,r.SheetNames=i.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=l,r.DefinedNames=i.slice(o,o+l);break;case"Charts":case"Diagramme":r.Chartsheets=l,r.ChartNames=i.slice(o,o+l);break}o+=l}}function U5(e,t,r){var n={};return t||(t={}),e=Ht(e),Si.forEach(function(s){var a=(e.match(Bc(s[0]))||[])[1];switch(s[2]){case"string":a&&(t[s[1]]=Pt(a));break;case"bool":t[s[1]]=a==="true";break;case"raw":var i=e.match(new RegExp("<"+s[0]+"[^>]*>([\\s\\S]*?)</"+s[0]+">"));i&&i.length>0&&(n[s[1]]=i[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&TE(n.HeadingPairs,n.TitlesOfParts,t,r),t}function CE(e){var t=[],r=De;return e||(e={}),e.Application="SheetJS",t[t.length]=xr,t[t.length]=De("Properties",null,{xmlns:Cr.EXT_PROPS,"xmlns:vt":Cr.vt}),Si.forEach(function(n){if(e[n[1]]!==void 0){var s;switch(n[2]){case"string":s=$t(String(e[n[1]]));break;case"bool":s=e[n[1]]?"true":"false";break}s!==void 0&&(t[t.length]=r(n[0],s))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+$t(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var B5=/<[^>]+>[^<]*/g;function j5(e,t){var r={},n="",s=e.match(B5);if(s)for(var a=0;a!=s.length;++a){var i=s[a],o=ht(i);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Pt(o.name);break;case"</property>":n=null;break;default:if(i.indexOf("<vt:")===0){var l=i.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":r[n]=Pt(u);break;case"bool":r[n]=Yt(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(u,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(u);break;case"filetime":case"date":r[n]=Qt(u);break;case"cy":case"error":r[n]=Pt(u);break;default:if(c.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",i,c,l)}}else if(i.slice(0,2)!=="</"){if(t.WTF)throw new Error(i)}}}return r}function AE(e){var t=[xr,De("Properties",null,{xmlns:Cr.CUST_PROPS,"xmlns:vt":Cr.vt})];if(!e)return t.join("");var r=1;return fr(e).forEach(function(s){++r,t[t.length]=De("property",JF(e[s]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:$t(s)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var zp={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},gh;function $5(e,t,r){gh||(gh=x0(zp)),t=gh[t]||t,e[t]=r}function V5(e,t){var r=[];return fr(zp).map(function(n){for(var s=0;s<ts.length;++s)if(ts[s][1]==n)return ts[s];for(s=0;s<Si.length;++s)if(Si[s][1]==n)return Si[s];throw n}).forEach(function(n){if(e[n[1]]!=null){var s=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":s=new Date(s).toISOString().replace(/\.\d*Z/,"Z");break}typeof s=="number"?s=String(s):s===!0||s===!1?s=s?"1":"0":s instanceof Date&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"")),r.push(Gr(zp[n[1]]||n[1],s))}}),De("DocumentProperties",r.join(""),{xmlns:Pn.o})}function H5(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",s=[];return e&&fr(e).forEach(function(a){if(Object.prototype.hasOwnProperty.call(e,a)){for(var i=0;i<ts.length;++i)if(a==ts[i][1])return;for(i=0;i<Si.length;++i)if(a==Si[i][1])return;for(i=0;i<r.length;++i)if(a==r[i])return;var o=e[a],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),s.push(De(Gy(a),o,{"dt:dt":l}))}}),t&&fr(t).forEach(function(a){if(Object.prototype.hasOwnProperty.call(t,a)&&!(e&&Object.prototype.hasOwnProperty.call(e,a))){var i=t[a],o="string";typeof i=="number"?(o="float",i=String(i)):i===!0||i===!1?(o="boolean",i=i?"1":"0"):i instanceof Date?(o="dateTime.tz",i=i.toISOString()):i=String(i),s.push(De(Gy(a),i,{"dt:dt":o}))}}),"<"+n+' xmlns="'+Pn.o+'">'+s.join("")+"</"+n+">"}function zx(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function G5(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),s=(r-n)/Math.pow(2,32);n*=1e7,s*=1e7;var a=n/Math.pow(2,32)|0;a>0&&(n=n%Math.pow(2,32),s+=a);var i=me(8);return i.write_shift(4,n),i.write_shift(4,s),i}function NE(e,t,r){var n=e.l,s=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return s}function IE(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function RE(e,t,r){return t===31?IE(e):NE(e,t,r)}function qp(e,t,r){return RE(e,t,r===!1?0:4)}function W5(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return RE(e,t,0)}function z5(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var s=e.l;r[n]=e.read_shift(0,"lpwstr").replace(mn,""),e.l-s&2&&(e.l+=2)}return r}function q5(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(mn,"");return r}function K5(e){var t=e.l,r=lf(e,yE);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=lf(e,yn);return[r,n]}function J5(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(K5(e));return r}function a_(e,t){for(var r=e.read_shift(4),n={},s=0;s!=r;++s){var a=e.read_shift(4),i=e.read_shift(4);n[a]=e.read_shift(i,t===1200?"utf16le":"utf8").replace(mn,"").replace(Ol,"!"),t===1200&&i%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function PE(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function Y5(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function lf(e,t,r){var n=e.read_shift(2),s,a=r||{};if(e.l+=2,t!==r_&&n!==t&&C5.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===r_?n:t){case 2:return s=e.read_shift(2,"i"),a.raw||(e.l+=2),s;case 3:return s=e.read_shift(4,"i"),s;case 11:return e.read_shift(4)!==0;case 19:return s=e.read_shift(4),s;case 30:return NE(e,n,4).replace(mn,"");case 31:return IE(e);case 64:return zx(e);case 65:return PE(e);case 71:return Y5(e);case 80:return qp(e,n,!a.raw).replace(mn,"");case 81:return W5(e,n).replace(mn,"");case 4108:return J5(e);case 4126:case 4127:return n==4127?z5(e):q5(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function i_(e,t){var r=me(4),n=me(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=me(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=G5(t);break;case 31:case 80:for(n=me(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Mr([r,n])}function o_(e,t){var r=e.l,n=e.read_shift(4),s=e.read_shift(4),a=[],i=0,o=0,l=-1,c={};for(i=0;i!=s;++i){var u=e.read_shift(4),h=e.read_shift(4);a[i]=[u,h+r]}a.sort(function(k,_){return k[1]-_[1]});var p={};for(i=0;i!=s;++i){if(e.l!==a[i][1]){var g=!0;if(i>0&&t)switch(t[a[i-1][0]].t){case 2:e.l+2===a[i][1]&&(e.l+=2,g=!1);break;case 80:e.l<=a[i][1]&&(e.l=a[i][1],g=!1);break;case 4108:e.l<=a[i][1]&&(e.l=a[i][1],g=!1);break}if((!t||i==0)&&e.l<=a[i][1]&&(g=!1,e.l=a[i][1]),g)throw new Error("Read Error: Expected address "+a[i][1]+" at "+e.l+" :"+i)}if(t){var v=t[a[i][0]];if(p[v.n]=lf(e,v.t,{raw:!0}),v.p==="version"&&(p[v.n]=String(p[v.n]>>16)+"."+("0000"+String(p[v.n]&65535)).slice(-4)),v.n=="CodePage")switch(p[v.n]){case 0:p[v.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:_s(o=p[v.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+p[v.n])}}else if(a[i][0]===1){if(o=p.CodePage=lf(e,Gx),_s(o),l!==-1){var x=e.l;e.l=a[l][1],c=a_(e,o),e.l=x}}else if(a[i][0]===0){if(o===0){l=i,e.l=a[i+1][1];continue}c=a_(e,o)}else{var y=c[a[i][0]],w;switch(e[e.l]){case 65:e.l+=4,w=PE(e);break;case 30:e.l+=4,w=qp(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,w=qp(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,w=e.read_shift(4,"i");break;case 19:e.l+=4,w=e.read_shift(4);break;case 5:e.l+=4,w=e.read_shift(8,"f");break;case 11:e.l+=4,w=pr(e,4);break;case 64:e.l+=4,w=Qt(zx(e));break;default:throw new Error("unparsed value: "+e[e.l])}p[y]=w}}return e.l=r+n,p}var FE=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function X5(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function l_(e,t,r){var n=me(8),s=[],a=[],i=8,o=0,l=me(8),c=me(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),a.push(l),s.push(c),i+=8+l.length,!t){c=me(8),c.write_shift(4,0),s.unshift(c);var u=[me(4)];for(u[0].write_shift(4,e.length),o=0;o<e.length;++o){var h=e[o][0];for(l=me(8+2*(h.length+1)+(h.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,h.length+1),l.write_shift(0,h,"dbcs");l.l!=l.length;)l.write_shift(1,0);u.push(l)}l=Mr(u),a.unshift(l),i+=8+l.length}for(o=0;o<e.length;++o)if(!(t&&!t[e[o][0]])&&!(FE.indexOf(e[o][0])>-1||EE.indexOf(e[o][0])>-1)&&e[o][1]!=null){var p=e[o][1],g=0;if(t){g=+t[e[o][0]];var v=r[g];if(v.p=="version"&&typeof p=="string"){var x=p.split(".");p=(+x[0]<<16)+(+x[1]||0)}l=i_(v.t,p)}else{var y=X5(p);y==-1&&(y=31,p=String(p)),l=i_(y,p)}a.push(l),c=me(8),c.write_shift(4,t?g:2+o),s.push(c),i+=8+l.length}var w=8*(a.length+1);for(o=0;o<a.length;++o)s[o].write_shift(4,w),w+=a[o].length;return n.write_shift(4,i),n.write_shift(4,a.length),Mr([n].concat(s).concat(a))}function c_(e,t,r){var n=e.content;if(!n)return{};Hr(n,0);var s,a,i,o,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var c=n.read_shift(4),u=n.read_shift(16);if(u!==nt.utils.consts.HEADER_CLSID&&u!==r)throw new Error("Bad PropertySet CLSID "+u);if(s=n.read_shift(4),s!==1&&s!==2)throw new Error("Unrecognized #Sets: "+s);if(a=n.read_shift(16),o=n.read_shift(4),s===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);s===2&&(i=n.read_shift(16),l=n.read_shift(4));var h=o_(n,t),p={SystemIdentifier:c};for(var g in h)p[g]=h[g];if(p.FMTID=a,s===1)return p;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);var v;try{v=o_(n,null)}catch{}for(g in v)p[g]=v[g];return p.FMTID=[a,i],p}function u_(e,t,r,n,s,a){var i=me(s?68:48),o=[i];i.write_shift(2,65534),i.write_shift(2,0),i.write_shift(4,842412599),i.write_shift(16,nt.utils.consts.HEADER_CLSID,"hex"),i.write_shift(4,s?2:1),i.write_shift(16,t,"hex"),i.write_shift(4,s?68:48);var l=l_(e,r,n);if(o.push(l),s){var c=l_(s,null,null);i.write_shift(16,a,"hex"),i.write_shift(4,68+l.length),o.push(c)}return Mr(o)}function ga(e,t){return e.read_shift(t),null}function Q5(e,t){t||(t=me(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function Z5(e,t,r){for(var n=[],s=e.l+t;e.l<s;)n.push(r(e,s-e.l));if(s!==e.l)throw new Error("Slurp error");return n}function pr(e,t){return e.read_shift(t)===1}function fn(e,t){return t||(t=me(2)),t.write_shift(2,+!!e),t}function wr(e){return e.read_shift(2,"u")}function Jn(e,t){return t||(t=me(2)),t.write_shift(2,e),t}function ME(e,t){return Z5(e,t,wr)}function eM(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function DE(e,t,r){return r||(r=me(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function hu(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),s="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var a=e.read_shift(1);a&&(s="dbcs-cont")}else r.biff==12&&(s="wstr");r.biff>=2&&r.biff<=5&&(s="cpstr");var i=n?e.read_shift(n,s):"";return i}function tM(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,s=r&8,a=1+(r&1),i=0,o,l={};s&&(i=e.read_shift(2)),n&&(o=e.read_shift(4));var c=a==2?"dbcs-cont":"sbcs-cont",u=t===0?"":e.read_shift(t,c);return s&&(e.l+=4*i),n&&(e.l+=o),l.t=u,s||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function rM(e){var t=e.t||"",r=me(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=me(2*t.length);n.write_shift(2*t.length,t,"utf16le");var s=[r,n];return Mr(s)}function Li(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var s=e.read_shift(1);return s===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function pu(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):Li(e,n,r)}function qi(e,t,r){if(r.biff>5)return pu(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function LE(e,t,r){return r||(r=me(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function nM(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function sM(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var s=e.read_shift((n?t-24:t)>>1,"utf16le").replace(mn,"");return n&&(e.l+=24),s}function aM(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var s=e.read_shift(4);if(s===0)return r+n.replace(/\\/g,"/");var a=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var i=e.read_shift(a>>1,"utf16le").replace(mn,"");return r+i}function iM(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return sM(e);case"0303000000000000c000000000000046":return aM(e);default:throw new Error("Unsupported Moniker "+r)}}function Ju(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(mn,""):"";return r}function d_(e,t){t||(t=me(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function oM(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var s=e.read_shift(2);e.l+=2;var a,i,o,l,c="",u,h;s&16&&(a=Ju(e,r-e.l)),s&128&&(i=Ju(e,r-e.l)),(s&257)===257&&(o=Ju(e,r-e.l)),(s&257)===1&&(l=iM(e,r-e.l)),s&8&&(c=Ju(e,r-e.l)),s&32&&(u=e.read_shift(16)),s&64&&(h=zx(e)),e.l=r;var p=i||o||l||"";p&&c&&(p+="#"+c),p||(p="#"+c),s&2&&p.charAt(0)=="/"&&p.charAt(1)!="/"&&(p="file://"+p);var g={Target:p};return u&&(g.guid=u),h&&(g.time=h),a&&(g.Tooltip=a),g}function lM(e){var t=me(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var s=n.indexOf("#"),a=s>-1?31:23;switch(n.charAt(0)){case"#":a=28;break;case".":a&=-3;break}t.write_shift(4,2),t.write_shift(4,a);var i=[8,6815827,6619237,4849780,83];for(r=0;r<i.length;++r)t.write_shift(4,i[r]);if(a==28)n=n.slice(1),d_(n,t);else if(a&2){for(i="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<i.length;++r)t.write_shift(1,parseInt(i[r],16));var o=s>-1?n.slice(0,s):n;for(t.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)t.write_shift(2,o.charCodeAt(r));t.write_shift(2,0),a&8&&d_(s>-1?n.slice(s+1):"",t)}else{for(i="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<i.length;++r)t.write_shift(1,parseInt(i[r],16));for(var l=0;n.slice(l*3,l*3+3)=="../"||n.slice(l*3,l*3+3)=="..\\";)++l;for(t.write_shift(2,l),t.write_shift(4,n.length-3*l+1),r=0;r<n.length-3*l;++r)t.write_shift(1,n.charCodeAt(r+3*l)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function OE(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),s=e.read_shift(1);return[t,r,n,s]}function UE(e,t){var r=OE(e);return r[3]=0,r}function Vs(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function Oi(e,t,r,n){return n||(n=me(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function cM(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function uM(e,t,r){return t===0?"":qi(e,t,r)}function dM(e,t,r){var n=r.biff>8?4:2,s=e.read_shift(n),a=e.read_shift(n,"i"),i=e.read_shift(n,"i");return[s,a,i]}function BE(e){var t=e.read_shift(2),r=Hx(e);return[t,r]}function fM(e,t,r){e.l+=4,t-=4;var n=e.l+t,s=hu(e,t,r),a=e.read_shift(2);if(n-=e.l,a!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+a);return e.l+=a,s}function _0(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),s=e.read_shift(2);return{s:{c:n,r:t},e:{c:s,r}}}function jE(e,t){return t||(t=me(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function $E(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),s=e.read_shift(1);return{s:{c:n,r:t},e:{c:s,r}}}var hM=$E;function VE(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function pM(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function mM(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Yr(e){e.l+=2,e.l+=e.read_shift(2)}var gM={0:Yr,4:Yr,5:Yr,6:Yr,7:mM,8:Yr,9:Yr,10:Yr,11:Yr,12:Yr,13:pM,14:Yr,15:Yr,16:Yr,17:Yr,18:Yr,19:Yr,20:Yr,21:VE};function xM(e,t){for(var r=e.l+t,n=[];e.l<r;){var s=e.read_shift(2);e.l-=2;try{n.push(gM[s](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function Yu(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function qx(e,t,r){var n=1536,s=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,s=8;break;case"biff4":n=4,s=6;break;case"biff3":n=3,s=6;break;case"biff2":n=2,s=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var a=me(s);return a.write_shift(2,n),a.write_shift(2,t),s>4&&a.write_shift(2,29282),s>6&&a.write_shift(2,1997),s>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function vM(e,t){return t===0||e.read_shift(2),1200}function yM(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,s=qi(e,0,r);return e.read_shift(t+n-e.l),s}function _M(e,t){var r=!t||t.biff==8,n=me(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function wM(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function kM(e,t,r){var n=e.read_shift(4),s=e.read_shift(1)&3,a=e.read_shift(1);switch(a){case 0:a="Worksheet";break;case 1:a="Macrosheet";break;case 2:a="Chartsheet";break;case 6:a="VBAModule";break}var i=hu(e,0,r);return i.length===0&&(i="Sheet1"),{pos:n,hs:s,dt:a,name:i}}function bM(e,t){var r=!t||t.biff>=8?2:1,n=me(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var s=n.slice(0,n.l);return s.l=n.l,s}function SM(e,t){for(var r=e.l+t,n=e.read_shift(4),s=e.read_shift(4),a=[],i=0;i!=s&&e.l<r;++i)a.push(tM(e));return a.Count=n,a.Unique=s,a}function EM(e,t){var r=me(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],s=0;s<e.length;++s)n[s]=rM(e[s]);var a=Mr([r].concat(n));return a.parts=[r.length].concat(n.map(function(i){return i.length})),a}function TM(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function CM(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function AM(e){var t=cM(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function NM(e){return e.read_shift(2),e.read_shift(4)}function f_(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var s=e.read_shift(2);r&&r.biff==2&&(n=1-(s>>15),s&=32767);var a={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[a,s]}function IM(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2);return{Pos:[t,r],Dim:[n,s],Flags:a,CurTab:i,FirstTab:o,Selected:l,TabRatio:c}}function RM(){var e=me(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function PM(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function FM(e){var t=me(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function MM(){}function DM(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=hu(e,0,r),n}function LM(e,t){var r=e.name||"Arial",n=t&&t.biff==5,s=n?15+r.length:16+2*r.length,a=me(s);return a.write_shift(2,e.sz*20),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,r.length),n||a.write_shift(1,1),a.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),a}function OM(e){var t=Vs(e);return t.isst=e.read_shift(4),t}function UM(e,t,r,n){var s=me(10);return Oi(e,t,n,s),s.write_shift(4,r),s}function BM(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,s=Vs(e);r.biff==2&&e.l++;var a=pu(e,n-e.l,r);return s.val=a,s}function jM(e,t,r,n,s){var a=!s||s.biff==8,i=me(8+ +a+(1+a)*r.length);return Oi(e,t,n,i),i.write_shift(2,r.length),a&&i.write_shift(1,1),i.write_shift((1+a)*r.length,r,a?"utf16le":"sbcs"),i}function $M(e,t,r){var n=e.read_shift(2),s=qi(e,0,r);return[n,s]}function VM(e,t,r,n){var s=r&&r.biff==5;n||(n=me(s?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(s?1:2,t.length),s||n.write_shift(1,1),n.write_shift((s?1:2)*t.length,t,s?"sbcs":"utf16le");var a=n.length>n.l?n.slice(0,n.l):n;return a.l==null&&(a.l=a.length),a}var HM=qi;function h_(e,t,r){var n=e.l+t,s=r.biff==8||!r.biff?4:2,a=e.read_shift(s),i=e.read_shift(s),o=e.read_shift(2),l=e.read_shift(2);return e.l=n,{s:{r:a,c:o},e:{r:i,c:l}}}function GM(e,t){var r=t.biff==8||!t.biff?4:2,n=me(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function WM(e){var t=e.read_shift(2),r=e.read_shift(2),n=BE(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function zM(e,t){for(var r=e.l+t-2,n=e.read_shift(2),s=e.read_shift(2),a=[];e.l<r;)a.push(BE(e));if(e.l!==r)throw new Error("MulRK read error");var i=e.read_shift(2);if(a.length!=i-s+1)throw new Error("MulRK length mismatch");return{r:n,c:s,C:i,rkrec:a}}function qM(e,t){for(var r=e.l+t-2,n=e.read_shift(2),s=e.read_shift(2),a=[];e.l<r;)a.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var i=e.read_shift(2);if(a.length!=i-s+1)throw new Error("MulBlank length mismatch");return{r:n,c:s,C:i,ixfe:a}}function KM(e,t,r,n){var s={},a=e.read_shift(4),i=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(2);return s.patternType=A5[o>>26],n.cellStyles&&(s.alc=a&7,s.fWrap=a>>3&1,s.alcV=a>>4&7,s.fJustLast=a>>7&1,s.trot=a>>8&255,s.cIndent=a>>16&15,s.fShrinkToFit=a>>20&1,s.iReadOrder=a>>22&2,s.fAtrNum=a>>26&1,s.fAtrFnt=a>>27&1,s.fAtrAlc=a>>28&1,s.fAtrBdr=a>>29&1,s.fAtrPat=a>>30&1,s.fAtrProt=a>>31&1,s.dgLeft=i&15,s.dgRight=i>>4&15,s.dgTop=i>>8&15,s.dgBottom=i>>12&15,s.icvLeft=i>>16&127,s.icvRight=i>>23&127,s.grbitDiag=i>>30&3,s.icvTop=o&127,s.icvBottom=o>>7&127,s.icvDiag=o>>14&127,s.dgDiag=o>>21&15,s.icvFore=l&127,s.icvBack=l>>7&127,s.fsxButton=l>>14&1),s}function JM(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=KM(e,t,n.fStyle,r),n}function p_(e,t,r,n){var s=r&&r.biff==5;n||(n=me(s?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var a=0;return e.numFmtId>0&&s&&(a|=1024),n.write_shift(4,a),n.write_shift(4,0),s||n.write_shift(4,0),n.write_shift(2,0),n}function YM(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function XM(e){var t=me(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function m_(e,t,r){var n=Vs(e);(r.biff==2||t==9)&&++e.l;var s=eM(e);return n.val=s,n.t=s===!0||s===!1?"b":"e",n}function QM(e,t,r,n,s,a){var i=me(8);return Oi(e,t,n,i),DE(r,a,i),i}function ZM(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=Vs(e),s=rn(e);return n.val=s,n}function e6(e,t,r,n){var s=me(14);return Oi(e,t,n,s),Di(r,s),s}var g_=uM;function t6(e,t,r){var n=e.l+t,s=e.read_shift(2),a=e.read_shift(2);if(r.sbcch=a,a==1025||a==14849)return[a,s];if(a<1||a>255)throw new Error("Unexpected SupBook type: "+a);for(var i=Li(e,a),o=[];n>e.l;)o.push(pu(e));return[a,s,i,o]}function x_(e,t,r){var n=e.read_shift(2),s,a={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(s=fM(e,t-2,r)),a.body=s||e.read_shift(t-2),typeof s=="string"&&(a.Name=s),a}var r6=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function v_(e,t,r){var n=e.l+t,s=e.read_shift(2),a=e.read_shift(1),i=e.read_shift(1),o=e.read_shift(r&&r.biff==2?1:2),l=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),l=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var c=Li(e,i,r);s&32&&(c=r6[c.charCodeAt(0)]);var u=n-e.l;r&&r.biff==2&&--u;var h=n==e.l||o===0||!(u>0)?[]:xO(e,u,r,o);return{chKey:a,Name:c,itab:l,rgce:h}}function HE(e,t,r){if(r.biff<8)return n6(e,t,r);for(var n=[],s=e.l+t,a=e.read_shift(r.biff>8?4:2);a--!==0;)n.push(dM(e,r.biff>8?12:6,r));if(e.l!=s)throw new Error("Bad ExternSheet: "+e.l+" != "+s);return n}function n6(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=hu(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function s6(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),s=e.read_shift(2),a=Li(e,n,r),i=Li(e,s,r);return[a,i]}function a6(e,t,r){var n=$E(e);e.l++;var s=e.read_shift(1);return t-=8,[vO(e,t,r),s,n]}function y_(e,t,r){var n=hM(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,mO(e,t,r)]}function i6(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function o6(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),o=qi(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:s},o,i,a]}}function l6(e,t,r){return o6(e,t,r)}function c6(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(_0(e));return r}function u6(e){var t=me(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)jE(e[r],t);return t}function d6(e,t,r){if(r&&r.biff<8)return h6(e,t,r);var n=VE(e),s=xM(e,t-22,n[1]);return{cmo:n,ft:s}}var f6={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var s=e.read_shift(1);return e.l+=s,e.l=r,{fmt:n}}};function h6(e,t,r){e.l+=4;var n=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var i=[];return i.push((f6[n]||on)(e,t,r)),{cmo:[s,n,a],ft:i}}function p6(e,t,r){var n=e.l,s="";try{e.l+=4;var a=(r.lastobj||{cmo:[0,0]}).cmo[1],i;[0,5,7,11,12,14].indexOf(a)==-1?e.l+=6:i=nM(e,6,r);var o=e.read_shift(2);e.read_shift(2),wr(e,2);var l=e.read_shift(2);e.l+=l;for(var c=1;c<e.lens.length-1;++c){if(e.l-n!=e.lens[c])throw new Error("TxO: bad continue record");var u=e[e.l],h=Li(e,e.lens[c+1]-e.lens[c]-1);if(s+=h,s.length>=(u?o:2*o))break}if(s.length!==o&&s.length!==o*2)throw new Error("cchText: "+o+" != "+s.length);return e.l=n+t,{t:s}}catch{return e.l=n+t,{t:s}}}function m6(e,t){var r=_0(e);e.l+=16;var n=oM(e,t-24);return[r,n]}function g6(e){var t=me(24),r=sr(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<16;++s)t.write_shift(1,parseInt(n[s],16));return Mr([t,lM(e[1])])}function x6(e,t){e.read_shift(2);var r=_0(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(mn,""),[r,n]}function v6(e){var t=e[1].Tooltip,r=me(10+2*(t.length+1));r.write_shift(2,2048);var n=sr(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var s=0;s<t.length;++s)r.write_shift(2,t.charCodeAt(s));return r.write_shift(2,0),r}function y6(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=n_[r]||r,r=e.read_shift(2),t[1]=n_[r]||r,t}function _6(e){return e||(e=me(4)),e.write_shift(2,1),e.write_shift(2,1),e}function w6(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(UE(e));return r}function k6(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(UE(e));return r}function b6(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function GE(e,t,r){if(!r.cellStyles)return on(e,t);var n=r&&r.biff>=12?4:2,s=e.read_shift(n),a=e.read_shift(n),i=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(2);n==2&&(e.l+=2);var c={s,e:a,w:i,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}function S6(e,t){var r=me(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function E6(e,t){var r={};return t<32||(e.l+=16,r.header=rn(e),r.footer=rn(e),e.l+=2),r}function T6(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var s=e.read_shift(1);return e.l+=3,s&16&&(n.area=!0),n}function C6(e){for(var t=me(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}var A6=Vs,N6=ME,I6=pu;function R6(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),s={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,s}function P6(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=Vs(e);++e.l;var s=qi(e,t-7,r);return n.t="str",n.val=s,n}function F6(e){var t=Vs(e);++e.l;var r=rn(e);return t.t="n",t.val=r,t}function M6(e,t,r){var n=me(15);return vu(n,e,t),n.write_shift(8,r,"f"),n}function D6(e){var t=Vs(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function L6(e,t,r){var n=me(9);return vu(n,e,t),n.write_shift(2,r),n}function O6(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function U6(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function B6(e,t,r){var n=e.l+t,s=Vs(e),a=e.read_shift(2),i=Li(e,a,r);return e.l=n,s.t="str",s.val=i,s}var j6=[2,3,48,49,131,139,140,245],Kp=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=x0({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var c=[],u=Va(1);switch(l.type){case"base64":u=Dn(jn(o));break;case"binary":u=Dn(o);break;case"buffer":case"array":u=o;break}Hr(u,0);var h=u.read_shift(1),p=!!(h&136),g=!1,v=!1;switch(h){case 2:break;case 3:break;case 48:g=!0,p=!0;break;case 49:g=!0,p=!0;break;case 131:break;case 139:break;case 140:v=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+h.toString(16))}var x=0,y=521;h==2&&(x=u.read_shift(2)),u.l+=3,h!=2&&(x=u.read_shift(4)),x>1048576&&(x=1e6),h!=2&&(y=u.read_shift(2));var w=u.read_shift(2),k=l.codepage||1252;h!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(k=e[u[u.l]]),u.l+=1,u.l+=2),v&&(u.l+=36);for(var _=[],b={},T=Math.min(u.length,h==2?521:y-10-(g?264:0)),E=v?32:11;u.l<T&&u[u.l]!=13;)switch(b={},b.name=Lc.utils.decode(k,u.slice(u.l,u.l+E)).replace(/[\u0000\r\n].*$/g,""),u.l+=E,b.type=String.fromCharCode(u.read_shift(1)),h!=2&&!v&&(b.offset=u.read_shift(4)),b.len=u.read_shift(1),h==2&&(b.offset=u.read_shift(2)),b.dec=u.read_shift(1),b.name.length&&_.push(b),h!=2&&(u.l+=v?13:14),b.type){case"B":(!g||b.len!=8)&&l.WTF&&console.log("Skipping "+b.name+":"+b.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+b.name+":"+b.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+b.type)}if(u[u.l]!==13&&(u.l=y-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=y;var S=0,M=0;for(c[0]=[],M=0;M!=_.length;++M)c[0][M]=_[M].name;for(;x-- >0;){if(u[u.l]===42){u.l+=w;continue}for(++u.l,c[++S]=[],M=0,M=0;M!=_.length;++M){var F=u.slice(u.l,u.l+_[M].len);u.l+=_[M].len,Hr(F,0);var z=Lc.utils.decode(k,F);switch(_[M].type){case"C":z.trim().length&&(c[S][M]=z.replace(/\s+$/,""));break;case"D":z.length===8?c[S][M]=new Date(+z.slice(0,4),+z.slice(4,6)-1,+z.slice(6,8)):c[S][M]=z;break;case"F":c[S][M]=parseFloat(z.trim());break;case"+":case"I":c[S][M]=v?F.read_shift(-4,"i")^2147483648:F.read_shift(4,"i");break;case"L":switch(z.trim().toUpperCase()){case"Y":case"T":c[S][M]=!0;break;case"N":case"F":c[S][M]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+z+"|")}break;case"M":if(!p)throw new Error("DBF Unexpected MEMO for type "+h.toString(16));c[S][M]="##MEMO##"+(v?parseInt(z.trim(),10):F.read_shift(4));break;case"N":z=z.replace(/\u0000/g,"").trim(),z&&z!="."&&(c[S][M]=+z||0);break;case"@":c[S][M]=new Date(F.read_shift(-8,"f")-621356832e5);break;case"T":c[S][M]=new Date((F.read_shift(4)-2440588)*864e5+F.read_shift(4));break;case"Y":c[S][M]=F.read_shift(4,"i")/1e4+F.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[S][M]=-F.read_shift(-8,"f");break;case"B":if(g&&_[M].len==8){c[S][M]=F.read_shift(8,"f");break}case"G":case"P":F.l+=_[M].len;break;case"0":if(_[M].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+_[M].type)}}}if(h!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=_,c}function n(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=cl(r(o,c),c);return u["!cols"]=c.DBF.map(function(h){return{wch:h.len,DBF:h}}),delete c.DBF,u}function s(o,l){try{return Qa(n(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function i(o,l){var c=l||{};if(+c.codepage>=0&&_s(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=Cn(),h=df(o,{header:1,raw:!0,cellDates:!0}),p=h[0],g=h.slice(1),v=o["!cols"]||[],x=0,y=0,w=0,k=1;for(x=0;x<p.length;++x){if(((v[x]||{}).DBF||{}).name){p[x]=v[x].DBF.name,++w;continue}if(p[x]!=null){if(++w,typeof p[x]=="number"&&(p[x]=p[x].toString(10)),typeof p[x]!="string")throw new Error("DBF Invalid column name "+p[x]+" |"+typeof p[x]+"|");if(p.indexOf(p[x])!==x){for(y=0;y<1024;++y)if(p.indexOf(p[x]+"_"+y)==-1){p[x]+="_"+y;break}}}}var _=Ft(o["!ref"]),b=[],T=[],E=[];for(x=0;x<=_.e.c-_.s.c;++x){var S="",M="",F=0,z=[];for(y=0;y<g.length;++y)g[y][x]!=null&&z.push(g[y][x]);if(z.length==0||p[x]==null){b[x]="?";continue}for(y=0;y<z.length;++y){switch(typeof z[y]){case"number":M="B";break;case"string":M="C";break;case"boolean":M="L";break;case"object":M=z[y]instanceof Date?"D":"C";break;default:M="C"}F=Math.max(F,String(z[y]).length),S=S&&S!=M?"C":M}F>250&&(F=250),M=((v[x]||{}).DBF||{}).type,M=="C"&&v[x].DBF.len>F&&(F=v[x].DBF.len),S=="B"&&M=="N"&&(S="N",E[x]=v[x].DBF.dec,F=v[x].DBF.len),T[x]=S=="C"||M=="N"?F:a[S]||0,k+=T[x],b[x]=S}var Y=u.next(32);for(Y.write_shift(4,318902576),Y.write_shift(4,g.length),Y.write_shift(2,296+32*w),Y.write_shift(2,k),x=0;x<4;++x)Y.write_shift(4,0);for(Y.write_shift(4,0|(+t[FS]||3)<<8),x=0,y=0;x<p.length;++x)if(p[x]!=null){var U=u.next(32),re=(p[x].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);U.write_shift(1,re,"sbcs"),U.write_shift(1,b[x]=="?"?"C":b[x],"sbcs"),U.write_shift(4,y),U.write_shift(1,T[x]||a[b[x]]||0),U.write_shift(1,E[x]||0),U.write_shift(1,2),U.write_shift(4,0),U.write_shift(1,0),U.write_shift(4,0),U.write_shift(4,0),y+=T[x]||a[b[x]]||0}var B=u.next(264);for(B.write_shift(4,13),x=0;x<65;++x)B.write_shift(4,0);for(x=0;x<g.length;++x){var fe=u.next(k);for(fe.write_shift(1,0),y=0;y<p.length;++y)if(p[y]!=null)switch(b[y]){case"L":fe.write_shift(1,g[x][y]==null?63:g[x][y]?84:70);break;case"B":fe.write_shift(8,g[x][y]||0,"f");break;case"N":var we="0";for(typeof g[x][y]=="number"&&(we=g[x][y].toFixed(E[y]||0)),w=0;w<T[y]-we.length;++w)fe.write_shift(1,32);fe.write_shift(1,we,"sbcs");break;case"D":g[x][y]?(fe.write_shift(4,("0000"+g[x][y].getFullYear()).slice(-4),"sbcs"),fe.write_shift(2,("00"+(g[x][y].getMonth()+1)).slice(-2),"sbcs"),fe.write_shift(2,("00"+g[x][y].getDate()).slice(-2),"sbcs")):fe.write_shift(8,"00000000","sbcs");break;case"C":var J=String(g[x][y]!=null?g[x][y]:"").slice(0,T[y]);for(fe.write_shift(1,J,"sbcs"),w=0;w<T[y]-J.length;++w)fe.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:s,to_sheet:n,from_sheet:i}}(),WE=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+fr(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(p,g){var v=e[g];return typeof v=="number"?Iy(v):v},n=function(p,g,v){var x=g.charCodeAt(0)-32<<4|v.charCodeAt(0)-48;return x==59?p:Iy(x)};e["|"]=254;function s(p,g){switch(g.type){case"base64":return a(jn(p),g);case"binary":return a(p,g);case"buffer":return a(Et&&Buffer.isBuffer(p)?p.toString("binary"):Xa(p),g);case"array":return a(Mi(p),g)}throw new Error("Unrecognized type "+g.type)}function a(p,g){var v=p.split(/[\n\r]+/),x=-1,y=-1,w=0,k=0,_=[],b=[],T=null,E={},S=[],M=[],F=[],z=0,Y;for(+g.codepage>=0&&_s(+g.codepage);w!==v.length;++w){z=0;var U=v[w].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),re=U.replace(/;;/g,"\0").split(";").map(function(q){return q.replace(/\u0000/g,";")}),B=re[0],fe;if(U.length>0)switch(B){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":re[1].charAt(0)=="P"&&b.push(U.slice(3).replace(/;;/g,";"));break;case"C":var we=!1,J=!1,X=!1,W=!1,pe=-1,Ee=-1;for(k=1;k<re.length;++k)switch(re[k].charAt(0)){case"A":break;case"X":y=parseInt(re[k].slice(1))-1,J=!0;break;case"Y":for(x=parseInt(re[k].slice(1))-1,J||(y=0),Y=_.length;Y<=x;++Y)_[Y]=[];break;case"K":fe=re[k].slice(1),fe.charAt(0)==='"'?fe=fe.slice(1,fe.length-1):fe==="TRUE"?fe=!0:fe==="FALSE"?fe=!1:isNaN(Es(fe))?isNaN(Xo(fe).getDate())||(fe=Qt(fe)):(fe=Es(fe),T!==null&&ol(T)&&(fe=y0(fe))),we=!0;break;case"E":W=!0;var I=jo(re[k].slice(1),{r:x,c:y});_[x][y]=[_[x][y],I];break;case"S":X=!0,_[x][y]=[_[x][y],"S5S"];break;case"G":break;case"R":pe=parseInt(re[k].slice(1))-1;break;case"C":Ee=parseInt(re[k].slice(1))-1;break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+U)}if(we&&(_[x][y]&&_[x][y].length==2?_[x][y][0]=fe:_[x][y]=fe,T=null),X){if(W)throw new Error("SYLK shared formula cannot have own formula");var L=pe>-1&&_[pe][Ee];if(!L||!L[1])throw new Error("SYLK shared formula cannot find base");_[x][y][1]=cT(L[1],{r:x-pe,c:y-Ee})}break;case"F":var G=0;for(k=1;k<re.length;++k)switch(re[k].charAt(0)){case"X":y=parseInt(re[k].slice(1))-1,++G;break;case"Y":for(x=parseInt(re[k].slice(1))-1,Y=_.length;Y<=x;++Y)_[Y]=[];break;case"M":z=parseInt(re[k].slice(1))/20;break;case"F":break;case"G":break;case"P":T=b[parseInt(re[k].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(F=re[k].slice(1).split(" "),Y=parseInt(F[0],10);Y<=parseInt(F[1],10);++Y)z=parseInt(F[2],10),M[Y-1]=z===0?{hidden:!0}:{wch:z},Ha(M[Y-1]);break;case"C":y=parseInt(re[k].slice(1))-1,M[y]||(M[y]={});break;case"R":x=parseInt(re[k].slice(1))-1,S[x]||(S[x]={}),z>0?(S[x].hpt=z,S[x].hpx=Zo(z)):z===0&&(S[x].hidden=!0);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+U)}G<1&&(T=null);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+U)}}return S.length>0&&(E["!rows"]=S),M.length>0&&(E["!cols"]=M),g&&g.sheetRows&&(_=_.slice(0,g.sheetRows)),[_,E]}function i(p,g){var v=s(p,g),x=v[0],y=v[1],w=cl(x,g);return fr(y).forEach(function(k){w[k]=y[k]}),w}function o(p,g){return Qa(i(p,g),g)}function l(p,g,v,x){var y="C;Y"+(v+1)+";X"+(x+1)+";K";switch(p.t){case"n":y+=p.v||0,p.f&&!p.F&&(y+=";E"+Zx(p.f,{r:v,c:x}));break;case"b":y+=p.v?"TRUE":"FALSE";break;case"e":y+=p.w||p.v;break;case"d":y+='"'+(p.w||p.v)+'"';break;case"s":y+='"'+p.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return y}function c(p,g){g.forEach(function(v,x){var y="F;W"+(x+1)+" "+(x+1)+" ";v.hidden?y+="0":(typeof v.width=="number"&&!v.wpx&&(v.wpx=Gc(v.width)),typeof v.wpx=="number"&&!v.wch&&(v.wch=Wc(v.wpx)),typeof v.wch=="number"&&(y+=Math.round(v.wch))),y.charAt(y.length-1)!=" "&&p.push(y)})}function u(p,g){g.forEach(function(v,x){var y="F;";v.hidden?y+="M0;":v.hpt?y+="M"+20*v.hpt+";":v.hpx&&(y+="M"+20*zc(v.hpx)+";"),y.length>2&&p.push(y+"R"+(x+1))})}function h(p,g){var v=["ID;PWXL;N;E"],x=[],y=Ft(p["!ref"]),w,k=Array.isArray(p),_=`\r
`;v.push("P;PGeneral"),v.push("F;P0;DG0G8;M255"),p["!cols"]&&c(v,p["!cols"]),p["!rows"]&&u(v,p["!rows"]),v.push("B;Y"+(y.e.r-y.s.r+1)+";X"+(y.e.c-y.s.c+1)+";D"+[y.s.c,y.s.r,y.e.c,y.e.r].join(" "));for(var b=y.s.r;b<=y.e.r;++b)for(var T=y.s.c;T<=y.e.c;++T){var E=ft({r:b,c:T});w=k?(p[b]||[])[T]:p[E],!(!w||w.v==null&&(!w.f||w.F))&&x.push(l(w,p,b,T))}return v.join(_)+_+x.join(_)+_+"E"+_}return{to_workbook:o,to_sheet:i,from_sheet:h}}(),zE=function(){function e(a,i){switch(i.type){case"base64":return t(jn(a),i);case"binary":return t(a,i);case"buffer":return t(Et&&Buffer.isBuffer(a)?a.toString("binary"):Xa(a),i);case"array":return t(Mi(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){for(var o=a.split(`
`),l=-1,c=-1,u=0,h=[];u!==o.length;++u){if(o[u].trim()==="BOT"){h[++l]=[],c=0;continue}if(!(l<0)){var p=o[u].trim().split(","),g=p[0],v=p[1];++u;for(var x=o[u]||"";(x.match(/["]/g)||[]).length&1&&u<o.length-1;)x+=`
`+o[++u];switch(x=x.trim(),+g){case-1:if(x==="BOT"){h[++l]=[],c=0;continue}else if(x!=="EOD")throw new Error("Unrecognized DIF special command "+x);break;case 0:x==="TRUE"?h[l][c]=!0:x==="FALSE"?h[l][c]=!1:isNaN(Es(v))?isNaN(Xo(v).getDate())?h[l][c]=v:h[l][c]=Qt(v):h[l][c]=Es(v),++c;break;case 1:x=x.slice(1,x.length-1),x=x.replace(/""/g,'"'),x&&x.match(/^=".*"$/)&&(x=x.slice(2,-1)),h[l][c++]=x!==""?x:null;break}if(x==="EOD")break}}return i&&i.sheetRows&&(h=h.slice(0,i.sheetRows)),h}function r(a,i){return cl(e(a,i),i)}function n(a,i){return Qa(r(a,i),i)}var s=function(){var a=function(l,c,u,h,p){l.push(c),l.push(u+","+h),l.push('"'+p.replace(/"/g,'""')+'"')},i=function(l,c,u,h){l.push(c+","+u),l.push(c==1?'"'+h.replace(/"/g,'""')+'"':h)};return function(l){var c=[],u=Ft(l["!ref"]),h,p=Array.isArray(l);a(c,"TABLE",0,1,"sheetjs"),a(c,"VECTORS",0,u.e.r-u.s.r+1,""),a(c,"TUPLES",0,u.e.c-u.s.c+1,""),a(c,"DATA",0,0,"");for(var g=u.s.r;g<=u.e.r;++g){i(c,-1,0,"BOT");for(var v=u.s.c;v<=u.e.c;++v){var x=ft({r:g,c:v});if(h=p?(l[g]||[])[v]:l[x],!h){i(c,1,0,"");continue}switch(h.t){case"n":var y=h.w;!y&&h.v!=null&&(y=h.v),y==null?h.f&&!h.F?i(c,1,0,"="+h.f):i(c,1,0,""):i(c,0,y,"V");break;case"b":i(c,0,h.v?1:0,h.v?"TRUE":"FALSE");break;case"s":i(c,1,0,isNaN(h.v)?h.v:'="'+h.v+'"');break;case"d":h.w||(h.w=as(h.z||ot[14],Nr(Qt(h.v)))),i(c,0,h.w,"V");break;default:i(c,1,0,"")}}}i(c,-1,0,"EOD");var w=`\r
`,k=c.join(w);return k}}();return{to_workbook:n,to_sheet:r,from_sheet:s}}(),qE=function(){function e(h){return h.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(h){return h.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(h,p){for(var g=h.split(`
`),v=-1,x=-1,y=0,w=[];y!==g.length;++y){var k=g[y].trim().split(":");if(k[0]==="cell"){var _=sr(k[1]);if(w.length<=_.r)for(v=w.length;v<=_.r;++v)w[v]||(w[v]=[]);switch(v=_.r,x=_.c,k[2]){case"t":w[v][x]=e(k[3]);break;case"v":w[v][x]=+k[3];break;case"vtf":var b=k[k.length-1];case"vtc":switch(k[3]){case"nl":w[v][x]=!!+k[4];break;default:w[v][x]=+k[4];break}k[2]=="vtf"&&(w[v][x]=[w[v][x],b])}}}return p&&p.sheetRows&&(w=w.slice(0,p.sheetRows)),w}function n(h,p){return cl(r(h,p),p)}function s(h,p){return Qa(n(h,p),p)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),i=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(h){if(!h||!h["!ref"])return"";for(var p=[],g=[],v,x="",y=An(h["!ref"]),w=Array.isArray(h),k=y.s.r;k<=y.e.r;++k)for(var _=y.s.c;_<=y.e.c;++_)if(x=ft({r:k,c:_}),v=w?(h[k]||[])[_]:h[x],!(!v||v.v==null||v.t==="z")){switch(g=["cell",x,"t"],v.t){case"s":case"str":g.push(t(v.v));break;case"n":v.f?(g[2]="vtf",g[3]="n",g[4]=v.v,g[5]=t(v.f)):(g[2]="v",g[3]=v.v);break;case"b":g[2]="vt"+(v.f?"f":"c"),g[3]="nl",g[4]=v.v?"1":"0",g[5]=t(v.f||(v.v?"TRUE":"FALSE"));break;case"d":var b=Nr(Qt(v.v));g[2]="vtc",g[3]="nd",g[4]=""+b,g[5]=v.w||as(v.z||ot[14],b);break;case"e":continue}p.push(g.join(":"))}return p.push("sheet:c:"+(y.e.c-y.s.c+1)+":r:"+(y.e.r-y.s.r+1)+":tvf:1"),p.push("valueformat:1:text-wiki"),p.join(`
`)}function u(h){return[a,i,o,i,c(h),l].join(`
`)}return{to_workbook:s,to_sheet:n,from_sheet:u}}(),Qo=function(){function e(u,h,p,g,v){v.raw?h[p][g]=u:u===""||(u==="TRUE"?h[p][g]=!0:u==="FALSE"?h[p][g]=!1:isNaN(Es(u))?isNaN(Xo(u).getDate())?h[p][g]=u:h[p][g]=Qt(u):h[p][g]=Es(u))}function t(u,h){var p=h||{},g=[];if(!u||u.length===0)return g;for(var v=u.split(/[\r\n]/),x=v.length-1;x>=0&&v[x].length===0;)--x;for(var y=10,w=0,k=0;k<=x;++k)w=v[k].indexOf(" "),w==-1?w=v[k].length:w++,y=Math.max(y,w);for(k=0;k<=x;++k){g[k]=[];var _=0;for(e(v[k].slice(0,y).trim(),g,k,_,p),_=1;_<=(v[k].length-y)/10+1;++_)e(v[k].slice(y+(_-1)*10,y+_*10).trim(),g,k,_,p)}return p.sheetRows&&(g=g.slice(0,p.sheetRows)),g}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function s(u){for(var h={},p=!1,g=0,v=0;g<u.length;++g)(v=u.charCodeAt(g))==34?p=!p:!p&&v in r&&(h[v]=(h[v]||0)+1);v=[];for(g in h)Object.prototype.hasOwnProperty.call(h,g)&&v.push([h[g],g]);if(!v.length){h=n;for(g in h)Object.prototype.hasOwnProperty.call(h,g)&&v.push([h[g],g])}return v.sort(function(x,y){return x[0]-y[0]||n[x[1]]-n[y[1]]}),r[v.pop()[1]]||44}function a(u,h){var p=h||{},g="",v=p.dense?[]:{},x={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(g=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(g=u.charAt(4),u=u.slice(6)):g=s(u.slice(0,1024)):p&&p.FS?g=p.FS:g=s(u.slice(0,1024));var y=0,w=0,k=0,_=0,b=0,T=g.charCodeAt(0),E=!1,S=0,M=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var F=p.dateNF!=null?TF(p.dateNF):null;function z(){var Y=u.slice(_,b),U={};if(Y.charAt(0)=='"'&&Y.charAt(Y.length-1)=='"'&&(Y=Y.slice(1,-1).replace(/""/g,'"')),Y.length===0)U.t="z";else if(p.raw)U.t="s",U.v=Y;else if(Y.trim().length===0)U.t="s",U.v=Y;else if(Y.charCodeAt(0)==61)Y.charCodeAt(1)==34&&Y.charCodeAt(Y.length-1)==34?(U.t="s",U.v=Y.slice(2,-1).replace(/""/g,'"')):tL(Y)?(U.t="n",U.f=Y.slice(1)):(U.t="s",U.v=Y);else if(Y=="TRUE")U.t="b",U.v=!0;else if(Y=="FALSE")U.t="b",U.v=!1;else if(!isNaN(k=Es(Y)))U.t="n",p.cellText!==!1&&(U.w=Y),U.v=k;else if(!isNaN(Xo(Y).getDate())||F&&Y.match(F)){U.z=p.dateNF||ot[14];var re=0;F&&Y.match(F)&&(Y=CF(Y,p.dateNF,Y.match(F)||[]),re=1),p.cellDates?(U.t="d",U.v=Qt(Y,re)):(U.t="n",U.v=Nr(Qt(Y,re))),p.cellText!==!1&&(U.w=as(U.z,U.v instanceof Date?Nr(U.v):U.v)),p.cellNF||delete U.z}else U.t="s",U.v=Y;if(U.t=="z"||(p.dense?(v[y]||(v[y]=[]),v[y][w]=U):v[ft({c:w,r:y})]=U),_=b+1,M=u.charCodeAt(_),x.e.c<w&&(x.e.c=w),x.e.r<y&&(x.e.r=y),S==T)++w;else if(w=0,++y,p.sheetRows&&p.sheetRows<=y)return!0}e:for(;b<u.length;++b)switch(S=u.charCodeAt(b)){case 34:M===34&&(E=!E);break;case T:case 10:case 13:if(!E&&z())break e;break}return b-_>0&&z(),v["!ref"]=wt(x),v}function i(u,h){return!(h&&h.PRN)||h.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?a(u,h):cl(t(u,h),h)}function o(u,h){var p="",g=h.type=="string"?[0,0,0,0]:o1(u,h);switch(h.type){case"base64":p=jn(u);break;case"binary":p=u;break;case"buffer":h.codepage==65001?p=u.toString("utf8"):h.codepage&&typeof Lc<"u"||(p=Et&&Buffer.isBuffer(u)?u.toString("binary"):Xa(u));break;case"array":p=Mi(u);break;case"string":p=u;break;default:throw new Error("Unrecognized type "+h.type)}return g[0]==239&&g[1]==187&&g[2]==191?p=Ht(p.slice(3)):h.type!="string"&&h.type!="buffer"&&h.codepage==65001?p=Ht(p):h.type=="binary"&&typeof Lc<"u",p.slice(0,19)=="socialcalc:version:"?qE.to_sheet(h.type=="string"?p:Ht(p),h):i(p,h)}function l(u,h){return Qa(o(u,h),h)}function c(u){for(var h=[],p=Ft(u["!ref"]),g,v=Array.isArray(u),x=p.s.r;x<=p.e.r;++x){for(var y=[],w=p.s.c;w<=p.e.c;++w){var k=ft({r:x,c:w});if(g=v?(u[x]||[])[w]:u[k],!g||g.v==null){y.push("          ");continue}for(var _=(g.w||(na(g),g.w)||"").slice(0,10);_.length<10;)_+=" ";y.push(_+(w===0?" ":""))}h.push(y.join(""))}return h.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}}();function $6(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var s=WE.to_workbook(e,r);return r.WTF=n,s}catch(a){if(r.WTF=n,!a.message.match(/SYLK bad record ID/)&&n)throw a;return Qo.to_workbook(e,t)}}var Ei=function(){function e(I,L,G){if(I){Hr(I,I.l||0);for(var q=G.Enum||pe;I.l<I.length;){var ce=I.read_shift(2),ye=q[ce]||q[65535],ge=I.read_shift(2),ve=I.l+ge,H=ye.f&&ye.f(I,ge,G);if(I.l=ve,L(H,ye,ce))return}}}function t(I,L){switch(L.type){case"base64":return r(Dn(jn(I)),L);case"binary":return r(Dn(I),L);case"buffer":case"array":return r(I,L)}throw"Unsupported type "+L.type}function r(I,L){if(!I)return I;var G=L||{},q=G.dense?[]:{},ce="Sheet1",ye="",ge=0,ve={},H=[],he=[],D={s:{r:0,c:0},e:{r:0,c:0}},Ce=G.sheetRows||0;if(I[2]==0&&(I[3]==8||I[3]==9)&&I.length>=16&&I[14]==5&&I[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(I[2]==2)G.Enum=pe,e(I,function(Z,Te,He){switch(He){case 0:G.vers=Z,Z>=4096&&(G.qpro=!0);break;case 6:D=Z;break;case 204:Z&&(ye=Z);break;case 222:ye=Z;break;case 15:case 51:G.qpro||(Z[1].v=Z[1].v.slice(1));case 13:case 14:case 16:He==14&&(Z[2]&112)==112&&(Z[2]&15)>1&&(Z[2]&15)<15&&(Z[1].z=G.dateNF||ot[14],G.cellDates&&(Z[1].t="d",Z[1].v=y0(Z[1].v))),G.qpro&&Z[3]>ge&&(q["!ref"]=wt(D),ve[ce]=q,H.push(ce),q=G.dense?[]:{},D={s:{r:0,c:0},e:{r:0,c:0}},ge=Z[3],ce=ye||"Sheet"+(ge+1),ye="");var qe=G.dense?(q[Z[0].r]||[])[Z[0].c]:q[ft(Z[0])];if(qe){qe.t=Z[1].t,qe.v=Z[1].v,Z[1].z!=null&&(qe.z=Z[1].z),Z[1].f!=null&&(qe.f=Z[1].f);break}G.dense?(q[Z[0].r]||(q[Z[0].r]=[]),q[Z[0].r][Z[0].c]=Z[1]):q[ft(Z[0])]=Z[1];break}},G);else if(I[2]==26||I[2]==14)G.Enum=Ee,I[2]==14&&(G.qpro=!0,I.l=0),e(I,function(Z,Te,He){switch(He){case 204:ce=Z;break;case 22:Z[1].v=Z[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Z[3]>ge&&(q["!ref"]=wt(D),ve[ce]=q,H.push(ce),q=G.dense?[]:{},D={s:{r:0,c:0},e:{r:0,c:0}},ge=Z[3],ce="Sheet"+(ge+1)),Ce>0&&Z[0].r>=Ce)break;G.dense?(q[Z[0].r]||(q[Z[0].r]=[]),q[Z[0].r][Z[0].c]=Z[1]):q[ft(Z[0])]=Z[1],D.e.c<Z[0].c&&(D.e.c=Z[0].c),D.e.r<Z[0].r&&(D.e.r=Z[0].r);break;case 27:Z[14e3]&&(he[Z[14e3][0]]=Z[14e3][1]);break;case 1537:he[Z[0]]=Z[1],Z[0]==ge&&(ce=Z[1]);break}},G);else throw new Error("Unrecognized LOTUS BOF "+I[2]);if(q["!ref"]=wt(D),ve[ye||ce]=q,H.push(ye||ce),!he.length)return{SheetNames:H,Sheets:ve};for(var Ae={},Ve=[],Pe=0;Pe<he.length;++Pe)ve[H[Pe]]?(Ve.push(he[Pe]||H[Pe]),Ae[he[Pe]]=ve[he[Pe]]||ve[H[Pe]]):(Ve.push(he[Pe]),Ae[he[Pe]]={"!ref":"A1"});return{SheetNames:Ve,Sheets:Ae}}function n(I,L){var G=L||{};if(+G.codepage>=0&&_s(+G.codepage),G.type=="string")throw new Error("Cannot write WK1 to JS string");var q=Cn(),ce=Ft(I["!ref"]),ye=Array.isArray(I),ge=[];Oe(q,0,a(1030)),Oe(q,6,l(ce));for(var ve=Math.min(ce.e.r,8191),H=ce.s.r;H<=ve;++H)for(var he=gr(H),D=ce.s.c;D<=ce.e.c;++D){H===ce.s.r&&(ge[D]=nr(D));var Ce=ge[D]+he,Ae=ye?(I[H]||[])[D]:I[Ce];if(!(!Ae||Ae.t=="z"))if(Ae.t=="n")(Ae.v|0)==Ae.v&&Ae.v>=-32768&&Ae.v<=32767?Oe(q,13,g(H,D,Ae.v)):Oe(q,14,x(H,D,Ae.v));else{var Ve=na(Ae);Oe(q,15,h(H,D,Ve.slice(0,239)))}}return Oe(q,1),q.end()}function s(I,L){var G=L||{};if(+G.codepage>=0&&_s(+G.codepage),G.type=="string")throw new Error("Cannot write WK3 to JS string");var q=Cn();Oe(q,0,i(I));for(var ce=0,ye=0;ce<I.SheetNames.length;++ce)(I.Sheets[I.SheetNames[ce]]||{})["!ref"]&&Oe(q,27,W(I.SheetNames[ce],ye++));var ge=0;for(ce=0;ce<I.SheetNames.length;++ce){var ve=I.Sheets[I.SheetNames[ce]];if(!(!ve||!ve["!ref"])){for(var H=Ft(ve["!ref"]),he=Array.isArray(ve),D=[],Ce=Math.min(H.e.r,8191),Ae=H.s.r;Ae<=Ce;++Ae)for(var Ve=gr(Ae),Pe=H.s.c;Pe<=H.e.c;++Pe){Ae===H.s.r&&(D[Pe]=nr(Pe));var Z=D[Pe]+Ve,Te=he?(ve[Ae]||[])[Pe]:ve[Z];if(!(!Te||Te.t=="z"))if(Te.t=="n")Oe(q,23,z(Ae,Pe,ge,Te.v));else{var He=na(Te);Oe(q,22,S(Ae,Pe,ge,He.slice(0,239)))}}++ge}}return Oe(q,1),q.end()}function a(I){var L=me(2);return L.write_shift(2,I),L}function i(I){var L=me(26);L.write_shift(2,4096),L.write_shift(2,4),L.write_shift(4,0);for(var G=0,q=0,ce=0,ye=0;ye<I.SheetNames.length;++ye){var ge=I.SheetNames[ye],ve=I.Sheets[ge];if(!(!ve||!ve["!ref"])){++ce;var H=An(ve["!ref"]);G<H.e.r&&(G=H.e.r),q<H.e.c&&(q=H.e.c)}}return G>8191&&(G=8191),L.write_shift(2,G),L.write_shift(1,ce),L.write_shift(1,q),L.write_shift(2,0),L.write_shift(2,0),L.write_shift(1,1),L.write_shift(1,2),L.write_shift(4,0),L.write_shift(4,0),L}function o(I,L,G){var q={s:{c:0,r:0},e:{c:0,r:0}};return L==8&&G.qpro?(q.s.c=I.read_shift(1),I.l++,q.s.r=I.read_shift(2),q.e.c=I.read_shift(1),I.l++,q.e.r=I.read_shift(2),q):(q.s.c=I.read_shift(2),q.s.r=I.read_shift(2),L==12&&G.qpro&&(I.l+=2),q.e.c=I.read_shift(2),q.e.r=I.read_shift(2),L==12&&G.qpro&&(I.l+=2),q.s.c==65535&&(q.s.c=q.e.c=q.s.r=q.e.r=0),q)}function l(I){var L=me(8);return L.write_shift(2,I.s.c),L.write_shift(2,I.s.r),L.write_shift(2,I.e.c),L.write_shift(2,I.e.r),L}function c(I,L,G){var q=[{c:0,r:0},{t:"n",v:0},0,0];return G.qpro&&G.vers!=20768?(q[0].c=I.read_shift(1),q[3]=I.read_shift(1),q[0].r=I.read_shift(2),I.l+=2):(q[2]=I.read_shift(1),q[0].c=I.read_shift(2),q[0].r=I.read_shift(2)),q}function u(I,L,G){var q=I.l+L,ce=c(I,L,G);if(ce[1].t="s",G.vers==20768){I.l++;var ye=I.read_shift(1);return ce[1].v=I.read_shift(ye,"utf8"),ce}return G.qpro&&I.l++,ce[1].v=I.read_shift(q-I.l,"cstr"),ce}function h(I,L,G){var q=me(7+G.length);q.write_shift(1,255),q.write_shift(2,L),q.write_shift(2,I),q.write_shift(1,39);for(var ce=0;ce<q.length;++ce){var ye=G.charCodeAt(ce);q.write_shift(1,ye>=128?95:ye)}return q.write_shift(1,0),q}function p(I,L,G){var q=c(I,L,G);return q[1].v=I.read_shift(2,"i"),q}function g(I,L,G){var q=me(7);return q.write_shift(1,255),q.write_shift(2,L),q.write_shift(2,I),q.write_shift(2,G,"i"),q}function v(I,L,G){var q=c(I,L,G);return q[1].v=I.read_shift(8,"f"),q}function x(I,L,G){var q=me(13);return q.write_shift(1,255),q.write_shift(2,L),q.write_shift(2,I),q.write_shift(8,G,"f"),q}function y(I,L,G){var q=I.l+L,ce=c(I,L,G);if(ce[1].v=I.read_shift(8,"f"),G.qpro)I.l=q;else{var ye=I.read_shift(2);b(I.slice(I.l,I.l+ye),ce),I.l+=ye}return ce}function w(I,L,G){var q=L&32768;return L&=-32769,L=(q?I:0)+(L>=8192?L-16384:L),(q?"":"$")+(G?nr(L):gr(L))}var k={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},_=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function b(I,L){Hr(I,0);for(var G=[],q=0,ce="",ye="",ge="",ve="";I.l<I.length;){var H=I[I.l++];switch(H){case 0:G.push(I.read_shift(8,"f"));break;case 1:ye=w(L[0].c,I.read_shift(2),!0),ce=w(L[0].r,I.read_shift(2),!1),G.push(ye+ce);break;case 2:{var he=w(L[0].c,I.read_shift(2),!0),D=w(L[0].r,I.read_shift(2),!1);ye=w(L[0].c,I.read_shift(2),!0),ce=w(L[0].r,I.read_shift(2),!1),G.push(he+D+":"+ye+ce)}break;case 3:if(I.l<I.length){console.error("WK1 premature formula end");return}break;case 4:G.push("("+G.pop()+")");break;case 5:G.push(I.read_shift(2));break;case 6:{for(var Ce="";H=I[I.l++];)Ce+=String.fromCharCode(H);G.push('"'+Ce.replace(/"/g,'""')+'"')}break;case 8:G.push("-"+G.pop());break;case 23:G.push("+"+G.pop());break;case 22:G.push("NOT("+G.pop()+")");break;case 20:case 21:ve=G.pop(),ge=G.pop(),G.push(["AND","OR"][H-20]+"("+ge+","+ve+")");break;default:if(H<32&&_[H])ve=G.pop(),ge=G.pop(),G.push(ge+_[H]+ve);else if(k[H]){if(q=k[H][1],q==69&&(q=I[I.l++]),q>G.length){console.error("WK1 bad formula parse 0x"+H.toString(16)+":|"+G.join("|")+"|");return}var Ae=G.slice(-q);G.length-=q,G.push(k[H][0]+"("+Ae.join(",")+")")}else return H<=7?console.error("WK1 invalid opcode "+H.toString(16)):H<=24?console.error("WK1 unsupported op "+H.toString(16)):H<=30?console.error("WK1 invalid opcode "+H.toString(16)):H<=115?console.error("WK1 unsupported function opcode "+H.toString(16)):console.error("WK1 unrecognized opcode "+H.toString(16))}}G.length==1?L[1].f=""+G[0]:console.error("WK1 bad formula parse |"+G.join("|")+"|")}function T(I){var L=[{c:0,r:0},{t:"n",v:0},0];return L[0].r=I.read_shift(2),L[3]=I[I.l++],L[0].c=I[I.l++],L}function E(I,L){var G=T(I);return G[1].t="s",G[1].v=I.read_shift(L-4,"cstr"),G}function S(I,L,G,q){var ce=me(6+q.length);ce.write_shift(2,I),ce.write_shift(1,G),ce.write_shift(1,L),ce.write_shift(1,39);for(var ye=0;ye<q.length;++ye){var ge=q.charCodeAt(ye);ce.write_shift(1,ge>=128?95:ge)}return ce.write_shift(1,0),ce}function M(I,L){var G=T(I);G[1].v=I.read_shift(2);var q=G[1].v>>1;if(G[1].v&1)switch(q&7){case 0:q=(q>>3)*5e3;break;case 1:q=(q>>3)*500;break;case 2:q=(q>>3)/20;break;case 3:q=(q>>3)/200;break;case 4:q=(q>>3)/2e3;break;case 5:q=(q>>3)/2e4;break;case 6:q=(q>>3)/16;break;case 7:q=(q>>3)/64;break}return G[1].v=q,G}function F(I,L){var G=T(I),q=I.read_shift(4),ce=I.read_shift(4),ye=I.read_shift(2);if(ye==65535)return q===0&&ce===3221225472?(G[1].t="e",G[1].v=15):q===0&&ce===3489660928?(G[1].t="e",G[1].v=42):G[1].v=0,G;var ge=ye&32768;return ye=(ye&32767)-16446,G[1].v=(1-ge*2)*(ce*Math.pow(2,ye+32)+q*Math.pow(2,ye)),G}function z(I,L,G,q){var ce=me(14);if(ce.write_shift(2,I),ce.write_shift(1,G),ce.write_shift(1,L),q==0)return ce.write_shift(4,0),ce.write_shift(4,0),ce.write_shift(2,65535),ce;var ye=0,ge=0,ve=0,H=0;return q<0&&(ye=1,q=-q),ge=Math.log2(q)|0,q/=Math.pow(2,ge-31),H=q>>>0,H&2147483648||(q/=2,++ge,H=q>>>0),q-=H,H|=2147483648,H>>>=0,q*=Math.pow(2,32),ve=q>>>0,ce.write_shift(4,ve),ce.write_shift(4,H),ge+=16383+(ye?32768:0),ce.write_shift(2,ge),ce}function Y(I,L){var G=F(I);return I.l+=L-14,G}function U(I,L){var G=T(I),q=I.read_shift(4);return G[1].v=q>>6,G}function re(I,L){var G=T(I),q=I.read_shift(8,"f");return G[1].v=q,G}function B(I,L){var G=re(I);return I.l+=L-10,G}function fe(I,L){return I[I.l+L-1]==0?I.read_shift(L,"cstr"):""}function we(I,L){var G=I[I.l++];G>L-1&&(G=L-1);for(var q="";q.length<G;)q+=String.fromCharCode(I[I.l++]);return q}function J(I,L,G){if(!(!G.qpro||L<21)){var q=I.read_shift(1);I.l+=17,I.l+=1,I.l+=2;var ce=I.read_shift(L-21,"cstr");return[q,ce]}}function X(I,L){for(var G={},q=I.l+L;I.l<q;){var ce=I.read_shift(2);if(ce==14e3){for(G[ce]=[0,""],G[ce][0]=I.read_shift(2);I[I.l];)G[ce][1]+=String.fromCharCode(I[I.l]),I.l++;I.l++}}return G}function W(I,L){var G=me(5+I.length);G.write_shift(2,14e3),G.write_shift(2,L);for(var q=0;q<I.length;++q){var ce=I.charCodeAt(q);G[G.l++]=ce>127?95:ce}return G[G.l++]=0,G}var pe={0:{n:"BOF",f:wr},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:p},14:{n:"NUMBER",f:v},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:y},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:fe},222:{n:"SHEETNAMELP",f:we},65535:{n:""}},Ee={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:E},23:{n:"NUMBER17",f:F},24:{n:"NUMBER18",f:M},25:{n:"FORMULA19",f:Y},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:X},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:U},38:{n:"??"},39:{n:"NUMBER27",f:re},40:{n:"FORMULA28",f:B},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:fe},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:J},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:s,to_workbook:t}}();function V6(e){var t={},r=e.match(ln),n=0,s=!1;if(r)for(;n!=r.length;++n){var a=ht(r[n]);switch(a[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!a.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(a.val=="1")break;t.cp=Sx[parseInt(a.val,10)];break;case"<outline":if(!a.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=a.val;break;case"<sz":t.sz=a.val;break;case"<strike":if(!a.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!a.val)break;switch(a.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(a.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(a.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":a.rgb&&(t.color=a.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=a.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=a.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(a[0].charCodeAt(1)!==47&&!s)throw new Error("Unrecognized rich format "+a[0])}}return t}var H6=function(){var e=Bc("t"),t=Bc("rPr");function r(a){var i=a.match(e);if(!i)return{t:"s",v:""};var o={t:"s",v:Pt(i[1])},l=a.match(t);return l&&(o.s=V6(l[1])),o}var n=/<(?:\w+:)?r>/g,s=/<\/(?:\w+:)?r>/;return function(i){return i.replace(n,"").split(s).map(r).filter(function(o){return o.v})}}(),G6=function(){var t=/(\r\n|\n)/g;function r(s,a,i){var o=[];s.u&&o.push("text-decoration: underline;"),s.uval&&o.push("text-underline-style:"+s.uval+";"),s.sz&&o.push("font-size:"+s.sz+"pt;"),s.outline&&o.push("text-effect: outline;"),s.shadow&&o.push("text-shadow: auto;"),a.push('<span style="'+o.join("")+'">'),s.b&&(a.push("<b>"),i.push("</b>")),s.i&&(a.push("<i>"),i.push("</i>")),s.strike&&(a.push("<s>"),i.push("</s>"));var l=s.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(a.push("<"+l+">"),i.push("</"+l+">")),i.push("</span>"),s}function n(s){var a=[[],s.v,[]];return s.v?(s.s&&r(s.s,a[0],a[2]),a[0].join("")+a[1].replace(t,"<br/>")+a[2].join("")):""}return function(a){return a.map(n).join("")}}(),W6=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,z6=/<(?:\w+:)?r>/,q6=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function Kx(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Pt(Ht(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Ht(e),r&&(n.h=Mx(n.t))):e.match(z6)&&(n.r=Ht(e),n.t=Pt(Ht((e.replace(q6,"").match(W6)||[]).join("").replace(ln,""))),r&&(n.h=G6(H6(n.r)))),n):{t:""}}var K6=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,J6=/<(?:\w+:)?(?:si|sstItem)>/g,Y6=/<\/(?:\w+:)?(?:si|sstItem)>/;function X6(e,t){var r=[],n="";if(!e)return r;var s=e.match(K6);if(s){n=s[2].replace(J6,"").split(Y6);for(var a=0;a!=n.length;++a){var i=Kx(n[a].trim(),t);i!=null&&(r[r.length]=i)}s=ht(s[1]),r.Count=s.count,r.Unique=s.uniqueCount}return r}var Q6=/^\s|\s$|[\t\n\r]/;function KE(e,t){if(!t.bookSST)return"";var r=[xr];r[r.length]=De("sst",null,{xmlns:Vi[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var s=e[n],a="<si>";s.r?a+=s.r:(a+="<t",s.t||(s.t=""),s.t.match(Q6)&&(a+=' xml:space="preserve"'),a+=">"+$t(s.t)+"</t>"),a+="</si>",r[r.length]=a}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function Z6(e){return[e.read_shift(4),e.read_shift(4)]}function e8(e,t){var r=[],n=!1;return la(e,function(a,i,o){switch(o){case 159:r.Count=a[0],r.Unique=a[1];break;case 19:r.push(a);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(i.T,!n||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function t8(e,t){return t||(t=me(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var r8=f5;function n8(e){var t=Cn();be(t,159,t8(e));for(var r=0;r<e.length;++r)be(t,19,r8(e[r]));return be(t,160),t.end()}function JE(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function Qs(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function s8(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Qs(e,4),t.U=Qs(e,4),t.W=Qs(e,4),t}function a8(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},s=e.read_shift(4),a=[];s-- >0;)a.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=a,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function i8(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(a8(e));return t}function o8(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function l8(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Qs(e,4),t.U=Qs(e,4),t.W=Qs(e,4),t}function c8(e){var t=l8(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function YE(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var s=!1;switch(n.AlgID){case 26126:case 26127:case 26128:s=n.Flags==36;break;case 26625:s=n.Flags==4;break;case 0:s=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!s)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function XE(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function u8(e){var t=Qs(e);switch(t.Minor){case 2:return[t.Minor,d8(e)];case 3:return[t.Minor,f8()];case 4:return[t.Minor,h8(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function d8(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=YE(e,r),s=XE(e,e.length-e.l);return{t:"Std",h:n,v:s}}function f8(){throw new Error("File is password-protected: ECMA-376 Extensible")}function h8(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(ln,function(a){var i=ht(a);switch($s(i[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){n[o]=i[o]});break;case"<dataIntegrity":n.encryptedHmacKey=i.encryptedHmacKey,n.encryptedHmacValue=i.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=i.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(i);break;default:throw i[0]}}),n}function p8(e,t){var r={},n=r.EncryptionVersionInfo=Qs(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var s=e.read_shift(4);return t-=4,r.EncryptionHeader=YE(e,s),t-=s,r.EncryptionVerifier=XE(e,t),r}function m8(e){var t={},r=t.EncryptionVersionInfo=Qs(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function Jx(e){var t=0,r,n=JE(e),s=n.length+1,a,i,o,l,c;for(r=Va(s),r[0]=n.length,a=1;a!=s;++a)r[a]=n[a-1];for(a=s-1;a>=0;--a)i=r[a],o=t&16384?1:0,l=t<<1&32767,c=o|l,t=c^i;return t^52811}var QE=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(i){return(i/2|i*128)&255},s=function(i,o){return n(i^o)},a=function(i){for(var o=t[i.length-1],l=104,c=i.length-1;c>=0;--c)for(var u=i[c],h=0;h!=7;++h)u&64&&(o^=r[l]),u*=2,--l;return o};return function(i){for(var o=JE(i),l=a(o),c=o.length,u=Va(16),h=0;h!=16;++h)u[h]=0;var p,g,v;for((c&1)===1&&(p=l>>8,u[c]=s(e[0],p),--c,p=l&255,g=o[o.length-1],u[c]=s(g,p));c>0;)--c,p=l>>8,u[c]=s(o[c],p),--c,p=l&255,u[c]=s(o[c],p);for(c=15,v=15-o.length;v>0;)p=l>>8,u[c]=s(e[v],p),--c,--v,p=l&255,u[c]=s(o[c],p),--c,--v;return u}}(),g8=function(e,t,r,n,s){s||(s=t),n||(n=QE(e));var a,i;for(a=0;a!=t.length;++a)i=t[a],i^=n[r],i=(i>>5|i<<3)&255,s[a]=i,++r;return[s,r,n]},x8=function(e){var t=0,r=QE(e);return function(n){var s=g8("",n,t,r);return t=s[1],s[0]}};function v8(e,t,r,n){var s={key:wr(e),verificationBytes:wr(e)};return r.password&&(s.verifier=Jx(r.password)),n.valid=s.verificationBytes===s.verifier,n.valid&&(n.insitu=x8(r.password)),s}function y8(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=m8(e):n.Data=p8(e,t),n}function _8(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?y8(e,t-2,n):v8(e,r.biff>=8?t:t-2,r,n),n}var ZE=function(){function e(s,a){switch(a.type){case"base64":return t(jn(s),a);case"binary":return t(s,a);case"buffer":return t(Et&&Buffer.isBuffer(s)?s.toString("binary"):Xa(s),a);case"array":return t(Mi(s),a)}throw new Error("Unrecognized type "+a.type)}function t(s,a){var i=a||{},o=i.dense?[]:{},l=s.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,h){Array.isArray(o)&&(o[h]=[]);for(var p=/\\\w+\b/g,g=0,v,x=-1;v=p.exec(u);){switch(v[0]){case"\\cell":var y=u.slice(g,p.lastIndex-v[0].length);if(y[0]==" "&&(y=y.slice(1)),++x,y.length){var w={v:y,t:"s"};Array.isArray(o)?o[h][x]=w:o[ft({r:h,c:x})]=w}break}g=p.lastIndex}x>c.e.c&&(c.e.c=x)}),o["!ref"]=wt(c),o}function r(s,a){return Qa(e(s,a),a)}function n(s){for(var a=["{\\rtf1\\ansi"],i=Ft(s["!ref"]),o,l=Array.isArray(s),c=i.s.r;c<=i.e.r;++c){a.push("\\trowd\\trautofit1");for(var u=i.s.c;u<=i.e.c;++u)a.push("\\cellx"+(u+1));for(a.push("\\pard\\intbl"),u=i.s.c;u<=i.e.c;++u){var h=ft({r:c,c:u});o=l?(s[c]||[])[u]:s[h],!(!o||o.v==null&&(!o.f||o.F))&&(a.push(" "+(o.w||(na(o),o.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function w8(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Hc(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function k8(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,s=Math.max(t,r,n),a=Math.min(t,r,n),i=s-a;if(i===0)return[0,0,t];var o=0,l=0,c=s+a;switch(l=i/(c>1?2-c:c),s){case t:o=((r-n)/i+6)%6;break;case r:o=(n-t)/i+2;break;case n:o=(t-r)/i+4;break}return[o/6,l,c/2]}function b8(e){var t=e[0],r=e[1],n=e[2],s=r*2*(n<.5?n:1-n),a=n-s/2,i=[a,a,a],o=6*t,l;if(r!==0)switch(o|0){case 0:case 6:l=s*o,i[0]+=s,i[1]+=l;break;case 1:l=s*(2-o),i[0]+=l,i[1]+=s;break;case 2:l=s*(o-2),i[1]+=s,i[2]+=l;break;case 3:l=s*(4-o),i[1]+=l,i[2]+=s;break;case 4:l=s*(o-4),i[2]+=s,i[0]+=l;break;case 5:l=s*(6-o),i[2]+=l,i[0]+=s;break}for(var c=0;c!=3;++c)i[c]=Math.round(i[c]*255);return i}function cf(e,t){if(t===0)return e;var r=k8(w8(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),Hc(b8(r))}var eT=6,S8=15,E8=1,en=eT;function Gc(e){return Math.floor((e+Math.round(128/en)/256)*en)}function Wc(e){return Math.floor((e-5)/en*100+.5)/100}function uf(e){return Math.round((e*en+5)/en*256)/256}function xh(e){return uf(Wc(Gc(e)))}function Yx(e){var t=Math.abs(e-xh(e)),r=en;if(t>.005)for(en=E8;en<S8;++en)Math.abs(e-xh(e))<=t&&(t=Math.abs(e-xh(e)),r=en);en=r}function Ha(e){e.width?(e.wpx=Gc(e.width),e.wch=Wc(e.wpx),e.MDW=en):e.wpx?(e.wch=Wc(e.wpx),e.width=uf(e.wch),e.MDW=en):typeof e.wch=="number"&&(e.width=uf(e.wch),e.wpx=Gc(e.width),e.MDW=en),e.customWidth&&delete e.customWidth}var T8=96,tT=T8;function zc(e){return e*96/tT}function Zo(e){return e*tT/96}var C8={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function A8(e,t,r,n){t.Borders=[];var s={},a=!1;(e[0].match(ln)||[]).forEach(function(i){var o=ht(i);switch($s(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":s={},o.diagonalUp&&(s.diagonalUp=Yt(o.diagonalUp)),o.diagonalDown&&(s.diagonalDown=Yt(o.diagonalDown)),t.Borders.push(s);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+o[0]+" in borders")}})}function N8(e,t,r,n){t.Fills=[];var s={},a=!1;(e[0].match(ln)||[]).forEach(function(i){var o=ht(i);switch($s(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":s={},t.Fills.push(s);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(s),s={};break;case"<patternFill":case"<patternFill>":o.patternType&&(s.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":s.bgColor||(s.bgColor={}),o.indexed&&(s.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(s.bgColor.theme=parseInt(o.theme,10)),o.tint&&(s.bgColor.tint=parseFloat(o.tint)),o.rgb&&(s.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":s.fgColor||(s.fgColor={}),o.theme&&(s.fgColor.theme=parseInt(o.theme,10)),o.tint&&(s.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(s.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+o[0]+" in fills")}})}function I8(e,t,r,n){t.Fonts=[];var s={},a=!1;(e[0].match(ln)||[]).forEach(function(i){var o=ht(i);switch($s(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(s),s={};break;case"<name":o.val&&(s.name=Ht(o.val));break;case"<name/>":case"</name>":break;case"<b":s.bold=o.val?Yt(o.val):1;break;case"<b/>":s.bold=1;break;case"<i":s.italic=o.val?Yt(o.val):1;break;case"<i/>":s.italic=1;break;case"<u":switch(o.val){case"none":s.underline=0;break;case"single":s.underline=1;break;case"double":s.underline=2;break;case"singleAccounting":s.underline=33;break;case"doubleAccounting":s.underline=34;break}break;case"<u/>":s.underline=1;break;case"<strike":s.strike=o.val?Yt(o.val):1;break;case"<strike/>":s.strike=1;break;case"<outline":s.outline=o.val?Yt(o.val):1;break;case"<outline/>":s.outline=1;break;case"<shadow":s.shadow=o.val?Yt(o.val):1;break;case"<shadow/>":s.shadow=1;break;case"<condense":s.condense=o.val?Yt(o.val):1;break;case"<condense/>":s.condense=1;break;case"<extend":s.extend=o.val?Yt(o.val):1;break;case"<extend/>":s.extend=1;break;case"<sz":o.val&&(s.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(s.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(s.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(s.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=Sx[parseInt(o.val,10)];break;case"<color":if(s.color||(s.color={}),o.auto&&(s.color.auto=Yt(o.auto)),o.rgb)s.color.rgb=o.rgb.slice(-6);else if(o.indexed){s.color.index=parseInt(o.indexed,10);var l=bi[s.color.index];s.color.index==81&&(l=bi[1]),l||(l=bi[1]),s.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(s.color.theme=parseInt(o.theme,10),o.tint&&(s.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(s.color.rgb=cf(r.themeElements.clrScheme[s.color.theme].rgb,s.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+o[0]+" in fonts")}})}function R8(e,t,r){t.NumberFmt=[];for(var n=fr(ot),s=0;s<n.length;++s)t.NumberFmt[n[s]]=ot[n[s]];var a=e[0].match(ln);if(a)for(s=0;s<a.length;++s){var i=ht(a[s]);switch($s(i[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Pt(Ht(i.formatCode)),l=parseInt(i.numFmtId,10);if(t.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&t.NumberFmt[l]!=null;--l);t.NumberFmt[l]=o}Xs(o,l)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+i[0]+" in numFmts")}}}function P8(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=De("numFmt",null,{numFmtId:n,formatCode:$t(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=De("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var Xu=["numFmtId","fillId","fontId","borderId","xfId"],Qu=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function F8(e,t,r){t.CellXf=[];var n,s=!1;(e[0].match(ln)||[]).forEach(function(a){var i=ht(a),o=0;switch($s(i[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=i,delete n[0],o=0;o<Xu.length;++o)n[Xu[o]]&&(n[Xu[o]]=parseInt(n[Xu[o]],10));for(o=0;o<Qu.length;++o)n[Qu[o]]&&(n[Qu[o]]=Yt(n[Qu[o]]));if(t.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[o]){n.numFmtId=o;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};i.vertical&&(l.vertical=i.vertical),i.horizontal&&(l.horizontal=i.horizontal),i.textRotation!=null&&(l.textRotation=i.textRotation),i.indent&&(l.indent=i.indent),i.wrapText&&(l.wrapText=Yt(i.wrapText)),n.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+i[0]+" in cellXfs")}})}function M8(e){var t=[];return t[t.length]=De("cellXfs",null),e.forEach(function(r){t[t.length]=De("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=De("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var D8=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,s=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,a=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,c){var u={};if(!o)return u;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var h;return(h=o.match(t))&&R8(h,u,c),(h=o.match(s))&&I8(h,u,l,c),(h=o.match(n))&&N8(h,u,l,c),(h=o.match(a))&&A8(h,u,l,c),(h=o.match(r))&&F8(h,u,c),u}}();function rT(e,t){var r=[xr,De("styleSheet",null,{xmlns:Vi[0],"xmlns:vt":Cr.vt})],n;return e.SSF&&(n=P8(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=M8(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function L8(e,t){var r=e.read_shift(2),n=sn(e);return[r,n]}function O8(e,t,r){r||(r=me(6+4*t.length)),r.write_shift(2,e),Dr(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function U8(e,t,r){var n={};n.sz=e.read_shift(2)/20;var s=y5(e);s.fItalic&&(n.italic=1),s.fCondense&&(n.condense=1),s.fExtend&&(n.extend=1),s.fShadow&&(n.shadow=1),s.fOutline&&(n.outline=1),s.fStrikeout&&(n.strike=1);var a=e.read_shift(2);switch(a===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var i=e.read_shift(1);i!=0&&(n.underline=i);var o=e.read_shift(1);o>0&&(n.family=o);var l=e.read_shift(1);switch(l>0&&(n.charset=l),e.l++,n.color=v5(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=sn(e),n}function B8(e,t){t||(t=me(25+4*32)),t.write_shift(2,e.sz*20),_5(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),af(e.color,t);var n=0;return n=2,t.write_shift(1,n),Dr(e.name,t),t.length>t.l?t.slice(0,t.l):t}var j8=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],vh,$8=on;function __(e,t){t||(t=me(4*3+8*7+16*1)),vh||(vh=x0(j8));var r=vh[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(af({auto:1},t),af({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function V8(e,t){var r=e.l+t,n=e.read_shift(2),s=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:s}}function nT(e,t,r){r||(r=me(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Sl(e,t){return t||(t=me(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var H8=on;function G8(e,t){return t||(t=me(51)),t.write_shift(1,0),Sl(null,t),Sl(null,t),Sl(null,t),Sl(null,t),Sl(null,t),t.length>t.l?t.slice(0,t.l):t}function W8(e,t){return t||(t=me(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),sf(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function z8(e,t,r){var n=me(2052);return n.write_shift(4,e),sf(t,n),sf(r,n),n.length>n.l?n.slice(0,n.l):n}function q8(e,t,r){var n={};n.NumberFmt=[];for(var s in ot)n.NumberFmt[s]=ot[s];n.CellXf=[],n.Fonts=[];var a=[],i=!1;return la(e,function(l,c,u){switch(u){case 44:n.NumberFmt[l[0]]=l[1],Xs(l[1],l[0]);break;case 43:n.Fonts.push(l),l.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(l.color.rgb=cf(t.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:a[a.length-1]==617&&n.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:a.push(u),i=!0;break;case 38:a.pop(),i=!1;break;default:if(c.T>0)a.push(u);else if(c.T<0)a.pop();else if(!i||r.WTF&&a[a.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),n}function K8(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)t[s]!=null&&++r}),r!=0&&(be(e,615,Ts(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)t[s]!=null&&be(e,44,O8(s,t[s]))}),be(e,616))}}function J8(e){var t=1;be(e,611,Ts(t)),be(e,43,B8({sz:12,color:{theme:1},name:"Calibri",family:2})),be(e,612)}function Y8(e){var t=2;be(e,603,Ts(t)),be(e,45,__({patternType:"none"})),be(e,45,__({patternType:"gray125"})),be(e,604)}function X8(e){var t=1;be(e,613,Ts(t)),be(e,46,G8()),be(e,614)}function Q8(e){var t=1;be(e,626,Ts(t)),be(e,47,nT({numFmtId:0},65535)),be(e,627)}function Z8(e,t){be(e,617,Ts(t.length)),t.forEach(function(r){be(e,47,nT(r,0))}),be(e,618)}function eD(e){var t=1;be(e,619,Ts(t)),be(e,48,W8({xfId:0,name:"Normal"})),be(e,620)}function tD(e){var t=0;be(e,505,Ts(t)),be(e,506)}function rD(e){var t=0;be(e,508,z8(t,"TableStyleMedium9","PivotStyleMedium4")),be(e,509)}function nD(e,t){var r=Cn();return be(r,278),K8(r,e.SSF),J8(r),Y8(r),X8(r),Q8(r),Z8(r,t.cellXfs),eD(r),tD(r),rD(r),be(r,279),r.end()}var sD=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function aD(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(ln)||[]).forEach(function(s){var a=ht(s);switch(a[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=a.val;break;case"<a:sysClr":n.rgb=a.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":a[0].charAt(1)==="/"?(t.themeElements.clrScheme[sD.indexOf(a[0])]=n,n={}):n.name=a[0].slice(3,a[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+a[0]+" in clrScheme")}})}function iD(){}function oD(){}var lD=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,cD=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,uD=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function dD(e,t,r){t.themeElements={};var n;[["clrScheme",lD,aD],["fontScheme",cD,iD],["fmtScheme",uD,oD]].forEach(function(s){if(!(n=e.match(s[1])))throw new Error(s[0]+" not found in themeElements");s[2](n,t,r)})}var fD=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function sT(e,t){(!e||e.length===0)&&(e=Xx());var r,n={};if(!(r=e.match(fD)))throw new Error("themeElements not found in theme");return dD(r[0],n,t),n.raw=e,n}function Xx(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[xr];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function hD(e,t,r){var n=e.l+t,s=e.read_shift(4);if(s!==124226){if(!r.cellStyles){e.l=n;return}var a=e.slice(e.l);e.l=n;var i;try{i=YS(a,{type:"array"})}catch{return}var o=Ln(i,"theme/theme/theme1.xml",!0);if(o)return sT(o,r)}}function pD(e){return e.read_shift(4)}function mD(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=gD(e,4);break;case 2:t.xclrValue=OE(e);break;case 3:t.xclrValue=pD(e);break;case 4:e.l+=4;break}return e.l+=8,t}function gD(e,t){return on(e,t)}function xD(e,t){return on(e,t)}function vD(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=mD(e);break;case 6:n[1]=xD(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function yD(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var s=e.read_shift(2),a=[];s-- >0;)a.push(vD(e,r-e.l));return{ixfe:n,ext:a}}function _D(e,t){t.forEach(function(r){switch(r[0]){}})}function wD(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:sn(e)}}function kD(e){var t=me(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Dr(e.name,t),t.slice(0,t.l)}function bD(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function SD(e){var t=me(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function ED(e,t){var r=me(8+2*t.length);return r.write_shift(4,e),Dr(t,r),r.slice(0,r.l)}function TD(e){return e.l+=4,e.read_shift(4)!=0}function CD(e,t){var r=me(8);return r.write_shift(4,e),r.write_shift(4,1),r}function AD(e,t,r){var n={Types:[],Cell:[],Value:[]},s=r||{},a=[],i=!1,o=2;return la(e,function(l,c,u){switch(u){case 335:n.Types.push({name:l.name});break;case 51:l.forEach(function(h){o==1?n.Cell.push({type:n.Types[h[0]-1].name,index:h[1]}):o==0&&n.Value.push({type:n.Types[h[0]-1].name,index:h[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:a.push(u),i=!0;break;case 36:a.pop(),i=!1;break;default:if(!c.T){if(!i||s.WTF&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),n}function ND(){var e=Cn();return be(e,332),be(e,334,Ts(1)),be(e,335,kD({name:"XLDAPR",version:12e4,flags:3496657072})),be(e,336),be(e,339,ED(1,"XLDAPR")),be(e,52),be(e,35,Ts(514)),be(e,4096,Ts(0)),be(e,4097,Jn(1)),be(e,36),be(e,53),be(e,340),be(e,337,CD(1)),be(e,51,SD([[1,0]])),be(e,338),be(e,333),e.end()}function ID(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var s=!1,a=2,i;return e.replace(ln,function(o){var l=ht(o);switch($s(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<n.Types.length;++c)n.Types[c].name==l.name&&(i=n.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":a==1?n.Cell.push({type:n.Types[l.t-1].name,index:+l.v}):a==0&&n.Value.push({type:n.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":a=1;break;case"</cellMetadata>":a=2;break;case"<valueMetadata":a=0;break;case"</valueMetadata>":a=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;case"<rvb":if(!i)break;i.offsets||(i.offsets=[]),i.offsets.push(+l.i);break;default:if(!s&&r.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),n}function aT(){var e=[xr];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function RD(e){var t=[];if(!e)return t;var r=1;return(e.match(ln)||[]).forEach(function(n){var s=ht(n);switch(s[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete s[0],s.i?r=s.i:s.i=r,t.push(s);break}}),t}function PD(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=ft(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function FD(e,t,r){var n=[];return la(e,function(a,i,o){switch(o){case 63:n.push(a);break;default:if(!i.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function MD(e,t,r,n){if(!e)return e;var s=n||{},a=!1;la(e,function(o,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:a=!0;break;case 36:a=!1;break;default:if(!l.T){if(!a||s.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},s)}function DD(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}var Ao=1024;function iT(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),s=[De("xml",null,{"xmlns:v":Pn.v,"xmlns:o":Pn.o,"xmlns:x":Pn.x,"xmlns:mv":Pn.mv}).replace(/\/>/,">"),De("o:shapelayout",De("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),De("v:shapetype",[De("v:stroke",null,{joinstyle:"miter"}),De("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Ao<e*1e3;)Ao+=1e3;return t.forEach(function(a){var i=sr(a[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?De("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,c=De("v:fill",l,o),u={on:"t",obscured:"t"};++Ao,s=s.concat(["<v:shape"+jc({id:"_x0000_s"+Ao,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(a[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",c,De("v:shadow",null,u),De("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Gr("x:Anchor",[i.c+1,0,i.r+1,0,i.c+3,20,i.r+5,20].join(",")),Gr("x:AutoFill","False"),Gr("x:Row",String(i.r)),Gr("x:Column",String(i.c)),a[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),s.push("</xml>"),s.join("")}function w_(e,t,r,n){var s=Array.isArray(e),a;t.forEach(function(i){var o=sr(i.ref);if(s?(e[o.r]||(e[o.r]=[]),a=e[o.r][o.c]):a=e[i.ref],!a){a={t:"z"},s?e[o.r][o.c]=a:e[i.ref]=a;var l=Ft(e["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var c=wt(l);c!==e["!ref"]&&(e["!ref"]=c)}a.c||(a.c=[]);var u={a:i.author,t:i.t,r:i.r,T:r};i.h&&(u.h=i.h);for(var h=a.c.length-1;h>=0;--h){if(!r&&a.c[h].T)return;r&&!a.c[h].T&&a.c.splice(h,1)}if(r&&n){for(h=0;h<n.length;++h)if(u.a==n[h].id){u.a=n[h].name||u.a;break}}a.c.push(u)})}function LD(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],s=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);s&&s[1]&&s[1].split(/<\/\w*:?author>/).forEach(function(i){if(!(i===""||i.trim()==="")){var o=i.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var a=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return a&&a[1]&&a[1].split(/<\/\w*:?comment>/).forEach(function(i){if(!(i===""||i.trim()==="")){var o=i.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=ht(o[0]),c={author:l.authorId&&r[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},u=sr(l.ref);if(!(t.sheetRows&&t.sheetRows<=u.r)){var h=i.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),p=!!h&&!!h[1]&&Kx(h[1])||{r:"",t:"",h:""};c.r=p.r,p.r=="<t></t>"&&(p.t=p.h=""),c.t=(p.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(c.h=p.h),n.push(c)}}}}),n}function oT(e){var t=[xr,De("comments",null,{xmlns:Vi[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(s){var a=$t(s.a);r.indexOf(a)==-1&&(r.push(a),t.push("<author>"+a+"</author>")),s.T&&s.ID&&r.indexOf("tc="+s.ID)==-1&&(r.push("tc="+s.ID),t.push("<author>tc="+s.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var s=0,a=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?s=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(l){l.a&&(s=r.indexOf($t(l.a))),a.push(l.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+s+'"><text>'),a.length<=1)t.push(Gr("t",$t(a[0]||"")));else{for(var i=`Comment:
    `+a[0]+`
`,o=1;o<a.length;++o)i+=`Reply:
    `+a[o]+`
`;t.push(Gr("t",$t(i)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function OD(e,t){var r=[],n=!1,s={},a=0;return e.replace(ln,function(o,l){var c=ht(o);switch($s(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":s={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":s.t!=null&&r.push(s);break;case"<text>":case"<text":a=l+o.length;break;case"</text>":s.t=e.slice(a,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return o}),r}function UD(e,t,r){var n=[xr,De("ThreadedComments",null,{xmlns:Cr.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(s){var a="";(s[1]||[]).forEach(function(i,o){if(!i.T){delete i.ID;return}i.a&&t.indexOf(i.a)==-1&&t.push(i.a);var l={ref:s[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?a=l.id:l.parentId=a,i.ID=l.id,i.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(i.a)).slice(-12)+"}"),n.push(De("threadedComment",Gr("text",i.t||""),l))})}),n.push("</ThreadedComments>"),n.join("")}function BD(e,t){var r=[],n=!1;return e.replace(ln,function(a){var i=ht(a);switch($s(i[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:i.displayname,id:i.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+i[0]+" in threaded comments")}return a}),r}function jD(e){var t=[xr,De("personList",null,{xmlns:Cr.TCMNT,"xmlns:x":Vi[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(De("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function $D(e){var t={};t.iauthor=e.read_shift(4);var r=zi(e);return t.rfx=r.s,t.ref=ft(r.s),e.l+=16,t}function VD(e,t){return t==null&&(t=me(36)),t.write_shift(4,e[1].iauthor),ul(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var HD=sn;function GD(e){return Dr(e.slice(0,54))}function WD(e,t){var r=[],n=[],s={},a=!1;return la(e,function(o,l,c){switch(c){case 632:n.push(o);break;case 635:s=o;break;case 637:s.t=o.t,s.h=o.h,s.r=o.r;break;case 636:if(s.author=n[s.iauthor],delete s.iauthor,t.sheetRows&&s.rfx&&t.sheetRows<=s.rfx.r)break;s.t||(s.t=""),delete s.rfx,r.push(s);break;case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!a||t.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),r}function zD(e){var t=Cn(),r=[];return be(t,628),be(t,630),e.forEach(function(n){n[1].forEach(function(s){r.indexOf(s.a)>-1||(r.push(s.a.slice(0,54)),be(t,632,GD(s.a)))})}),be(t,631),be(t,633),e.forEach(function(n){n[1].forEach(function(s){s.iauthor=r.indexOf(s.a);var a={s:sr(n[0]),e:sr(n[0])};be(t,635,VD([a,s])),s.t&&s.t.length>0&&be(t,637,p5(s)),be(t,636),delete s.iauthor})}),be(t,634),be(t,629),t.end()}var qD="application/vnd.ms-office.vbaProject";function KD(e){var t=nt.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var s=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");nt.utils.cfb_add(t,s,e.FileIndex[n].content)}}),nt.write(t)}function JD(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var s=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");s.slice(-1)!=="/"&&nt.utils.cfb_add(e,s,t.FileIndex[n].content)}})}var lT=["xlsb","xlsm","xlam","biff8","xla"];function YD(){return{"!type":"dialog"}}function XD(){return{"!type":"dialog"}}function QD(){return{"!type":"macro"}}function ZD(){return{"!type":"macro"}}var jo=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,s,a,i){var o=!1,l=!1;a.length==0?l=!0:a.charAt(0)=="["&&(l=!0,a=a.slice(1,-1)),i.length==0?o=!0:i.charAt(0)=="["&&(o=!0,i=i.slice(1,-1));var c=a.length>0?parseInt(a,10)|0:0,u=i.length>0?parseInt(i,10)|0:0;return o?u+=t.c:--u,l?c+=t.r:--c,s+(o?"":"$")+nr(u)+(l?"":"$")+gr(c)}return function(s,a){return t=a,s.replace(e,r)}}(),Qx=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Zx=function(){return function(t,r){return t.replace(Qx,function(n,s,a,i,o,l){var c=Bx(i)-(a?0:r.c),u=Ux(l)-(o?0:r.r),h=u==0?"":o?u+1:"["+u+"]",p=c==0?"":a?c+1:"["+c+"]";return s+"R"+h+"C"+p})}}();function cT(e,t){return e.replace(Qx,function(r,n,s,a,i,o){return n+(s=="$"?s+a:nr(Bx(a)+t.c))+(i=="$"?i+o:gr(Ux(o)+t.r))})}function eL(e,t,r){var n=An(t),s=n.s,a=sr(r),i={r:a.r-s.r,c:a.c-s.c};return cT(e,i)}function tL(e){return e.length!=1}function k_(e){return e.replace(/_xlfn\./g,"")}function yr(e){e.l+=1}function Ga(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function uT(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return dT(e);r.biff==12&&(n=4)}var s=e.read_shift(n),a=e.read_shift(n),i=Ga(e),o=Ga(e);return{s:{r:s,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function dT(e){var t=Ga(e),r=Ga(e),n=e.read_shift(1),s=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:s,cRel:r[1],rRel:r[2]}}}function rL(e,t,r){if(r.biff<8)return dT(e);var n=e.read_shift(r.biff==12?4:2),s=e.read_shift(r.biff==12?4:2),a=Ga(e),i=Ga(e);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:i[0],cRel:i[1],rRel:i[2]}}}function fT(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return nL(e);var n=e.read_shift(r&&r.biff==12?4:2),s=Ga(e);return{r:n,c:s[0],cRel:s[1],rRel:s[2]}}function nL(e){var t=Ga(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function sL(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function aL(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return iL(e);var s=e.read_shift(n>=12?4:2),a=e.read_shift(2),i=(a&16384)>>14,o=(a&32768)>>15;if(a&=16383,o==1)for(;s>524287;)s-=1048576;if(i==1)for(;a>8191;)a=a-16384;return{r:s,c:a,cRel:i,rRel:o}}function iL(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,s=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),s==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:s,rRel:n}}function oL(e,t,r){var n=(e[e.l++]&96)>>5,s=uT(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,s]}function lL(e,t,r){var n=(e[e.l++]&96)>>5,s=e.read_shift(2,"i"),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}var i=uT(e,a,r);return[n,s,i]}function cL(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function uL(e,t,r){var n=(e[e.l++]&96)>>5,s=e.read_shift(2),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}return e.l+=a,[n,s]}function dL(e,t,r){var n=(e[e.l++]&96)>>5,s=rL(e,t-1,r);return[n,s]}function fL(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function b_(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function hL(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),s=[],a=0;a<=n;++a)s.push(e.read_shift(r&&r.biff==2?1:2));return s}function pL(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function mL(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function gL(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function xL(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function hT(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function vL(e){return e.read_shift(2),hT(e)}function yL(e){return e.read_shift(2),hT(e)}function _L(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=fT(e,0,r);return[n,s]}function wL(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=aL(e,0,r);return[n,s]}function kL(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var a=fT(e,0,r);return[n,s,a]}function bL(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(r&&r.biff<=3?1:2);return[TO[s],gT[s],n]}function SL(e,t,r){var n=e[e.l++],s=e.read_shift(1),a=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:EL(e);return[s,(a[0]===0?gT:EO)[a[1]]]}function EL(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function TL(e,t,r){e.l+=r&&r.biff==2?3:4}function CL(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),s=e.read_shift(r&&r.biff==2?1:2);return[n,s]}function AL(e){return e.l++,ca[e.read_shift(1)]}function NL(e){return e.l++,e.read_shift(2)}function IL(e){return e.l++,e.read_shift(1)!==0}function RL(e){return e.l++,rn(e)}function PL(e,t,r){return e.l++,hu(e,t-1,r)}function FL(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=pr(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=ca[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=rn(e);break;case 2:r[1]=qi(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function ML(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),s=[],a=0;a!=n;++a)s.push((r.biff==12?zi:_0)(e));return s}function DL(e,t,r){var n=0,s=0;r.biff==12?(n=e.read_shift(4),s=e.read_shift(4)):(s=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--s==0&&(s=256));for(var a=0,i=[];a!=n&&(i[a]=[]);++a)for(var o=0;o!=s;++o)i[a][o]=FL(e,r.biff);return i}function LL(e,t,r){var n=e.read_shift(1)>>>5&3,s=!r||r.biff>=8?4:2,a=e.read_shift(s);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,a]}function OL(e,t,r){if(r.biff==5)return UL(e);var n=e.read_shift(1)>>>5&3,s=e.read_shift(2),a=e.read_shift(4);return[n,s,a]}function UL(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function BL(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var s=e.read_shift(r&&r.biff==2?1:2);return[n,s]}function jL(e,t,r){var n=e.read_shift(1)>>>5&3,s=e.read_shift(r&&r.biff==2?1:2);return[n,s]}function $L(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function VL(e,t,r){var n=(e[e.l++]&96)>>5,s=e.read_shift(2),a=4;if(r)switch(r.biff){case 5:a=15;break;case 12:a=6;break}return e.l+=a,[n,s]}var HL=on,GL=on,WL=on;function mu(e,t,r){return e.l+=2,[sL(e)]}function e1(e){return e.l+=6,[]}var zL=mu,qL=e1,KL=e1,JL=mu;function pT(e){return e.l+=2,[wr(e),e.read_shift(2)&1]}var YL=mu,XL=pT,QL=e1,ZL=mu,eO=mu,tO=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function rO(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),s=e.read_shift(2),a=e.read_shift(2),i=tO[r>>2&31];return{ixti:t,coltype:r&3,rt:i,idx:n,c:s,C:a}}function nO(e){return e.l+=2,[e.read_shift(4)]}function sO(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function aO(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function iO(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function oO(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function lO(e){return e.l+=4,[0,0]}var S_={1:{n:"PtgExp",f:CL},2:{n:"PtgTbl",f:WL},3:{n:"PtgAdd",f:yr},4:{n:"PtgSub",f:yr},5:{n:"PtgMul",f:yr},6:{n:"PtgDiv",f:yr},7:{n:"PtgPower",f:yr},8:{n:"PtgConcat",f:yr},9:{n:"PtgLt",f:yr},10:{n:"PtgLe",f:yr},11:{n:"PtgEq",f:yr},12:{n:"PtgGe",f:yr},13:{n:"PtgGt",f:yr},14:{n:"PtgNe",f:yr},15:{n:"PtgIsect",f:yr},16:{n:"PtgUnion",f:yr},17:{n:"PtgRange",f:yr},18:{n:"PtgUplus",f:yr},19:{n:"PtgUminus",f:yr},20:{n:"PtgPercent",f:yr},21:{n:"PtgParen",f:yr},22:{n:"PtgMissArg",f:yr},23:{n:"PtgStr",f:PL},26:{n:"PtgSheet",f:sO},27:{n:"PtgEndSheet",f:aO},28:{n:"PtgErr",f:AL},29:{n:"PtgBool",f:IL},30:{n:"PtgInt",f:NL},31:{n:"PtgNum",f:RL},32:{n:"PtgArray",f:fL},33:{n:"PtgFunc",f:bL},34:{n:"PtgFuncVar",f:SL},35:{n:"PtgName",f:LL},36:{n:"PtgRef",f:_L},37:{n:"PtgArea",f:oL},38:{n:"PtgMemArea",f:BL},39:{n:"PtgMemErr",f:HL},40:{n:"PtgMemNoMem",f:GL},41:{n:"PtgMemFunc",f:jL},42:{n:"PtgRefErr",f:$L},43:{n:"PtgAreaErr",f:cL},44:{n:"PtgRefN",f:wL},45:{n:"PtgAreaN",f:dL},46:{n:"PtgMemAreaN",f:iO},47:{n:"PtgMemNoMemN",f:oO},57:{n:"PtgNameX",f:OL},58:{n:"PtgRef3d",f:kL},59:{n:"PtgArea3d",f:lL},60:{n:"PtgRefErr3d",f:VL},61:{n:"PtgAreaErr3d",f:uL},255:{}},cO={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},uO={1:{n:"PtgElfLel",f:pT},2:{n:"PtgElfRw",f:ZL},3:{n:"PtgElfCol",f:zL},6:{n:"PtgElfRwV",f:eO},7:{n:"PtgElfColV",f:JL},10:{n:"PtgElfRadical",f:YL},11:{n:"PtgElfRadicalS",f:QL},13:{n:"PtgElfColS",f:qL},15:{n:"PtgElfColSV",f:KL},16:{n:"PtgElfRadicalLel",f:XL},25:{n:"PtgList",f:rO},29:{n:"PtgSxName",f:nO},255:{}},dO={0:{n:"PtgAttrNoop",f:lO},1:{n:"PtgAttrSemi",f:xL},2:{n:"PtgAttrIf",f:mL},4:{n:"PtgAttrChoose",f:hL},8:{n:"PtgAttrGoto",f:pL},16:{n:"PtgAttrSum",f:TL},32:{n:"PtgAttrBaxcel",f:b_},33:{n:"PtgAttrBaxcel",f:b_},64:{n:"PtgAttrSpace",f:vL},65:{n:"PtgAttrSpaceSemi",f:yL},128:{n:"PtgAttrIfError",f:gL},255:{}};function gu(e,t,r,n){if(n.biff<8)return on(e,t);for(var s=e.l+t,a=[],i=0;i!==r.length;++i)switch(r[i][0]){case"PtgArray":r[i][1]=DL(e,0,n),a.push(r[i][1]);break;case"PtgMemArea":r[i][2]=ML(e,r[i][1],n),a.push(r[i][2]);break;case"PtgExp":n&&n.biff==12&&(r[i][1][1]=e.read_shift(4),a.push(r[i][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[i][0]}return t=s-e.l,t!==0&&a.push(on(e,t)),a}function xu(e,t,r){for(var n=e.l+t,s,a,i=[];n!=e.l;)t=n-e.l,a=e[e.l],s=S_[a]||S_[cO[a]],(a===24||a===25)&&(s=(a===24?uO:dO)[e[e.l+1]]),!s||!s.f?on(e,t):i.push([s.n,s.f(e,t,r)]);return i}function fO(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],s=[],a=0;a<n.length;++a){var i=n[a];if(i)switch(i[0]){case 2:s.push('"'+i[1].replace(/"/g,'""')+'"');break;default:s.push(i[1])}else s.push("")}t.push(s.join(","))}return t.join(";")}var hO={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function pO(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function mT(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var s="";if(r.biff>8)switch(e[n[0]][0]){case 357:return s=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?s:s+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return s=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?s:s+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return e[n[0]][0][3]?(s=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?s:s+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function E_(e,t,r){var n=mT(e,t,r);return n=="#REF"?n:pO(n,r)}function Qr(e,t,r,n,s){var a=s&&s.biff||8,i={s:{c:0,r:0}},o=[],l,c,u,h=0,p=0,g,v="";if(!e[0]||!e[0][0])return"";for(var x=-1,y="",w=0,k=e[0].length;w<k;++w){var _=e[0][w];switch(_[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),x>=0){switch(e[0][x][1][0]){case 0:y=ur(" ",e[0][x][1][1]);break;case 1:y=ur("\r",e[0][x][1][1]);break;default:if(y="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][x][1][0])}c=c+y,x=-1}o.push(c+hO[_[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=Ql(_[1][1],i,s),o.push(Zl(u,a));break;case"PtgRefN":u=r?Ql(_[1][1],r,s):_[1][1],o.push(Zl(u,a));break;case"PtgRef3d":h=_[1][1],u=Ql(_[1][2],i,s),v=E_(n,h,s),o.push(v+"!"+Zl(u,a));break;case"PtgFunc":case"PtgFuncVar":var b=_[1][0],T=_[1][1];b||(b=0),b&=127;var E=b==0?[]:o.slice(-b);o.length-=b,T==="User"&&(T=E.shift()),o.push(T+"("+E.join(",")+")");break;case"PtgBool":o.push(_[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(_[1]);break;case"PtgNum":o.push(String(_[1]));break;case"PtgStr":o.push('"'+_[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(_[1]);break;case"PtgAreaN":g=e_(_[1][1],r?{s:r}:i,s),o.push(ph(g,s));break;case"PtgArea":g=e_(_[1][1],i,s),o.push(ph(g,s));break;case"PtgArea3d":h=_[1][1],g=_[1][2],v=E_(n,h,s),o.push(v+"!"+ph(g,s));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":p=_[1][2];var S=(n.names||[])[p-1]||(n[0]||[])[p],M=S?S.Name:"SH33TJSNAME"+String(p);M&&M.slice(0,6)=="_xlfn."&&!s.xlfn&&(M=M.slice(6)),o.push(M);break;case"PtgNameX":var F=_[1][1];p=_[1][2];var z;if(s.biff<=5)F<0&&(F=-F),n[F]&&(z=n[F][p]);else{var Y="";if(((n[F]||[])[0]||[])[0]==14849||(((n[F]||[])[0]||[])[0]==1025?n[F][p]&&n[F][p].itab>0&&(Y=n.SheetNames[n[F][p].itab-1]+"!"):Y=n.SheetNames[p-1]+"!"),n[F]&&n[F][p])Y+=n[F][p].Name;else if(n[0]&&n[0][p])Y+=n[0][p].Name;else{var U=(mT(n,F,s)||"").split(";;");U[p-1]?Y=U[p-1]:Y+="SH33TJSERRX"}o.push(Y);break}z||(z={Name:"SH33TJSERRY"}),o.push(z.Name);break;case"PtgParen":var re="(",B=")";if(x>=0){switch(y="",e[0][x][1][0]){case 2:re=ur(" ",e[0][x][1][1])+re;break;case 3:re=ur("\r",e[0][x][1][1])+re;break;case 4:B=ur(" ",e[0][x][1][1])+B;break;case 5:B=ur("\r",e[0][x][1][1])+B;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][x][1][0])}x=-1}o.push(re+o.pop()+B);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:_[1][1],r:_[1][0]};var fe={c:r.c,r:r.r};if(n.sharedf[ft(u)]){var we=n.sharedf[ft(u)];o.push(Qr(we,i,fe,n,s))}else{var J=!1;for(l=0;l!=n.arrayf.length;++l)if(c=n.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){o.push(Qr(c[1],i,fe,n,s)),J=!0;break}J||o.push(_[1])}break;case"PtgArray":o.push("{"+fO(_[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":x=w;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+_[1].idx+"[#"+_[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(_));default:throw new Error("Unrecognized Formula Token: "+String(_))}var X=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&x>=0&&X.indexOf(e[0][w][0])==-1){_=e[0][x];var W=!0;switch(_[1][0]){case 4:W=!1;case 0:y=ur(" ",_[1][1]);break;case 5:W=!1;case 1:y=ur("\r",_[1][1]);break;default:if(y="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+_[1][0])}o.push((W?y:"")+o.pop()+(W?"":y)),x=-1}}if(o.length>1&&s.WTF)throw new Error("bad formula stack");return o[0]}function mO(e,t,r){var n=e.l+t,s=r.biff==2?1:2,a,i=e.read_shift(s);if(i==65535)return[[],on(e,t-2)];var o=xu(e,i,r);return t!==i+s&&(a=gu(e,t-i-s,o,r)),e.l=n,[o,a]}function gO(e,t,r){var n=e.l+t,s=r.biff==2?1:2,a,i=e.read_shift(s);if(i==65535)return[[],on(e,t-2)];var o=xu(e,i,r);return t!==i+s&&(a=gu(e,t-i-s,o,r)),e.l=n,[o,a]}function xO(e,t,r,n){var s=e.l+t,a=xu(e,n,r),i;return s!==e.l&&(i=gu(e,s-e.l,a,r)),[a,i]}function vO(e,t,r){var n=e.l+t,s,a=e.read_shift(2),i=xu(e,a,r);return a==65535?[[],on(e,t-2)]:(t!==a+2&&(s=gu(e,n-a-2,i,r)),[i,s])}function yO(e){var t;if(Ks(e,e.l+6)!==65535)return[rn(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function _O(e){if(e==null){var t=me(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return Di(e);return Di(0)}function yh(e,t,r){var n=e.l+t,s=Vs(e);r.biff==2&&++e.l;var a=yO(e),i=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=gO(e,n-e.l,r);return{cell:s,val:a[0],formula:o,shared:i>>3&1,tt:a[1]}}function wO(e,t,r,n,s){var a=Oi(t,r,s),i=_O(e.v),o=me(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var c=me(e.bf.length),u=0;u<e.bf.length;++u)c[u]=e.bf[u];var h=Mr([a,i,o,c]);return h}function w0(e,t,r){var n=e.read_shift(4),s=xu(e,n,r),a=e.read_shift(4),i=a>0?gu(e,a,s,r):null;return[s,i]}var kO=w0,k0=w0,bO=w0,SO=w0,EO={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},gT={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},TO={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function T_(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function CO(e){var t="of:="+e.replace(Qx,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function _h(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function AO(e){return e.replace(/\./,"!")}var tc={},$o={},rc=typeof Map<"u";function t1(e,t,r){var n=0,s=e.length;if(r){if(rc?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var a=rc?r.get(t):r[t];n<a.length;++n)if(e[a[n]].t===t)return e.Count++,a[n]}}else for(;n<s;++n)if(e[n].t===t)return e.Count++,n;return e[s]={t},e.Count++,e.Unique++,r&&(rc?(r.has(t)||r.set(t,[]),r.get(t).push(s)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(s))),s}function b0(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(en=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=Wc(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=uf(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function Ti(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Za(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],s=60,a=e.length;if(n==null&&r.ssf){for(;s<392;++s)if(r.ssf[s]==null){Xs(t.z,s),r.ssf[s]=t.z,r.revssf[t.z]=n=s;break}}for(s=0;s!=a;++s)if(e[s].numFmtId===n)return s;return e[a]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function xT(e,t,r,n,s,a){try{n.cellNF&&(e.z=ot[t])}catch(o){if(n.WTF)throw o}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Qt(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(ot[t]==null&&Xs(EF[t]||"General",t),e.t==="e")e.w=e.w||ca[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Uc(e.v);else if(e.t==="d"){var i=Nr(e.v);(i|0)===i?e.w=i.toString(10):e.w=Uc(i)}else{if(e.v===void 0)return"";e.w=Fi(e.v,$o)}else e.t==="d"?e.w=as(t,Nr(e.v),$o):e.w=as(t,e.v,$o)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{e.s=a.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=cf(s.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=s.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=cf(s.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=s.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&a.Fills)throw o}}}function NO(e,t,r){if(e&&e["!ref"]){var n=Ft(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function IO(e,t){var r=Ft(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=wt(r))}var RO=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,PO=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,FO=/<(?:\w:)?hyperlink [^>]*>/mg,MO=/"(\w*:\w*)"/,DO=/<(?:\w:)?col\b[^>]*[\/]?>/g,LO=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,OO=/<(?:\w:)?pageMargins[^>]*\/>/g,vT=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,UO=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,BO=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function jO(e,t,r,n,s,a,i){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",h=e.match(PO);h?(c=e.slice(0,h.index),u=e.slice(h.index+h[0].length)):c=u=e;var p=c.match(vT);p?r1(p[0],o,s,r):(p=c.match(UO))&&VO(p[0],p[1]||"",o,s,r);var g=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(g>0){var v=c.slice(g,g+50).match(MO);v&&IO(o,v[1])}var x=c.match(BO);x&&x[1]&&t7(x[1],s);var y=[];if(t.cellStyles){var w=c.match(DO);w&&YO(y,w)}h&&s7(h[1],o,t,l,a,i);var k=u.match(LO);k&&(o["!autofilter"]=QO(k[0]));var _=[],b=u.match(RO);if(b)for(g=0;g!=b.length;++g)_[g]=Ft(b[g].slice(b[g].indexOf('"')+1));var T=u.match(FO);T&&qO(o,T,n);var E=u.match(OO);if(E&&(o["!margins"]=KO(ht(E[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=wt(l)),t.sheetRows>0&&o["!ref"]){var S=Ft(o["!ref"]);t.sheetRows<=+S.e.r&&(S.e.r=t.sheetRows-1,S.e.r>l.e.r&&(S.e.r=l.e.r),S.e.r<S.s.r&&(S.s.r=S.e.r),S.e.c>l.e.c&&(S.e.c=l.e.c),S.e.c<S.s.c&&(S.s.c=S.e.c),o["!fullref"]=o["!ref"],o["!ref"]=wt(S))}return y.length>0&&(o["!cols"]=y),_.length>0&&(o["!merges"]=_),o}function $O(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+wt(e[r])+'"/>';return t+"</mergeCells>"}function r1(e,t,r,n){var s=ht(e);r.Sheets[n]||(r.Sheets[n]={}),s.codeName&&(r.Sheets[n].CodeName=Pt(Ht(s.codeName)))}function VO(e,t,r,n,s){r1(e.slice(0,e.indexOf(">")),r,n,s)}function HO(e,t,r,n,s){var a=!1,i={},o=null;if(n.bookType!=="xlsx"&&t.vbaraw){var l=t.SheetNames[r];try{t.Workbook&&(l=t.Workbook.Sheets[r].CodeName||l)}catch{}a=!0,i.codeName=Us($t(l))}if(e&&e["!outline"]){var c={summaryBelow:1,summaryRight:1};e["!outline"].above&&(c.summaryBelow=0),e["!outline"].left&&(c.summaryRight=0),o=(o||"")+De("outlinePr",null,c)}!a&&!o||(s[s.length]=De("sheetPr",o,i))}var GO=["objects","scenarios","selectLockedCells","selectUnlockedCells"],WO=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function zO(e){var t={sheet:1};return GO.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),WO.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=Jx(e.password).toString(16).toUpperCase()),De("sheetProtection",null,t)}function qO(e,t,r){for(var n=Array.isArray(e),s=0;s!=t.length;++s){var a=ht(Ht(t[s]),!0);if(!a.ref)return;var i=((r||{})["!id"]||[])[a.id];i?(a.Target=i.Target,a.location&&(a.Target+="#"+Pt(a.location))):(a.Target="#"+Pt(a.location),i={Target:a.Target,TargetMode:"Internal"}),a.Rel=i,a.tooltip&&(a.Tooltip=a.tooltip,delete a.tooltip);for(var o=Ft(a.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var u=ft({c,r:l});n?(e[l]||(e[l]=[]),e[l][c]||(e[l][c]={t:"z",v:void 0}),e[l][c].l=a):(e[u]||(e[u]={t:"z",v:void 0}),e[u].l=a)}}}function KO(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function JO(e){return Ti(e),De("pageMargins",null,e)}function YO(e,t){for(var r=!1,n=0;n!=t.length;++n){var s=ht(t[n],!0);s.hidden&&(s.hidden=Yt(s.hidden));var a=parseInt(s.min,10)-1,i=parseInt(s.max,10)-1;for(s.outlineLevel&&(s.level=+s.outlineLevel||0),delete s.min,delete s.max,s.width=+s.width,!r&&s.width&&(r=!0,Yx(s.width)),Ha(s);a<=i;)e[a++]=Zt(s)}}function XO(e,t){for(var r=["<cols>"],n,s=0;s!=t.length;++s)(n=t[s])&&(r[r.length]=De("col",null,b0(s,n)));return r[r.length]="</cols>",r.join("")}function QO(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function ZO(e,t,r,n){var s=typeof e.ref=="string"?e.ref:wt(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,i=An(s);i.s.r==i.e.r&&(i.e.r=An(t["!ref"]).e.r,s=wt(i));for(var o=0;o<a.length;++o){var l=a[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+s;break}}return o==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),De("autoFilter",null,{ref:s})}var e7=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function t7(e,t){t.Views||(t.Views=[{}]),(e.match(e7)||[]).forEach(function(r,n){var s=ht(r);t.Views[n]||(t.Views[n]={}),+s.zoomScale&&(t.Views[n].zoom=+s.zoomScale),Yt(s.rightToLeft)&&(t.Views[n].RTL=!0)})}function r7(e,t,r,n){var s={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(s.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),De("sheetViews",De("sheetView",null,s),{})}function n7(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var s="",a=e.t,i=e.v;if(e.t!=="z")switch(e.t){case"b":s=e.v?"1":"0";break;case"n":s=""+e.v;break;case"e":s=ca[e.v];break;case"d":n&&n.cellDates?s=Qt(e.v,-1).toISOString():(e=Zt(e),e.t="n",s=""+(e.v=Nr(Qt(e.v)))),typeof e.z>"u"&&(e.z=ot[14]);break;default:s=e.v;break}var o=Gr("v",$t(s)),l={r:t},c=Za(n.cellXfs,e,n);switch(c!==0&&(l.s=c),e.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=Gr("v",""+t1(n.Strings,e.v,n.revStrings)),l.t="s";break}l.t="str";break}if(e.t!=a&&(e.t=a,e.v=i),typeof e.f=="string"&&e.f){var u=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=De("f",$t(e.f),u)+(e.v!=null?o:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(l.cm=1),De("c",o,l)}var s7=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,s=/ref=["']([^"']*)["']/,a=Bc("v"),i=Bc("f");return function(l,c,u,h,p,g){for(var v=0,x="",y=[],w=[],k=0,_=0,b=0,T="",E,S,M=0,F=0,z,Y,U=0,re=0,B=Array.isArray(g.CellXf),fe,we=[],J=[],X=Array.isArray(c),W=[],pe={},Ee=!1,I=!!u.sheetStubs,L=l.split(t),G=0,q=L.length;G!=q;++G){x=L[G].trim();var ce=x.length;if(ce!==0){var ye=0;e:for(v=0;v<ce;++v)switch(x[v]){case">":if(x[v-1]!="/"){++v;break e}if(u&&u.cellStyles){if(S=ht(x.slice(ye,v),!0),M=S.r!=null?parseInt(S.r,10):M+1,F=-1,u.sheetRows&&u.sheetRows<M)continue;pe={},Ee=!1,S.ht&&(Ee=!0,pe.hpt=parseFloat(S.ht),pe.hpx=Zo(pe.hpt)),S.hidden=="1"&&(Ee=!0,pe.hidden=!0),S.outlineLevel!=null&&(Ee=!0,pe.level=+S.outlineLevel),Ee&&(W[M-1]=pe)}break;case"<":ye=v;break}if(ye>=v)break;if(S=ht(x.slice(ye,v),!0),M=S.r!=null?parseInt(S.r,10):M+1,F=-1,!(u.sheetRows&&u.sheetRows<M)){h.s.r>M-1&&(h.s.r=M-1),h.e.r<M-1&&(h.e.r=M-1),u&&u.cellStyles&&(pe={},Ee=!1,S.ht&&(Ee=!0,pe.hpt=parseFloat(S.ht),pe.hpx=Zo(pe.hpt)),S.hidden=="1"&&(Ee=!0,pe.hidden=!0),S.outlineLevel!=null&&(Ee=!0,pe.level=+S.outlineLevel),Ee&&(W[M-1]=pe)),y=x.slice(v).split(e);for(var ge=0;ge!=y.length&&y[ge].trim().charAt(0)=="<";++ge);for(y=y.slice(ge),v=0;v!=y.length;++v)if(x=y[v].trim(),x.length!==0){if(w=x.match(r),k=v,_=0,b=0,x="<c "+(x.slice(0,1)=="<"?">":"")+x,w!=null&&w.length===2){for(k=0,T=w[1],_=0;_!=T.length&&!((b=T.charCodeAt(_)-64)<1||b>26);++_)k=26*k+b;--k,F=k}else++F;for(_=0;_!=x.length&&x.charCodeAt(_)!==62;++_);if(++_,S=ht(x.slice(0,_),!0),S.r||(S.r=ft({r:M-1,c:F})),T=x.slice(_),E={t:""},(w=T.match(a))!=null&&w[1]!==""&&(E.v=Pt(w[1])),u.cellFormula){if((w=T.match(i))!=null&&w[1]!==""){if(E.f=Pt(Ht(w[1])).replace(/\r\n/g,`
`),u.xlfn||(E.f=k_(E.f)),w[0].indexOf('t="array"')>-1)E.F=(T.match(s)||[])[1],E.F.indexOf(":")>-1&&we.push([Ft(E.F),E.F]);else if(w[0].indexOf('t="shared"')>-1){Y=ht(w[0]);var ve=Pt(Ht(w[1]));u.xlfn||(ve=k_(ve)),J[parseInt(Y.si,10)]=[Y,ve,S.r]}}else(w=T.match(/<f[^>]*\/>/))&&(Y=ht(w[0]),J[Y.si]&&(E.f=eL(J[Y.si][1],J[Y.si][2],S.r)));var H=sr(S.r);for(_=0;_<we.length;++_)H.r>=we[_][0].s.r&&H.r<=we[_][0].e.r&&H.c>=we[_][0].s.c&&H.c<=we[_][0].e.c&&(E.F=we[_][1])}if(S.t==null&&E.v===void 0)if(E.f||E.F)E.v=0,E.t="n";else if(I)E.t="z";else continue;else E.t=S.t||"n";switch(h.s.c>F&&(h.s.c=F),h.e.c<F&&(h.e.c=F),E.t){case"n":if(E.v==""||E.v==null){if(!I)continue;E.t="z"}else E.v=parseFloat(E.v);break;case"s":if(typeof E.v>"u"){if(!I)continue;E.t="z"}else z=tc[parseInt(E.v,10)],E.v=z.t,E.r=z.r,u.cellHTML&&(E.h=z.h);break;case"str":E.t="s",E.v=E.v!=null?Ht(E.v):"",u.cellHTML&&(E.h=Mx(E.v));break;case"inlineStr":w=T.match(n),E.t="s",w!=null&&(z=Kx(w[1]))?(E.v=z.t,u.cellHTML&&(E.h=z.h)):E.v="";break;case"b":E.v=Yt(E.v);break;case"d":u.cellDates?E.v=Qt(E.v,1):(E.v=Nr(Qt(E.v,1)),E.t="n");break;case"e":(!u||u.cellText!==!1)&&(E.w=E.v),E.v=_E[E.v];break}if(U=re=0,fe=null,B&&S.s!==void 0&&(fe=g.CellXf[S.s],fe!=null&&(fe.numFmtId!=null&&(U=fe.numFmtId),u.cellStyles&&fe.fillId!=null&&(re=fe.fillId))),xT(E,U,re,u,p,g),u.cellDates&&B&&E.t=="n"&&ol(ot[U])&&(E.t="d",E.v=y0(E.v)),S.cm&&u.xlmeta){var he=(u.xlmeta.Cell||[])[+S.cm-1];he&&he.type=="XLDAPR"&&(E.D=!0)}if(X){var D=sr(S.r);c[D.r]||(c[D.r]=[]),c[D.r][D.c]=E}else c[S.r]=E}}}}W.length>0&&(c["!rows"]=W)}}();function a7(e,t,r,n){var s=[],a=[],i=Ft(e["!ref"]),o="",l,c="",u=[],h=0,p=0,g=e["!rows"],v=Array.isArray(e),x={r:c},y,w=-1;for(p=i.s.c;p<=i.e.c;++p)u[p]=nr(p);for(h=i.s.r;h<=i.e.r;++h){for(a=[],c=gr(h),p=i.s.c;p<=i.e.c;++p){l=u[p]+c;var k=v?(e[h]||[])[p]:e[l];k!==void 0&&(o=n7(k,l,e,t))!=null&&a.push(o)}(a.length>0||g&&g[h])&&(x={r:c},g&&g[h]&&(y=g[h],y.hidden&&(x.hidden=1),w=-1,y.hpx?w=zc(y.hpx):y.hpt&&(w=y.hpt),w>-1&&(x.ht=w,x.customHeight=1),y.level&&(x.outlineLevel=y.level)),s[s.length]=De("row",a.join(""),x))}if(g)for(;h<g.length;++h)g&&g[h]&&(x={r:h+1},y=g[h],y.hidden&&(x.hidden=1),w=-1,y.hpx?w=zc(y.hpx):y.hpt&&(w=y.hpt),w>-1&&(x.ht=w,x.customHeight=1),y.level&&(x.outlineLevel=y.level),s[s.length]=De("row","",x));return s.join("")}function yT(e,t,r,n){var s=[xr,De("worksheet",null,{xmlns:Vi[0],"xmlns:r":Cr.r})],a=r.SheetNames[e],i=0,o="",l=r.Sheets[a];l==null&&(l={});var c=l["!ref"]||"A1",u=Ft(c);if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),c=wt(u)}n||(n={}),l["!comments"]=[];var h=[];HO(l,r,e,t,s),s[s.length]=De("dimension",null,{ref:c}),s[s.length]=r7(l,t,e,r),t.sheetFormat&&(s[s.length]=De("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(s[s.length]=XO(l,l["!cols"])),s[i=s.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=a7(l,t),o.length>0&&(s[s.length]=o)),s.length>i+1&&(s[s.length]="</sheetData>",s[i]=s[i].replace("/>",">")),l["!protect"]&&(s[s.length]=zO(l["!protect"])),l["!autofilter"]!=null&&(s[s.length]=ZO(l["!autofilter"],l,r,e)),l["!merges"]!=null&&l["!merges"].length>0&&(s[s.length]=$O(l["!merges"]));var p=-1,g,v=-1;return l["!links"].length>0&&(s[s.length]="<hyperlinks>",l["!links"].forEach(function(x){x[1].Target&&(g={ref:x[0]},x[1].Target.charAt(0)!="#"&&(v=jt(n,-1,$t(x[1].Target).replace(/#.*$/,""),Tt.HLINK),g["r:id"]="rId"+v),(p=x[1].Target.indexOf("#"))>-1&&(g.location=$t(x[1].Target.slice(p+1))),x[1].Tooltip&&(g.tooltip=$t(x[1].Tooltip)),s[s.length]=De("hyperlink",null,g))}),s[s.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(s[s.length]=JO(l["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(s[s.length]=Gr("ignoredErrors",De("ignoredError",null,{numberStoredAsText:1,sqref:c}))),h.length>0&&(v=jt(n,-1,"../drawings/drawing"+(e+1)+".xml",Tt.DRAW),s[s.length]=De("drawing",null,{"r:id":"rId"+v}),l["!drawing"]=h),l["!comments"].length>0&&(v=jt(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Tt.VML),s[s.length]=De("legacyDrawing",null,{"r:id":"rId"+v}),l["!legacy"]=v),s.length>1&&(s[s.length]="</worksheet>",s[1]=s[1].replace("/>",">")),s.join("")}function i7(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var s=e.read_shift(2);e.l+=1;var a=e.read_shift(1);return e.l=n,a&7&&(r.level=a&7),a&16&&(r.hidden=!0),a&32&&(r.hpt=s/20),r}function o7(e,t,r){var n=me(145),s=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var a=320;s.hpx?a=zc(s.hpx)*20:s.hpt&&(a=s.hpt*20),n.write_shift(2,a),n.write_shift(1,0);var i=0;s.level&&(i|=s.level),s.hidden&&(i|=16),(s.hpx||s.hpt)&&(i|=32),n.write_shift(1,i),n.write_shift(1,0);var o=0,l=n.l;n.l+=4;for(var c={r:e,c:0},u=0;u<16;++u)if(!(t.s.c>u+1<<10||t.e.c<u<<10)){for(var h=-1,p=-1,g=u<<10;g<u+1<<10;++g){c.c=g;var v=Array.isArray(r)?(r[c.r]||[])[c.c]:r[ft(c)];v&&(h<0&&(h=g),p=g)}h<0||(++o,n.write_shift(4,h),n.write_shift(4,p))}var x=n.l;return n.l=l,n.write_shift(4,o),n.l=x,n.length>n.l?n.slice(0,n.l):n}function l7(e,t,r,n){var s=o7(n,r,t);(s.length>17||(t["!rows"]||[])[n])&&be(e,0,s)}var c7=zi,u7=ul;function d7(){}function f7(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=m5(e),r}function h7(e,t,r){r==null&&(r=me(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var s=1;s<3;++s)r.write_shift(1,0);return af({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),mE(e,r),r.slice(0,r.l)}function p7(e){var t=os(e);return[t]}function m7(e,t,r){return r==null&&(r=me(8)),Hi(t,r)}function g7(e){var t=Gi(e);return[t]}function x7(e,t,r){return r==null&&(r=me(4)),Wi(t,r)}function v7(e){var t=os(e),r=e.read_shift(1);return[t,r,"b"]}function y7(e,t,r){return r==null&&(r=me(9)),Hi(t,r),r.write_shift(1,e.v?1:0),r}function _7(e){var t=Gi(e),r=e.read_shift(1);return[t,r,"b"]}function w7(e,t,r){return r==null&&(r=me(5)),Wi(t,r),r.write_shift(1,e.v?1:0),r}function k7(e){var t=os(e),r=e.read_shift(1);return[t,r,"e"]}function b7(e,t,r){return r==null&&(r=me(9)),Hi(t,r),r.write_shift(1,e.v),r}function S7(e){var t=Gi(e),r=e.read_shift(1);return[t,r,"e"]}function E7(e,t,r){return r==null&&(r=me(8)),Wi(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function T7(e){var t=os(e),r=e.read_shift(4);return[t,r,"s"]}function C7(e,t,r){return r==null&&(r=me(12)),Hi(t,r),r.write_shift(4,t.v),r}function A7(e){var t=Gi(e),r=e.read_shift(4);return[t,r,"s"]}function N7(e,t,r){return r==null&&(r=me(8)),Wi(t,r),r.write_shift(4,t.v),r}function I7(e){var t=os(e),r=rn(e);return[t,r,"n"]}function R7(e,t,r){return r==null&&(r=me(16)),Hi(t,r),Di(e.v,r),r}function _T(e){var t=Gi(e),r=rn(e);return[t,r,"n"]}function P7(e,t,r){return r==null&&(r=me(12)),Wi(t,r),Di(e.v,r),r}function F7(e){var t=os(e),r=Hx(e);return[t,r,"n"]}function M7(e,t,r){return r==null&&(r=me(12)),Hi(t,r),gE(e.v,r),r}function D7(e){var t=Gi(e),r=Hx(e);return[t,r,"n"]}function L7(e,t,r){return r==null&&(r=me(8)),Wi(t,r),gE(e.v,r),r}function O7(e){var t=os(e),r=jx(e);return[t,r,"is"]}function U7(e){var t=os(e),r=sn(e);return[t,r,"str"]}function B7(e,t,r){return r==null&&(r=me(12+4*e.v.length)),Hi(t,r),Dr(e.v,r),r.length>r.l?r.slice(0,r.l):r}function j7(e){var t=Gi(e),r=sn(e);return[t,r,"str"]}function $7(e,t,r){return r==null&&(r=me(8+4*e.v.length)),Wi(t,r),Dr(e.v,r),r.length>r.l?r.slice(0,r.l):r}function V7(e,t,r){var n=e.l+t,s=os(e);s.r=r["!row"];var a=e.read_shift(1),i=[s,a,"b"];if(r.cellFormula){e.l+=2;var o=k0(e,n-e.l,r);i[3]=Qr(o,null,s,r.supbooks,r)}else e.l=n;return i}function H7(e,t,r){var n=e.l+t,s=os(e);s.r=r["!row"];var a=e.read_shift(1),i=[s,a,"e"];if(r.cellFormula){e.l+=2;var o=k0(e,n-e.l,r);i[3]=Qr(o,null,s,r.supbooks,r)}else e.l=n;return i}function G7(e,t,r){var n=e.l+t,s=os(e);s.r=r["!row"];var a=rn(e),i=[s,a,"n"];if(r.cellFormula){e.l+=2;var o=k0(e,n-e.l,r);i[3]=Qr(o,null,s,r.supbooks,r)}else e.l=n;return i}function W7(e,t,r){var n=e.l+t,s=os(e);s.r=r["!row"];var a=sn(e),i=[s,a,"str"];if(r.cellFormula){e.l+=2;var o=k0(e,n-e.l,r);i[3]=Qr(o,null,s,r.supbooks,r)}else e.l=n;return i}var z7=zi,q7=ul;function K7(e,t){return t==null&&(t=me(4)),t.write_shift(4,e),t}function J7(e,t){var r=e.l+t,n=zi(e),s=$x(e),a=sn(e),i=sn(e),o=sn(e);e.l=r;var l={rfx:n,relId:s,loc:a,display:o};return i&&(l.Tooltip=i),l}function Y7(e,t){var r=me(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));ul({s:sr(e[0]),e:sr(e[0])},r),Vx("rId"+t,r);var n=e[1].Target.indexOf("#"),s=n==-1?"":e[1].Target.slice(n+1);return Dr(s||"",r),Dr(e[1].Tooltip||"",r),Dr("",r),r.slice(0,r.l)}function X7(){}function Q7(e,t,r){var n=e.l+t,s=xE(e),a=e.read_shift(1),i=[s];if(i[2]=a,r.cellFormula){var o=kO(e,n-e.l,r);i[1]=o}else e.l=n;return i}function Z7(e,t,r){var n=e.l+t,s=zi(e),a=[s];if(r.cellFormula){var i=SO(e,n-e.l,r);a[1]=i,e.l=n}else e.l=n;return a}function eU(e,t,r){r==null&&(r=me(18));var n=b0(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var s=0;return t.hidden&&(s|=1),typeof n.width=="number"&&(s|=2),t.level&&(s|=t.level<<8),r.write_shift(2,s),r}var wT=["left","right","top","bottom","header","footer"];function tU(e){var t={};return wT.forEach(function(r){t[r]=rn(e)}),t}function rU(e,t){return t==null&&(t=me(6*8)),Ti(e),wT.forEach(function(r){Di(e[r],t)}),t}function nU(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function sU(e,t,r){r==null&&(r=me(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function aU(e){var t=me(24);return t.write_shift(4,4),t.write_shift(4,1),ul(e,t),t}function iU(e,t){return t==null&&(t=me(16*4+2)),t.write_shift(2,e.password?Jx(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function oU(){}function lU(){}function cU(e,t,r,n,s,a,i){if(!e)return e;var o=t||{};n||(n={"!id":{}});var l=o.dense?[]:{},c,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},h=!1,p=!1,g,v,x,y,w,k,_,b,T,E=[];o.biff=12,o["!row"]=0;var S=0,M=!1,F=[],z={},Y=o.supbooks||s.supbooks||[[]];if(Y.sharedf=z,Y.arrayf=F,Y.SheetNames=s.SheetNames||s.Sheets.map(function(X){return X.name}),!o.supbooks&&(o.supbooks=Y,s.Names))for(var U=0;U<s.Names.length;++U)Y[0][U+1]=s.Names[U];var re=[],B=[],fe=!1;qc[16]={n:"BrtShortReal",f:_T};var we;if(la(e,function(W,pe,Ee){if(!p)switch(Ee){case 148:c=W;break;case 0:g=W,o.sheetRows&&o.sheetRows<=g.r&&(p=!0),b=gr(y=g.r),o["!row"]=g.r,(W.hidden||W.hpt||W.level!=null)&&(W.hpt&&(W.hpx=Zo(W.hpt)),B[W.r]=W);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(v={t:W[2]},W[2]){case"n":v.v=W[1];break;case"s":_=tc[W[1]],v.v=_.t,v.r=_.r;break;case"b":v.v=!!W[1];break;case"e":v.v=W[1],o.cellText!==!1&&(v.w=ca[v.v]);break;case"str":v.t="s",v.v=W[1];break;case"is":v.t="s",v.v=W[1].t;break}if((x=i.CellXf[W[0].iStyleRef])&&xT(v,x.numFmtId,null,o,a,i),w=W[0].c==-1?w+1:W[0].c,o.dense?(l[y]||(l[y]=[]),l[y][w]=v):l[nr(w)+b]=v,o.cellFormula){for(M=!1,S=0;S<F.length;++S){var I=F[S];g.r>=I[0].s.r&&g.r<=I[0].e.r&&w>=I[0].s.c&&w<=I[0].e.c&&(v.F=wt(I[0]),M=!0)}!M&&W.length>3&&(v.f=W[3])}if(u.s.r>g.r&&(u.s.r=g.r),u.s.c>w&&(u.s.c=w),u.e.r<g.r&&(u.e.r=g.r),u.e.c<w&&(u.e.c=w),o.cellDates&&x&&v.t=="n"&&ol(ot[x.numFmtId])){var L=vi(v.v);L&&(v.t="d",v.v=new Date(L.y,L.m-1,L.d,L.H,L.M,L.S,L.u))}we&&(we.type=="XLDAPR"&&(v.D=!0),we=void 0);break;case 1:case 12:if(!o.sheetStubs||h)break;v={t:"z",v:void 0},w=W[0].c==-1?w+1:W[0].c,o.dense?(l[y]||(l[y]=[]),l[y][w]=v):l[nr(w)+b]=v,u.s.r>g.r&&(u.s.r=g.r),u.s.c>w&&(u.s.c=w),u.e.r<g.r&&(u.e.r=g.r),u.e.c<w&&(u.e.c=w),we&&(we.type=="XLDAPR"&&(v.D=!0),we=void 0);break;case 176:E.push(W);break;case 49:we=((o.xlmeta||{}).Cell||[])[W-1];break;case 494:var G=n["!id"][W.relId];for(G?(W.Target=G.Target,W.loc&&(W.Target+="#"+W.loc),W.Rel=G):W.relId==""&&(W.Target="#"+W.loc),y=W.rfx.s.r;y<=W.rfx.e.r;++y)for(w=W.rfx.s.c;w<=W.rfx.e.c;++w)o.dense?(l[y]||(l[y]=[]),l[y][w]||(l[y][w]={t:"z",v:void 0}),l[y][w].l=W):(k=ft({c:w,r:y}),l[k]||(l[k]={t:"z",v:void 0}),l[k].l=W);break;case 426:if(!o.cellFormula)break;F.push(W),T=o.dense?l[y][w]:l[nr(w)+b],T.f=Qr(W[1],u,{r:g.r,c:w},Y,o),T.F=wt(W[0]);break;case 427:if(!o.cellFormula)break;z[ft(W[0].s)]=W[1],T=o.dense?l[y][w]:l[nr(w)+b],T.f=Qr(W[1],u,{r:g.r,c:w},Y,o);break;case 60:if(!o.cellStyles)break;for(;W.e>=W.s;)re[W.e--]={width:W.w/256,hidden:!!(W.flags&1),level:W.level},fe||(fe=!0,Yx(W.w/256)),Ha(re[W.e+1]);break;case 161:l["!autofilter"]={ref:wt(W)};break;case 476:l["!margins"]=W;break;case 147:s.Sheets[r]||(s.Sheets[r]={}),W.name&&(s.Sheets[r].CodeName=W.name),(W.above||W.left)&&(l["!outline"]={above:W.above,left:W.left});break;case 137:s.Views||(s.Views=[{}]),s.Views[0]||(s.Views[0]={}),W.RTL&&(s.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:h=!0;break;case 36:h=!1;break;case 37:h=!0;break;case 38:h=!1;break;default:if(!pe.T){if(!h||o.WTF)throw new Error("Unexpected record 0x"+Ee.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(u.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=wt(c||u)),o.sheetRows&&l["!ref"]){var J=Ft(l["!ref"]);o.sheetRows<=+J.e.r&&(J.e.r=o.sheetRows-1,J.e.r>u.e.r&&(J.e.r=u.e.r),J.e.r<J.s.r&&(J.s.r=J.e.r),J.e.c>u.e.c&&(J.e.c=u.e.c),J.e.c<J.s.c&&(J.s.c=J.e.c),l["!fullref"]=l["!ref"],l["!ref"]=wt(J))}return E.length>0&&(l["!merges"]=E),re.length>0&&(l["!cols"]=re),B.length>0&&(l["!rows"]=B),l}function uU(e,t,r,n,s,a,i){if(t.v===void 0)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":t=Zt(t),t.z=t.z||ot[14],t.v=Nr(Qt(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v;break}var l={r,c:n};switch(l.s=Za(s.cellXfs,t,s),t.l&&a["!links"].push([ft(l),t.l]),t.c&&a["!comments"].push([ft(l),t.c]),t.t){case"s":case"str":return s.bookSST?(o=t1(s.Strings,t.v,s.revStrings),l.t="s",l.v=o,i?be(e,18,N7(t,l)):be(e,7,C7(t,l))):(l.t="str",i?be(e,17,$7(t,l)):be(e,6,B7(t,l))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?i?be(e,13,L7(t,l)):be(e,2,M7(t,l)):i?be(e,16,P7(t,l)):be(e,5,R7(t,l)),!0;case"b":return l.t="b",i?be(e,15,w7(t,l)):be(e,4,y7(t,l)),!0;case"e":return l.t="e",i?be(e,14,E7(t,l)):be(e,3,b7(t,l)),!0}return i?be(e,12,x7(t,l)):be(e,1,m7(t,l)),!0}function dU(e,t,r,n){var s=Ft(t["!ref"]||"A1"),a,i="",o=[];be(e,145);var l=Array.isArray(t),c=s.e.r;t["!rows"]&&(c=Math.max(s.e.r,t["!rows"].length-1));for(var u=s.s.r;u<=c;++u){i=gr(u),l7(e,t,s,u);var h=!1;if(u<=s.e.r)for(var p=s.s.c;p<=s.e.c;++p){u===s.s.r&&(o[p]=nr(p)),a=o[p]+i;var g=l?(t[u]||[])[p]:t[a];if(!g){h=!1;continue}h=uU(e,g,u,p,n,t,h)}}be(e,146)}function fU(e,t){!t||!t["!merges"]||(be(e,177,K7(t["!merges"].length)),t["!merges"].forEach(function(r){be(e,176,q7(r))}),be(e,178))}function hU(e,t){!t||!t["!cols"]||(be(e,390),t["!cols"].forEach(function(r,n){r&&be(e,60,eU(n,r))}),be(e,391))}function pU(e,t){!t||!t["!ref"]||(be(e,648),be(e,649,aU(Ft(t["!ref"]))),be(e,650))}function mU(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var s=jt(r,-1,n[1].Target.replace(/#.*$/,""),Tt.HLINK);be(e,494,Y7(n,s))}}),delete t["!links"]}function gU(e,t,r,n){if(t["!comments"].length>0){var s=jt(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Tt.VML);be(e,551,Vx("rId"+s)),t["!legacy"]=s}}function xU(e,t,r,n){if(t["!autofilter"]){var s=t["!autofilter"],a=typeof s.ref=="string"?s.ref:wt(s.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=An(a);o.s.r==o.e.r&&(o.e.r=An(t["!ref"]).e.r,a=wt(o));for(var l=0;l<i.length;++l){var c=i[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+a;break}}l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),be(e,161,ul(Ft(a))),be(e,162)}}function vU(e,t,r){be(e,133),be(e,137,sU(t,r)),be(e,138),be(e,134)}function yU(e,t){t["!protect"]&&be(e,535,iU(t["!protect"]))}function _U(e,t,r,n){var s=Cn(),a=r.SheetNames[e],i=r.Sheets[a]||{},o=a;try{r&&r.Workbook&&(o=r.Workbook.Sheets[e].CodeName||o)}catch{}var l=Ft(i["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return i["!links"]=[],i["!comments"]=[],be(s,129),(r.vbaraw||i["!outline"])&&be(s,147,h7(o,i["!outline"])),be(s,148,u7(l)),vU(s,i,r.Workbook),hU(s,i),dU(s,i,e,t),yU(s,i),xU(s,i,r,e),fU(s,i),mU(s,i,n),i["!margins"]&&be(s,476,rU(i["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&pU(s,i),gU(s,i,e,n),be(s,130),s.end()}function wU(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(a){var i=a.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);i&&(t[+i[1]]=r?+i[2]:i[2])});var s=Pt((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(a){n=a.replace(/<.*?>/g,"")}),[t,s,n]}function kU(e,t,r,n,s,a){var i=a||{"!type":"chart"};if(!e)return a;var o=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(h){var p=wU(h);u.s.r=u.s.c=0,u.e.c=o,c=nr(o),p[0].forEach(function(g,v){i[c+gr(v)]={t:"n",v:g,z:p[1]},l=v}),u.e.r<l&&(u.e.r=l),++o}),o>0&&(i["!ref"]=wt(u)),i}function bU(e,t,r,n,s){if(!e)return e;n||(n={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},i,o=e.match(vT);return o&&r1(o[0],a,s,r),(i=e.match(/drawing r:id="(.*?)"/))&&(a["!rel"]=i[1]),n["!id"][a["!rel"]]&&(a["!drawel"]=n["!id"][a["!rel"]]),a}function SU(e,t){e.l+=10;var r=sn(e);return{name:r}}function EU(e,t,r,n,s){if(!e)return e;n||(n={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},i=!1;return la(e,function(l,c,u){switch(u){case 550:a["!rel"]=l;break;case 651:s.Sheets[r]||(s.Sheets[r]={}),l.name&&(s.Sheets[r].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!i||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},t),n["!id"][a["!rel"]]&&(a["!drawel"]=n["!id"][a["!rel"]]),a}var n1=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],TU=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],CU=[],AU=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function C_(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],s=0;s!=t.length;++s){var a=t[s];if(n[a[0]]==null)n[a[0]]=a[1];else switch(a[2]){case"bool":typeof n[a[0]]=="string"&&(n[a[0]]=Yt(n[a[0]]));break;case"int":typeof n[a[0]]=="string"&&(n[a[0]]=parseInt(n[a[0]],10));break}}}function A_(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=Yt(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function kT(e){A_(e.WBProps,n1),A_(e.CalcPr,AU),C_(e.WBView,TU),C_(e.Sheets,CU),$o.date1904=Yt(e.WBProps.date1904)}function NU(e){return!e.Workbook||!e.Workbook.WBProps?"false":Yt(e.Workbook.WBProps.date1904)?"true":"false"}var IU="][*?/\\".split("");function bT(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return IU.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function RU(e,t,r){e.forEach(function(n,s){bT(n);for(var a=0;a<s;++a)if(n==e[a])throw new Error("Duplicate Sheet Name: "+n);if(r){var i=t&&t[s]&&t[s].CodeName||n;if(i.charCodeAt(0)==95&&i.length>22)throw new Error("Bad Code Name: Worksheet"+i)}})}function PU(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];RU(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)NO(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}var FU=/<\w+:workbook/;function MU(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,s="xmlns",a={},i=0;if(e.replace(ln,function(l,c){var u=ht(l);switch($s(u[0])){case"<?xml":break;case"<workbook":l.match(FU)&&(s="xmlns"+l.match(/<(\w+):/)[1]),r.xmlns=u[s];break;case"</workbook>":break;case"<fileVersion":delete u[0],r.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":n1.forEach(function(h){if(u[h[0]]!=null)switch(h[2]){case"bool":r.WBProps[h[0]]=Yt(u[h[0]]);break;case"int":r.WBProps[h[0]]=parseInt(u[h[0]],10);break;default:r.WBProps[h[0]]=u[h[0]]}}),u.codeName&&(r.WBProps.CodeName=Ht(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],r.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=Pt(Ht(u.name)),delete u[0],r.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":a={},a.Name=Ht(u.name),u.comment&&(a.Comment=u.comment),u.localSheetId&&(a.Sheet=+u.localSheetId),Yt(u.hidden||"0")&&(a.Hidden=!0),i=c+l.length;break;case"</definedName>":a.Ref=Pt(Ht(e.slice(i,c))),r.Names.push(a);break;case"<definedName/>":break;case"<calcPr":delete u[0],r.CalcPr=u;break;case"<calcPr/>":delete u[0],r.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return l}),Vi.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return kT(r),r}function ST(e){var t=[xr];t[t.length]=De("workbook",null,{xmlns:Vi[0],"xmlns:r":Cr.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(n1.forEach(function(o){e.Workbook.WBProps[o[0]]!=null&&e.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=e.Workbook.WBProps[o[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=De("workbookPr",null,n);var s=e.Workbook&&e.Workbook.Sheets||[],a=0;if(s&&s[0]&&s[0].Hidden){for(t[t.length]="<bookViews>",a=0;a!=e.SheetNames.length&&!(!s[a]||!s[a].Hidden);++a);a==e.SheetNames.length&&(a=0),t[t.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",a=0;a!=e.SheetNames.length;++a){var i={name:$t(e.SheetNames[a].slice(0,31))};if(i.sheetId=""+(a+1),i["r:id"]="rId"+(a+1),s[a])switch(s[a].Hidden){case 1:i.state="hidden";break;case 2:i.state="veryHidden";break}t[t.length]=De("sheet",null,i)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(t[t.length]=De("definedName",$t(o.Ref),l))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function DU(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=Vp(e),r.name=sn(e),r}function LU(e,t){return t||(t=me(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),Vx(e.strRelID,t),Dr(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function OU(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var s=t>8?sn(e):"";return s.length>0&&(r.CodeName=s),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function UU(e,t){t||(t=me(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),mE(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function BU(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function jU(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var s=e.read_shift(4),a=g5(e),i=bO(e,0,r),o=$x(e);e.l=n;var l={Name:a,Ptg:i};return s<268435455&&(l.Sheet=s),o&&(l.Comment=o),l}function $U(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],s=!1;t||(t={}),t.biff=12;var a=[],i=[[]];return i.SheetNames=[],i.XTI=[],qc[16]={n:"BrtFRTArchID$",f:BU},la(e,function(l,c,u){switch(u){case 156:i.SheetNames.push(l.name),r.Sheets.push(l);break;case 153:r.WBProps=l;break;case 39:l.Sheet!=null&&(t.SID=l.Sheet),l.Ref=Qr(l.Ptg,null,null,i,t),delete t.SID,delete l.Ptg,a.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:i[0].length?i.push([u,l]):i[0]=[u,l],i[i.length-1].XTI=[];break;case 362:i.length===0&&(i[0]=[],i[0].XTI=[]),i[i.length-1].XTI=i[i.length-1].XTI.concat(l),i.XTI=i.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(u),s=!0;break;case 36:n.pop(),s=!1;break;case 37:n.push(u),s=!0;break;case 38:n.pop(),s=!1;break;case 16:break;default:if(!c.T){if(!s||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},t),kT(r),r.Names=a,r.supbooks=i,r}function VU(e,t){be(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,s={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};be(e,156,LU(s))}be(e,144)}function HU(e,t){t||(t=me(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return Dr("SheetJS",t),Dr(Qd.version,t),Dr(Qd.version,t),Dr("7262",t),t.length>t.l?t.slice(0,t.l):t}function GU(e,t){t||(t=me(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function WU(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,s=-1,a=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&s==-1?s=n:r[n].Hidden==1&&a==-1&&(a=n);a>s||(be(e,135),be(e,158,GU(s)),be(e,136))}}function zU(e,t){var r=Cn();return be(r,131),be(r,128,HU()),be(r,153,UU(e.Workbook&&e.Workbook.WBProps||null)),WU(r,e),VU(r,e),be(r,132),r.end()}function qU(e,t,r){return t.slice(-4)===".bin"?$U(e,r):MU(e,r)}function KU(e,t,r,n,s,a,i,o){return t.slice(-4)===".bin"?cU(e,n,r,s,a,i,o):jO(e,n,r,s,a,i,o)}function JU(e,t,r,n,s,a,i,o){return t.slice(-4)===".bin"?EU(e,n,r,s,a):bU(e,n,r,s,a)}function YU(e,t,r,n,s,a,i,o){return t.slice(-4)===".bin"?QD():ZD()}function XU(e,t,r,n,s,a,i,o){return t.slice(-4)===".bin"?YD():XD()}function QU(e,t,r,n){return t.slice(-4)===".bin"?q8(e,r,n):D8(e,r,n)}function ZU(e,t,r){return sT(e,r)}function e9(e,t,r){return t.slice(-4)===".bin"?e8(e,r):X6(e,r)}function t9(e,t,r){return t.slice(-4)===".bin"?WD(e,r):LD(e,r)}function r9(e,t,r){return t.slice(-4)===".bin"?FD(e):RD(e)}function n9(e,t,r,n){return r.slice(-4)===".bin"?MD(e,t,r,n):void 0}function s9(e,t,r){return t.slice(-4)===".bin"?AD(e,t,r):ID(e,t,r)}function a9(e,t,r){return(t.slice(-4)===".bin"?zU:ST)(e)}function i9(e,t,r,n,s){return(t.slice(-4)===".bin"?_U:yT)(e,r,n,s)}function o9(e,t,r){return(t.slice(-4)===".bin"?nD:rT)(e,r)}function l9(e,t,r){return(t.slice(-4)===".bin"?n8:KE)(e,r)}function c9(e,t,r){return(t.slice(-4)===".bin"?zD:oT)(e)}function u9(e){return(e.slice(-4)===".bin"?ND:aT)()}var ET=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,TT=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function fs(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var s=e.match(ET),a,i,o,l;if(s)for(l=0;l!=s.length;++l)a=s[l].match(TT),(i=a[1].indexOf(":"))===-1?n[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(i+1),n[o]=a[2].slice(1,a[2].length-1));return n}function d9(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(ET),s,a,i,o;if(n)for(o=0;o!=n.length;++o)s=n[o].match(TT),(a=s[1].indexOf(":"))===-1?r[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?i="xmlns"+s[1].slice(6):i=s[1].slice(a+1),r[i]=s[2].slice(1,s[2].length-1));return r}var nc;function f9(e,t){var r=nc[e]||Pt(e);return r==="General"?Fi(t):as(r,t)}function h9(e,t,r,n){var s=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":s=Yt(n);break;case"i2":case"int":s=parseInt(n,10);break;case"r4":case"float":s=parseFloat(n);break;case"date":case"dateTime.tz":s=Qt(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[Pt(t)]=s}function p9(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||ca[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Uc(e.v):e.w=Fi(e.v):e.w=f9(t||"General",e.v)}catch(a){if(r.WTF)throw a}try{var n=nc[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&ol(n)){var s=vi(e.v);s&&(e.t="d",e.v=new Date(s.y,s.m-1,s.d,s.H,s.M,s.S,s.u))}}catch(a){if(r.WTF)throw a}}}function m9(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=C8[n.Pattern]||n.Pattern)}e[t.ID]=t}function g9(e,t,r,n,s,a,i,o,l,c){var u="General",h=n.StyleID,p={};c=c||{};var g=[],v=0;for(h===void 0&&o&&(h=o.StyleID),h===void 0&&i&&(h=i.StyleID);a[h]!==void 0&&(a[h].nf&&(u=a[h].nf),a[h].Interior&&g.push(a[h].Interior),!!a[h].Parent);)h=a[h].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Yt(e);break;case"String":n.t="s",n.r=Wy(Pt(e)),n.v=e.indexOf("<")>-1?Pt(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(Qt(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=Pt(e):n.v<60&&(n.v=n.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=_E[e],c.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=Wy(t||e));break}if(p9(n,u,c),c.cellFormula!==!1)if(n.Formula){var x=Pt(n.Formula);x.charCodeAt(0)==61&&(x=x.slice(1)),n.f=jo(x,s),delete n.Formula,n.ArrayRange=="RC"?n.F=jo("RC:RC",s):n.ArrayRange&&(n.F=jo(n.ArrayRange,s),l.push([Ft(n.F),n.F]))}else for(v=0;v<l.length;++v)s.r>=l[v][0].s.r&&s.r<=l[v][0].e.r&&s.c>=l[v][0].s.c&&s.c<=l[v][0].e.c&&(n.F=l[v][1]);c.cellStyles&&(g.forEach(function(y){!p.patternType&&y.patternType&&(p.patternType=y.patternType)}),n.s=p),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function x9(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function wh(e,t){var r=t||{};ll();var n=Ll(Dx(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=Ht(n));var s=n.slice(0,1024).toLowerCase(),a=!1;if(s=s.replace(/".*?"/g,""),(s.indexOf(">")&1023)>Math.min(s.indexOf(",")&1023,s.indexOf(";")&1023)){var i=Zt(r);return i.type="string",Qo.to_workbook(n,i)}if(s.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Te){s.indexOf("<"+Te)>=0&&(a=!0)}),a)return rB(n,r);nc={"General Number":"General","General Date":ot[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":ot[15],"Short Date":ot[14],"Long Time":ot[19],"Medium Time":ot[18],"Short Time":ot[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:ot[2],Standard:ot[4],Percent:ot[10],Scientific:ot[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],c,u={},h=[],p=r.dense?[]:{},g="",v={},x={},y=fs('<Data ss:Type="String">'),w=0,k=0,_=0,b={s:{r:2e6,c:2e6},e:{r:0,c:0}},T={},E={},S="",M=0,F=[],z={},Y={},U=0,re=[],B=[],fe={},we=[],J,X=!1,W=[],pe=[],Ee={},I=0,L=0,G={Sheets:[],WBProps:{date1904:!1}},q={};$c.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var ce="";o=$c.exec(n);)switch(o[3]=(ce=o[3]).toLowerCase()){case"data":if(ce=="data"){if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?g9(n.slice(w,o.index),S,y,l[l.length-1][0]=="comment"?fe:v,{c:k,r:_},T,we[k],x,W,r):(S="",y=fs(o[0]),w=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(B.length>0&&(v.c=B),(!r.sheetRows||r.sheetRows>_)&&v.v!==void 0&&(r.dense?(p[_]||(p[_]=[]),p[_][k]=v):p[nr(k)+gr(_)]=v),v.HRef&&(v.l={Target:Pt(v.HRef)},v.HRefScreenTip&&(v.l.Tooltip=v.HRefScreenTip),delete v.HRef,delete v.HRefScreenTip),(v.MergeAcross||v.MergeDown)&&(I=k+(parseInt(v.MergeAcross,10)|0),L=_+(parseInt(v.MergeDown,10)|0),F.push({s:{c:k,r:_},e:{c:I,r:L}})),!r.sheetStubs)v.MergeAcross?k=I+1:++k;else if(v.MergeAcross||v.MergeDown){for(var ye=k;ye<=I;++ye)for(var ge=_;ge<=L;++ge)(ye>k||ge>_)&&(r.dense?(p[ge]||(p[ge]=[]),p[ge][ye]={t:"z"}):p[nr(ye)+gr(ge)]={t:"z"});k=I+1}else++k;else v=d9(o[0]),v.Index&&(k=+v.Index-1),k<b.s.c&&(b.s.c=k),k>b.e.c&&(b.e.c=k),o[0].slice(-2)==="/>"&&++k,B=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(_<b.s.r&&(b.s.r=_),_>b.e.r&&(b.e.r=_),o[0].slice(-2)==="/>"&&(x=fs(o[0]),x.Index&&(_=+x.Index-1)),k=0,++_):(x=fs(o[0]),x.Index&&(_=+x.Index-1),Ee={},(x.AutoFitHeight=="0"||x.Height)&&(Ee.hpx=parseInt(x.Height,10),Ee.hpt=zc(Ee.hpx),pe[_]=Ee),x.Hidden=="1"&&(Ee.hidden=!0,pe[_]=Ee));break;case"worksheet":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));h.push(g),b.s.r<=b.e.r&&b.s.c<=b.e.c&&(p["!ref"]=wt(b),r.sheetRows&&r.sheetRows<=b.e.r&&(p["!fullref"]=p["!ref"],b.e.r=r.sheetRows-1,p["!ref"]=wt(b))),F.length&&(p["!merges"]=F),we.length>0&&(p["!cols"]=we),pe.length>0&&(p["!rows"]=pe),u[g]=p}else b={s:{r:2e6,c:2e6},e:{r:0,c:0}},_=k=0,l.push([o[3],!1]),c=fs(o[0]),g=Pt(c.Name),p=r.dense?[]:{},F=[],W=[],pe=[],q={name:g,Hidden:0},G.Sheets.push(q);break;case"table":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),we=[],X=!1}break;case"style":o[1]==="/"?m9(T,E,r):E=fs(o[0]);break;case"numberformat":E.nf=Pt(fs(o[0]).Format||"General"),nc[E.nf]&&(E.nf=nc[E.nf]);for(var ve=0;ve!=392&&ot[ve]!=E.nf;++ve);if(ve==392){for(ve=57;ve!=392;++ve)if(ot[ve]==null){Xs(E.nf,ve);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(J=fs(o[0]),J.Hidden&&(J.hidden=!0,delete J.Hidden),J.Width&&(J.wpx=parseInt(J.Width,10)),!X&&J.wpx>10){X=!0,en=eT;for(var H=0;H<we.length;++H)we[H]&&Ha(we[H])}X&&Ha(J),we[J.Index-1||we.length]=J;for(var he=0;he<+J.Span;++he)we[we.length]=Zt(J);break;case"namedrange":if(o[1]==="/")break;G.Names||(G.Names=[]);var D=ht(o[0]),Ce={Name:D.Name,Ref:jo(D.RefersTo.slice(1),{r:0,c:0})};G.Sheets.length>0&&(Ce.Sheet=G.Sheets.length-1),G.Names.push(Ce);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?S+=n.slice(M,o.index):M=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;E.Interior=fs(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?$5(z,ce,n.slice(U,o.index)):U=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));x9(fe),B.push(fe)}else l.push([o[3],!1]),c=fs(o[0]),fe={a:c.Author};break;case"autofilter":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var Ae=fs(o[0]);p["!autofilter"]={ref:jo(Ae.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return F_(n,r);var Ve=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Ve=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Ve=!1}break;case"excelworkbook":switch(o[3]){case"date1904":G.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Ve=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:Ve=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(U,o.index)){case"SheetHidden":q.Hidden=1;break;case"SheetVeryHidden":q.Hidden=2;break}else U=o.index+o[0].length;break;case"header":p["!margins"]||Ti(p["!margins"]={},"xlml"),isNaN(+ht(o[0]).Margin)||(p["!margins"].header=+ht(o[0]).Margin);break;case"footer":p["!margins"]||Ti(p["!margins"]={},"xlml"),isNaN(+ht(o[0]).Margin)||(p["!margins"].footer=+ht(o[0]).Margin);break;case"pagemargins":var Pe=ht(o[0]);p["!margins"]||Ti(p["!margins"]={},"xlml"),isNaN(+Pe.Top)||(p["!margins"].top=+Pe.Top),isNaN(+Pe.Left)||(p["!margins"].left=+Pe.Left),isNaN(+Pe.Right)||(p["!margins"].right=+Pe.Right),isNaN(+Pe.Bottom)||(p["!margins"].bottom=+Pe.Bottom);break;case"displayrighttoleft":G.Views||(G.Views=[]),G.Views[0]||(G.Views[0]={}),G.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Ve=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Ve=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Ve=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Ve=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Ve=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Ve=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Ve=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Ve=!1}break;case"smarttags":break;default:Ve=!1;break}if(Ve||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?h9(Y,ce,re,n.slice(U,o.index)):(re=o,U=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var Z={};return!r.bookSheets&&!r.bookProps&&(Z.Sheets=u),Z.SheetNames=h,Z.Workbook=G,Z.SSF=Zt(ot),Z.Props=z,Z.Custprops=Y,Z}function Jp(e,t){switch(a1(t=t||{}),t.type||"base64"){case"base64":return wh(jn(e),t);case"binary":case"buffer":case"file":return wh(e,t);case"array":return wh(Xa(e),t)}}function v9(e,t){var r=[];return e.Props&&r.push(V5(e.Props,t)),e.Custprops&&r.push(H5(e.Props,e.Custprops)),r.join("")}function y9(){return""}function _9(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,s){var a=[];a.push(De("NumberFormat",null,{"ss:Format":$t(ot[n.numFmtId])}));var i={"ss:ID":"s"+(21+s)};r.push(De("Style",a.join(""),i))}),De("Styles",r.join(""))}function CT(e){return De("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+Zx(e.Ref,{r:0,c:0})})}function w9(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var s=t[n];s.Sheet==null&&(s.Name.match(/^_xlfn\./)||r.push(CT(s)))}return De("Names",r.join(""))}function k9(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var s=n.Workbook.Names,a=[],i=0;i<s.length;++i){var o=s[i];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||a.push(CT(o)))}return a.join("")}function b9(e,t,r,n){if(!e)return"";var s=[];if(e["!margins"]&&(s.push("<PageSetup>"),e["!margins"].header&&s.push(De("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&s.push(De("Footer",null,{"x:Margin":e["!margins"].footer})),s.push(De("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),s.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)s.push(De("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<r&&!(n.Workbook.Sheets[a]&&!n.Workbook.Sheets[a].Hidden);++a);a==r&&s.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&s.push("<DisplayRightToLeft/>"),e["!protect"]&&(s.push(Gr("ProtectContents","True")),e["!protect"].objects&&s.push(Gr("ProtectObjects","True")),e["!protect"].scenarios&&s.push(Gr("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?s.push(Gr("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&s.push(Gr("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(i){e["!protect"][i[0]]&&s.push("<"+i[1]+"/>")})),s.length==0?"":De("WorksheetOptions",s.join(""),{xmlns:Pn.x})}function S9(e){return e.map(function(t){var r=WF(t.t||""),n=De("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return De("Comment",n,{"ss:Author":t.a})}).join("")}function E9(e,t,r,n,s,a,i){if(!e||e.v==null&&e.f==null)return"";var o={};if(e.f&&(o["ss:Formula"]="="+$t(Zx(e.f,i))),e.F&&e.F.slice(0,t.length)==t){var l=sr(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==i.r?"":"["+(l.r-i.r)+"]")+"C"+(l.c==i.c?"":"["+(l.c-i.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=$t(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=$t(e.l.Tooltip))),r["!merges"])for(var c=r["!merges"],u=0;u!=c.length;++u)c[u].s.c!=i.c||c[u].s.r!=i.r||(c[u].e.c>c[u].s.c&&(o["ss:MergeAcross"]=c[u].e.c-c[u].s.c),c[u].e.r>c[u].s.r&&(o["ss:MergeDown"]=c[u].e.r-c[u].s.r));var h="",p="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":h="Number",p=String(e.v);break;case"b":h="Boolean",p=e.v?"1":"0";break;case"e":h="Error",p=ca[e.v];break;case"d":h="DateTime",p=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||ot[14]);break;case"s":h="String",p=GF(e.v||"");break}var g=Za(n.cellXfs,e,n);o["ss:StyleID"]="s"+(21+g),o["ss:Index"]=i.c+1;var v=e.v!=null?p:"",x=e.t=="z"?"":'<Data ss:Type="'+h+'">'+v+"</Data>";return(e.c||[]).length>0&&(x+=S9(e.c)),De("Cell",x,o)}function T9(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=Zo(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function C9(e,t,r,n){if(!e["!ref"])return"";var s=Ft(e["!ref"]),a=e["!merges"]||[],i=0,o=[];e["!cols"]&&e["!cols"].forEach(function(y,w){Ha(y);var k=!!y.width,_=b0(w,y),b={"ss:Index":w+1};k&&(b["ss:Width"]=Gc(_.width)),y.hidden&&(b["ss:Hidden"]="1"),o.push(De("Column",null,b))});for(var l=Array.isArray(e),c=s.s.r;c<=s.e.r;++c){for(var u=[T9(c,(e["!rows"]||[])[c])],h=s.s.c;h<=s.e.c;++h){var p=!1;for(i=0;i!=a.length;++i)if(!(a[i].s.c>h)&&!(a[i].s.r>c)&&!(a[i].e.c<h)&&!(a[i].e.r<c)){(a[i].s.c!=h||a[i].s.r!=c)&&(p=!0);break}if(!p){var g={r:c,c:h},v=ft(g),x=l?(e[c]||[])[h]:e[v];u.push(E9(x,v,e,t,r,n,g))}}u.push("</Row>"),u.length>2&&o.push(u.join(""))}return o.join("")}function A9(e,t,r){var n=[],s=r.SheetNames[e],a=r.Sheets[s],i=a?k9(a,t,e,r):"";return i.length>0&&n.push("<Names>"+i+"</Names>"),i=a?C9(a,t,e,r):"",i.length>0&&n.push("<Table>"+i+"</Table>"),n.push(b9(a,t,e,r)),n.join("")}function N9(e,t){t||(t={}),e.SSF||(e.SSF=Zt(ot)),e.SSF&&(ll(),g0(e.SSF),t.revssf=v0(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Za(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(v9(e,t)),r.push(y9()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(De("Worksheet",A9(n,t,e),{"ss:Name":$t(e.SheetNames[n])}));return r[2]=_9(e,t),r[3]=w9(e),xr+De("Workbook",r.join(""),{xmlns:Pn.ss,"xmlns:o":Pn.o,"xmlns:x":Pn.x,"xmlns:ss":Pn.ss,"xmlns:dt":Pn.dt,"xmlns:html":Pn.html})}function I9(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=w5(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=k5(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var R9=[60,1084,2066,2165,2175];function P9(e,t,r,n,s){var a=n,i=[],o=r.slice(r.l,r.l+a);if(s&&s.enc&&s.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:s.enc.insitu(o)}i.push(o),r.l+=a;for(var l=Ks(r,r.l),c=Yp[l],u=0;c!=null&&R9.indexOf(l)>-1;)a=Ks(r,r.l+2),u=r.l+4,l==2066?u+=4:(l==2165||l==2175)&&(u+=12),o=r.slice(u,r.l+4+a),i.push(o),r.l+=4+a,c=Yp[l=Ks(r,r.l)];var h=Mr(i);Hr(h,0);var p=0;h.lens=[];for(var g=0;g<i.length;++g)h.lens.push(p),p+=i[g].length;if(h.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+h.length+" < "+n;return t.f(h,h.length,s)}function Fs(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=ot[n])}catch(a){if(t.WTF)throw a}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||ca[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Uc(e.v):e.w=Fi(e.v):e.w=as(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(a){if(t.WTF)throw a}if(t.cellDates&&n&&e.t=="n"&&ol(ot[n]||String(n))){var s=vi(e.v);s&&(e.t="d",e.v=new Date(s.y,s.m-1,s.d,s.H,s.M,s.S,s.u))}}}function Zu(e,t,r){return{v:e,ixfe:t,t:r}}function F9(e,t){var r={opts:{}},n={},s=t.dense?[]:{},a={},i={},o=null,l=[],c="",u={},h,p="",g,v,x,y,w={},k=[],_,b,T=[],E=[],S={Sheets:[],WBProps:{date1904:!1},Views:[{}]},M={},F=function(ct){return ct<8?bi[ct]:ct<64&&E[ct-8]||bi[ct]},z=function(ct,Xe,gt){var yt=Xe.XF.data;if(!(!yt||!yt.patternType||!gt||!gt.cellStyles)){Xe.s={},Xe.s.patternType=yt.patternType;var Gt;(Gt=Hc(F(yt.icvFore)))&&(Xe.s.fgColor={rgb:Gt}),(Gt=Hc(F(yt.icvBack)))&&(Xe.s.bgColor={rgb:Gt})}},Y=function(ct,Xe,gt){if(!(Ee>1)&&!(gt.sheetRows&&ct.r>=gt.sheetRows)){if(gt.cellStyles&&Xe.XF&&Xe.XF.data&&z(ct,Xe,gt),delete Xe.ixfe,delete Xe.XF,h=ct,p=ft(ct),(!i||!i.s||!i.e)&&(i={s:{r:0,c:0},e:{r:0,c:0}}),ct.r<i.s.r&&(i.s.r=ct.r),ct.c<i.s.c&&(i.s.c=ct.c),ct.r+1>i.e.r&&(i.e.r=ct.r+1),ct.c+1>i.e.c&&(i.e.c=ct.c+1),gt.cellFormula&&Xe.f){for(var yt=0;yt<k.length;++yt)if(!(k[yt][0].s.c>ct.c||k[yt][0].s.r>ct.r)&&!(k[yt][0].e.c<ct.c||k[yt][0].e.r<ct.r)){Xe.F=wt(k[yt][0]),(k[yt][0].s.c!=ct.c||k[yt][0].s.r!=ct.r)&&delete Xe.f,Xe.f&&(Xe.f=""+Qr(k[yt][1],i,ct,W,U));break}}gt.dense?(s[ct.r]||(s[ct.r]=[]),s[ct.r][ct.c]=Xe):s[p]=Xe}},U={enc:!1,sbcch:0,snames:[],sharedf:w,arrayf:k,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(U.password=t.password);var re,B=[],fe=[],we=[],J=[],X=!1,W=[];W.SheetNames=U.snames,W.sharedf=U.sharedf,W.arrayf=U.arrayf,W.names=[],W.XTI=[];var pe=0,Ee=0,I=0,L=[],G=[],q;U.codepage=1200,_s(1200);for(var ce=!1;e.l<e.length-1;){var ye=e.l,ge=e.read_shift(2);if(ge===0&&pe===10)break;var ve=e.l===e.length?0:e.read_shift(2),H=Yp[ge];if(H&&H.f){if(t.bookSheets&&pe===133&&ge!==133)break;if(pe=ge,H.r===2||H.r==12){var he=e.read_shift(2);if(ve-=2,!U.enc&&he!==ge&&((he&255)<<8|he>>8)!==ge)throw new Error("rt mismatch: "+he+"!="+ge);H.r==12&&(e.l+=10,ve-=10)}var D={};if(ge===10?D=H.f(e,ve,U):D=P9(ge,H,e,ve,U),Ee==0&&[9,521,1033,2057].indexOf(pe)===-1)continue;switch(ge){case 34:r.opts.Date1904=S.WBProps.date1904=D;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(U.enc||(e.l=0),U.enc=D,!t.password)throw new Error("File is password-protected");if(D.valid==null)throw new Error("Encryption scheme unsupported");if(!D.valid)throw new Error("Password is incorrect");break;case 92:U.lastuser=D;break;case 66:var Ce=Number(D);switch(Ce){case 21010:Ce=1200;break;case 32768:Ce=1e4;break;case 32769:Ce=1252;break}_s(U.codepage=Ce),ce=!0;break;case 317:U.rrtabid=D;break;case 25:U.winlocked=D;break;case 439:r.opts.RefreshAll=D;break;case 12:r.opts.CalcCount=D;break;case 16:r.opts.CalcDelta=D;break;case 17:r.opts.CalcIter=D;break;case 13:r.opts.CalcMode=D;break;case 14:r.opts.CalcPrecision=D;break;case 95:r.opts.CalcSaveRecalc=D;break;case 15:U.CalcRefMode=D;break;case 2211:r.opts.FullCalc=D;break;case 129:D.fDialog&&(s["!type"]="dialog"),D.fBelow||((s["!outline"]||(s["!outline"]={})).above=!0),D.fRight||((s["!outline"]||(s["!outline"]={})).left=!0);break;case 224:T.push(D);break;case 430:W.push([D]),W[W.length-1].XTI=[];break;case 35:case 547:W[W.length-1].push(D);break;case 24:case 536:q={Name:D.Name,Ref:Qr(D.rgce,i,null,W,U)},D.itab>0&&(q.Sheet=D.itab-1),W.names.push(q),W[0]||(W[0]=[],W[0].XTI=[]),W[W.length-1].push(D),D.Name=="_xlnm._FilterDatabase"&&D.itab>0&&D.rgce&&D.rgce[0]&&D.rgce[0][0]&&D.rgce[0][0][0]=="PtgArea3d"&&(G[D.itab-1]={ref:wt(D.rgce[0][0][1][2])});break;case 22:U.ExternCount=D;break;case 23:W.length==0&&(W[0]=[],W[0].XTI=[]),W[W.length-1].XTI=W[W.length-1].XTI.concat(D),W.XTI=W.XTI.concat(D);break;case 2196:if(U.biff<8)break;q!=null&&(q.Comment=D[1]);break;case 18:s["!protect"]=D;break;case 19:D!==0&&U.WTF&&console.error("Password verifier: "+D);break;case 133:a[D.pos]=D,U.snames.push(D.name);break;case 10:{if(--Ee)break;if(i.e){if(i.e.r>0&&i.e.c>0){if(i.e.r--,i.e.c--,s["!ref"]=wt(i),t.sheetRows&&t.sheetRows<=i.e.r){var Ae=i.e.r;i.e.r=t.sheetRows-1,s["!fullref"]=s["!ref"],s["!ref"]=wt(i),i.e.r=Ae}i.e.r++,i.e.c++}B.length>0&&(s["!merges"]=B),fe.length>0&&(s["!objects"]=fe),we.length>0&&(s["!cols"]=we),J.length>0&&(s["!rows"]=J),S.Sheets.push(M)}c===""?u=s:n[c]=s,s=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(U.biff===8&&(U.biff={9:2,521:3,1033:4}[ge]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[D.BIFFVer]||8),U.biffguess=D.BIFFVer==0,D.BIFFVer==0&&D.dt==4096&&(U.biff=5,ce=!0,_s(U.codepage=28591)),U.biff==8&&D.BIFFVer==0&&D.dt==16&&(U.biff=2),Ee++)break;if(s=t.dense?[]:{},U.biff<8&&!ce&&(ce=!0,_s(U.codepage=t.codepage||1252)),U.biff<5||D.BIFFVer==0&&D.dt==4096){c===""&&(c="Sheet1"),i={s:{r:0,c:0},e:{r:0,c:0}};var Ve={pos:e.l-ve,name:c};a[Ve.pos]=Ve,U.snames.push(c)}else c=(a[ye]||{name:""}).name;D.dt==32&&(s["!type"]="chart"),D.dt==64&&(s["!type"]="macro"),B=[],fe=[],U.arrayf=k=[],we=[],J=[],X=!1,M={Hidden:(a[ye]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:s["!type"]=="chart"&&(t.dense?(s[D.r]||[])[D.c]:s[ft({c:D.c,r:D.r})])&&++D.c,_={ixfe:D.ixfe,XF:T[D.ixfe]||{},v:D.val,t:"n"},I>0&&(_.z=L[_.ixfe>>8&63]),Fs(_,t,r.opts.Date1904),Y({c:D.c,r:D.r},_,t);break;case 5:case 517:_={ixfe:D.ixfe,XF:T[D.ixfe],v:D.val,t:D.t},I>0&&(_.z=L[_.ixfe>>8&63]),Fs(_,t,r.opts.Date1904),Y({c:D.c,r:D.r},_,t);break;case 638:_={ixfe:D.ixfe,XF:T[D.ixfe],v:D.rknum,t:"n"},I>0&&(_.z=L[_.ixfe>>8&63]),Fs(_,t,r.opts.Date1904),Y({c:D.c,r:D.r},_,t);break;case 189:for(var Pe=D.c;Pe<=D.C;++Pe){var Z=D.rkrec[Pe-D.c][0];_={ixfe:Z,XF:T[Z],v:D.rkrec[Pe-D.c][1],t:"n"},I>0&&(_.z=L[_.ixfe>>8&63]),Fs(_,t,r.opts.Date1904),Y({c:Pe,r:D.r},_,t)}break;case 6:case 518:case 1030:{if(D.val=="String"){o=D;break}if(_=Zu(D.val,D.cell.ixfe,D.tt),_.XF=T[_.ixfe],t.cellFormula){var Te=D.formula;if(Te&&Te[0]&&Te[0][0]&&Te[0][0][0]=="PtgExp"){var He=Te[0][0][1][0],qe=Te[0][0][1][1],je=ft({r:He,c:qe});w[je]?_.f=""+Qr(D.formula,i,D.cell,W,U):_.F=((t.dense?(s[He]||[])[qe]:s[je])||{}).F}else _.f=""+Qr(D.formula,i,D.cell,W,U)}I>0&&(_.z=L[_.ixfe>>8&63]),Fs(_,t,r.opts.Date1904),Y(D.cell,_,t),o=D}break;case 7:case 519:if(o)o.val=D,_=Zu(D,o.cell.ixfe,"s"),_.XF=T[_.ixfe],t.cellFormula&&(_.f=""+Qr(o.formula,i,o.cell,W,U)),I>0&&(_.z=L[_.ixfe>>8&63]),Fs(_,t,r.opts.Date1904),Y(o.cell,_,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{k.push(D);var At=ft(D[0].s);if(g=t.dense?(s[D[0].s.r]||[])[D[0].s.c]:s[At],t.cellFormula&&g){if(!o||!At||!g)break;g.f=""+Qr(D[1],i,D[0],W,U),g.F=wt(D[0])}}break;case 1212:{if(!t.cellFormula)break;if(p){if(!o)break;w[ft(o.cell)]=D[0],g=t.dense?(s[o.cell.r]||[])[o.cell.c]:s[ft(o.cell)],(g||{}).f=""+Qr(D[0],i,h,W,U)}}break;case 253:_=Zu(l[D.isst].t,D.ixfe,"s"),l[D.isst].h&&(_.h=l[D.isst].h),_.XF=T[_.ixfe],I>0&&(_.z=L[_.ixfe>>8&63]),Fs(_,t,r.opts.Date1904),Y({c:D.c,r:D.r},_,t);break;case 513:t.sheetStubs&&(_={ixfe:D.ixfe,XF:T[D.ixfe],t:"z"},I>0&&(_.z=L[_.ixfe>>8&63]),Fs(_,t,r.opts.Date1904),Y({c:D.c,r:D.r},_,t));break;case 190:if(t.sheetStubs)for(var Nt=D.c;Nt<=D.C;++Nt){var Be=D.ixfe[Nt-D.c];_={ixfe:Be,XF:T[Be],t:"z"},I>0&&(_.z=L[_.ixfe>>8&63]),Fs(_,t,r.opts.Date1904),Y({c:Nt,r:D.r},_,t)}break;case 214:case 516:case 4:_=Zu(D.val,D.ixfe,"s"),_.XF=T[_.ixfe],I>0&&(_.z=L[_.ixfe>>8&63]),Fs(_,t,r.opts.Date1904),Y({c:D.c,r:D.r},_,t);break;case 0:case 512:Ee===1&&(i=D);break;case 252:l=D;break;case 1054:if(U.biff==4){L[I++]=D[1];for(var _e=0;_e<I+163&&ot[_e]!=D[1];++_e);_e>=163&&Xs(D[1],I+163)}else Xs(D[1],D[0]);break;case 30:{L[I++]=D;for(var mt=0;mt<I+163&&ot[mt]!=D;++mt);mt>=163&&Xs(D,I+163)}break;case 229:B=B.concat(D);break;case 93:fe[D.cmo[0]]=U.lastobj=D;break;case 438:U.lastobj.TxO=D;break;case 127:U.lastobj.ImData=D;break;case 440:for(y=D[0].s.r;y<=D[0].e.r;++y)for(x=D[0].s.c;x<=D[0].e.c;++x)g=t.dense?(s[y]||[])[x]:s[ft({c:x,r:y})],g&&(g.l=D[1]);break;case 2048:for(y=D[0].s.r;y<=D[0].e.r;++y)for(x=D[0].s.c;x<=D[0].e.c;++x)g=t.dense?(s[y]||[])[x]:s[ft({c:x,r:y})],g&&g.l&&(g.l.Tooltip=D[1]);break;case 28:{if(U.biff<=5&&U.biff>=2)break;g=t.dense?(s[D[0].r]||[])[D[0].c]:s[ft(D[0])];var er=fe[D[2]];g||(t.dense?(s[D[0].r]||(s[D[0].r]=[]),g=s[D[0].r][D[0].c]={t:"z"}):g=s[ft(D[0])]={t:"z"},i.e.r=Math.max(i.e.r,D[0].r),i.s.r=Math.min(i.s.r,D[0].r),i.e.c=Math.max(i.e.c,D[0].c),i.s.c=Math.min(i.s.c,D[0].c)),g.c||(g.c=[]),v={a:D[1],t:er.TxO.t},g.c.push(v)}break;case 2173:_D(T[D.ixfe],D.ext);break;case 125:{if(!U.cellStyles)break;for(;D.e>=D.s;)we[D.e--]={width:D.w/256,level:D.level||0,hidden:!!(D.flags&1)},X||(X=!0,Yx(D.w/256)),Ha(we[D.e+1])}break;case 520:{var Lt={};D.level!=null&&(J[D.r]=Lt,Lt.level=D.level),D.hidden&&(J[D.r]=Lt,Lt.hidden=!0),D.hpt&&(J[D.r]=Lt,Lt.hpt=D.hpt,Lt.hpx=Zo(D.hpt))}break;case 38:case 39:case 40:case 41:s["!margins"]||Ti(s["!margins"]={}),s["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ge]]=D;break;case 161:s["!margins"]||Ti(s["!margins"]={}),s["!margins"].header=D.header,s["!margins"].footer=D.footer;break;case 574:D.RTL&&(S.Views[0].RTL=!0);break;case 146:E=D;break;case 2198:re=D;break;case 140:b=D;break;case 442:c?M.CodeName=D||M.name:S.WBProps.CodeName=D||"ThisWorkbook";break}}else H||console.error("Missing Info for XLS Record 0x"+ge.toString(16)),e.l+=ve}return r.SheetNames=fr(a).sort(function(Ir,ct){return Number(Ir)-Number(ct)}).map(function(Ir){return a[Ir].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&u["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=u)):r.Preamble=u,r.Sheets&&G.forEach(function(Ir,ct){r.Sheets[r.SheetNames[ct]]["!autofilter"]=Ir}),r.Strings=l,r.SSF=Zt(ot),U.enc&&(r.Encryption=U.enc),re&&(r.Themes=re),r.Metadata={},b!==void 0&&(r.Metadata.Country=b),W.names.length>0&&(S.Names=W.names),r.Workbook=S,r}var sc={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function M9(e,t,r){var n=nt.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var s=c_(n,Hp,sc.DSI);for(var a in s)t[a]=s[a]}catch(c){if(r.WTF)throw c}var i=nt.find(e,"/!SummaryInformation");if(i&&i.size>0)try{var o=c_(i,Gp,sc.SI);for(var l in o)t[l]==null&&(t[l]=o[l])}catch(c){if(r.WTF)throw c}t.HeadingPairs&&t.TitlesOfParts&&(TE(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function D9(e,t){var r=[],n=[],s=[],a=0,i,o=By(Hp,"n"),l=By(Gp,"n");if(e.Props)for(i=fr(e.Props),a=0;a<i.length;++a)(Object.prototype.hasOwnProperty.call(o,i[a])?r:Object.prototype.hasOwnProperty.call(l,i[a])?n:s).push([i[a],e.Props[i[a]]]);if(e.Custprops)for(i=fr(e.Custprops),a=0;a<i.length;++a)Object.prototype.hasOwnProperty.call(e.Props||{},i[a])||(Object.prototype.hasOwnProperty.call(o,i[a])?r:Object.prototype.hasOwnProperty.call(l,i[a])?n:s).push([i[a],e.Custprops[i[a]]]);var c=[];for(a=0;a<s.length;++a)FE.indexOf(s[a][0])>-1||EE.indexOf(s[a][0])>-1||s[a][1]!=null&&c.push(s[a]);n.length&&nt.utils.cfb_add(t,"/SummaryInformation",u_(n,sc.SI,l,Gp)),(r.length||c.length)&&nt.utils.cfb_add(t,"/DocumentSummaryInformation",u_(r,sc.DSI,o,Hp,c.length?c:null,sc.UDI))}function AT(e,t){t||(t={}),a1(t),Tx(),t.codepage&&Ex(t.codepage);var r,n;if(e.FullPaths){if(nt.find(e,"/encryption"))throw new Error("File is password-protected");r=nt.find(e,"!CompObj"),n=nt.find(e,"/Workbook")||nt.find(e,"/Book")}else{switch(t.type){case"base64":e=Dn(jn(e));break;case"binary":e=Dn(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Hr(e,0),n={content:e}}var s,a;if(r&&I9(r),t.bookProps&&!t.bookSheets)s={};else{var i=Et?"buffer":"array";if(n&&n.content)s=F9(n.content,t);else if((a=nt.find(e,"PerfectOffice_MAIN"))&&a.content)s=Ei.to_workbook(a.content,(t.type=i,t));else if((a=nt.find(e,"NativeContent_MAIN"))&&a.content)s=Ei.to_workbook(a.content,(t.type=i,t));else throw(a=nt.find(e,"MN0"))&&a.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&nt.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(s.vbaraw=KD(e))}var o={};return e.FullPaths&&M9(e,o,t),s.Props=s.Custprops=o,t.bookFiles&&(s.cfb=e),s}function L9(e,t){var r=t||{},n=nt.utils.cfb_new({root:"R"}),s="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":s="/Workbook",r.biff=8;break;case"biff5":s="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return nt.utils.cfb_add(n,s,NT(e,r)),r.biff==8&&(e.Props||e.Custprops)&&D9(e,n),r.biff==8&&e.vbaraw&&JD(n,nt.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var qc={0:{f:i7},1:{f:p7},2:{f:F7},3:{f:k7},4:{f:v7},5:{f:I7},6:{f:U7},7:{f:T7},8:{f:W7},9:{f:G7},10:{f:V7},11:{f:H7},12:{f:g7},13:{f:D7},14:{f:S7},15:{f:_7},16:{f:_T},17:{f:j7},18:{f:A7},19:{f:jx},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:jU},40:{},42:{},43:{f:U8},44:{f:L8},45:{f:$8},46:{f:H8},47:{f:V8},48:{},49:{f:c5},50:{},51:{f:bD},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:GE},62:{f:O7},63:{f:PD},64:{f:oU},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:on,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:nU},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:f7},148:{f:c7,p:16},151:{f:X7},152:{},153:{f:OU},154:{},155:{},156:{f:DU},157:{},158:{},159:{T:1,f:Z6},160:{T:-1},161:{T:1,f:zi},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:z7},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:wD},336:{T:-1},337:{f:TD,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Vp},357:{},358:{},359:{},360:{T:1},361:{},362:{f:HE},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Q7},427:{f:Z7},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:tU},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:d7},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:J7},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Vp},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:HD},633:{T:1},634:{T:-1},635:{T:1,f:$D},636:{T:-1},637:{f:h5},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:SU},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:lU},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},Yp={6:{f:yh},10:{f:ga},12:{f:wr},13:{f:wr},14:{f:pr},15:{f:pr},16:{f:rn},17:{f:pr},18:{f:pr},19:{f:wr},20:{f:g_},21:{f:g_},23:{f:HE},24:{f:v_},25:{f:pr},26:{},27:{},28:{f:l6},29:{},34:{f:pr},35:{f:x_},38:{f:rn},39:{f:rn},40:{f:rn},41:{f:rn},42:{f:pr},43:{f:pr},47:{f:_8},49:{f:DM},51:{f:wr},60:{},61:{f:IM},64:{f:pr},65:{f:MM},66:{f:wr},77:{},80:{},81:{},82:{},85:{f:wr},89:{},90:{},91:{},92:{f:yM},93:{f:d6},94:{},95:{f:pr},96:{},97:{},99:{f:pr},125:{f:GE},128:{f:YM},129:{f:wM},130:{f:wr},131:{f:pr},132:{f:pr},133:{f:kM},134:{},140:{f:y6},141:{f:wr},144:{},146:{f:k6},151:{},152:{},153:{},154:{},155:{},156:{f:wr},157:{},158:{},160:{f:N6},161:{f:E6},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:zM},190:{f:qM},193:{f:ga},197:{},198:{},199:{},200:{},201:{},202:{f:pr},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:wr},220:{},221:{f:pr},222:{},224:{f:JM},225:{f:vM},226:{f:ga},227:{},229:{f:c6},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:SM},253:{f:OM},255:{f:TM},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:ME},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:pr},353:{f:ga},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:t6},431:{f:pr},432:{},433:{},434:{},437:{},438:{f:p6},439:{f:pr},440:{f:m6},441:{},442:{f:pu},443:{},444:{f:wr},445:{},446:{},448:{f:ga},449:{f:NM,r:2},450:{f:ga},512:{f:h_},513:{f:A6},515:{f:ZM},516:{f:BM},517:{f:m_},519:{f:I6},520:{f:CM},523:{},545:{f:y_},549:{f:f_},566:{},574:{f:PM},638:{f:WM},659:{},1048:{},1054:{f:$M},1084:{},1212:{f:a6},2048:{f:x6},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Yu},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:ga},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:b6,r:12},2173:{f:yD,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:pr,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:s6,r:12},2197:{},2198:{f:hD,r:12},2199:{},2200:{},2201:{},2202:{f:i6,r:12},2203:{f:ga},2204:{},2205:{},2206:{},2207:{},2211:{f:AM},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:wr},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:T6},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:w6},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:h_},1:{},2:{f:D6},3:{f:F6},4:{f:P6},5:{f:m_},7:{f:O6},8:{},9:{f:Yu},11:{},22:{f:wr},30:{f:HM},31:{},32:{},33:{f:y_},36:{},37:{f:f_},50:{f:U6},62:{},52:{},67:{},68:{f:wr},69:{},86:{},126:{},127:{f:R6},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:B6},223:{},234:{},354:{},421:{},518:{f:yh},521:{f:Yu},536:{f:v_},547:{f:x_},561:{},579:{},1030:{f:yh},1033:{f:Yu},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Oe(e,t,r,n){var s=t;if(!isNaN(s)){var a=n||(r||[]).length||0,i=e.next(4);i.write_shift(2,s),i.write_shift(2,a),a>0&&Ox(r)&&e.push(r)}}function O9(e,t,r,n){var s=(r||[]).length||0;if(s<=8224)return Oe(e,t,r,s);var a=t;if(!isNaN(a)){for(var i=r.parts||[],o=0,l=0,c=0;c+(i[o]||8224)<=8224;)c+=i[o]||8224,o++;var u=e.next(4);for(u.write_shift(2,a),u.write_shift(2,c),e.push(r.slice(l,l+c)),l+=c;l<s;){for(u=e.next(4),u.write_shift(2,60),c=0;c+(i[o]||8224)<=8224;)c+=i[o]||8224,o++;u.write_shift(2,c),e.push(r.slice(l,l+c)),l+=c}}}function vu(e,t,r){return e||(e=me(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function U9(e,t,r,n){var s=me(9);return vu(s,e,t),DE(r,n||"b",s),s}function B9(e,t,r){var n=me(8+2*r.length);return vu(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function j9(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var s=t.t=="d"?Nr(Qt(t.v)):t.v;s==(s|0)&&s>=0&&s<65536?Oe(e,2,L6(r,n,s)):Oe(e,3,M6(r,n,s));return;case"b":case"e":Oe(e,5,U9(r,n,t.v,t.t));return;case"s":case"str":Oe(e,4,B9(r,n,(t.v||"").slice(0,255)));return}Oe(e,1,vu(null,r,n))}function $9(e,t,r,n){var s=Array.isArray(t),a=Ft(t["!ref"]||"A1"),i,o="",l=[];if(a.e.c>255||a.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),i=wt(a)}for(var c=a.s.r;c<=a.e.r;++c){o=gr(c);for(var u=a.s.c;u<=a.e.c;++u){c===a.s.r&&(l[u]=nr(u)),i=l[u]+o;var h=s?(t[c]||[])[u]:t[i];h&&j9(e,h,c,u)}}}function V9(e,t){for(var r=t||{},n=Cn(),s=0,a=0;a<e.SheetNames.length;++a)e.SheetNames[a]==r.sheet&&(s=a);if(s==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Oe(n,r.biff==4?1033:r.biff==3?521:9,qx(e,16,r)),$9(n,e.Sheets[e.SheetNames[s]],s,r),Oe(n,10),n.end()}function H9(e,t,r){Oe(e,49,LM({sz:12,name:"Arial"},r))}function G9(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)t[s]!=null&&Oe(e,1054,VM(s,t[s],r))})}function W9(e,t){var r=me(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Oe(e,2151,r),r=me(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),jE(Ft(t["!ref"]||"A1"),r),r.write_shift(4,4),Oe(e,2152,r)}function z9(e,t){for(var r=0;r<16;++r)Oe(e,224,p_({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){Oe(e,224,p_(n,0,t))})}function q9(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];Oe(e,440,g6(n)),n[1].Tooltip&&Oe(e,2048,v6(n))}delete t["!links"]}function K9(e,t){if(t){var r=0;t.forEach(function(n,s){++r<=256&&n&&Oe(e,125,S6(b0(s,n),s))})}}function J9(e,t,r,n,s){var a=16+Za(s.cellXfs,t,s);if(t.v==null&&!t.bf){Oe(e,513,Oi(r,n,a));return}if(t.bf)Oe(e,6,wO(t,r,n,s,a));else switch(t.t){case"d":case"n":var i=t.t=="d"?Nr(Qt(t.v)):t.v;Oe(e,515,e6(r,n,i,a));break;case"b":case"e":Oe(e,517,QM(r,n,t.v,a,s,t.t));break;case"s":case"str":if(s.bookSST){var o=t1(s.Strings,t.v,s.revStrings);Oe(e,253,UM(r,n,o,a))}else Oe(e,516,jM(r,n,(t.v||"").slice(0,255),a,s));break;default:Oe(e,513,Oi(r,n,a))}}function Y9(e,t,r){var n=Cn(),s=r.SheetNames[e],a=r.Sheets[s]||{},i=(r||{}).Workbook||{},o=(i.Sheets||[])[e]||{},l=Array.isArray(a),c=t.biff==8,u,h="",p=[],g=Ft(a["!ref"]||"A1"),v=c?65536:16384;if(g.e.c>255||g.e.r>=v){if(t.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");g.e.c=Math.min(g.e.c,255),g.e.r=Math.min(g.e.c,v-1)}Oe(n,2057,qx(r,16,t)),Oe(n,13,Jn(1)),Oe(n,12,Jn(100)),Oe(n,15,fn(!0)),Oe(n,17,fn(!1)),Oe(n,16,Di(.001)),Oe(n,95,fn(!0)),Oe(n,42,fn(!1)),Oe(n,43,fn(!1)),Oe(n,130,Jn(1)),Oe(n,128,XM()),Oe(n,131,fn(!1)),Oe(n,132,fn(!1)),c&&K9(n,a["!cols"]),Oe(n,512,GM(g,t)),c&&(a["!links"]=[]);for(var x=g.s.r;x<=g.e.r;++x){h=gr(x);for(var y=g.s.c;y<=g.e.c;++y){x===g.s.r&&(p[y]=nr(y)),u=p[y]+h;var w=l?(a[x]||[])[y]:a[u];w&&(J9(n,w,x,y,t),c&&w.l&&a["!links"].push([u,w.l]))}}var k=o.CodeName||o.name||s;return c&&Oe(n,574,FM((i.Views||[])[0])),c&&(a["!merges"]||[]).length&&Oe(n,229,u6(a["!merges"])),c&&q9(n,a),Oe(n,442,LE(k)),c&&W9(n,a),Oe(n,10),n.end()}function X9(e,t,r){var n=Cn(),s=(e||{}).Workbook||{},a=s.Sheets||[],i=s.WBProps||{},o=r.biff==8,l=r.biff==5;if(Oe(n,2057,qx(e,5,r)),r.bookType=="xla"&&Oe(n,135),Oe(n,225,o?Jn(1200):null),Oe(n,193,Q5(2)),l&&Oe(n,191),l&&Oe(n,192),Oe(n,226),Oe(n,92,_M("SheetJS",r)),Oe(n,66,Jn(o?1200:1252)),o&&Oe(n,353,Jn(0)),o&&Oe(n,448),Oe(n,317,C6(e.SheetNames.length)),o&&e.vbaraw&&Oe(n,211),o&&e.vbaraw){var c=i.CodeName||"ThisWorkbook";Oe(n,442,LE(c))}Oe(n,156,Jn(17)),Oe(n,25,fn(!1)),Oe(n,18,fn(!1)),Oe(n,19,Jn(0)),o&&Oe(n,431,fn(!1)),o&&Oe(n,444,Jn(0)),Oe(n,61,RM()),Oe(n,64,fn(!1)),Oe(n,141,Jn(0)),Oe(n,34,fn(NU(e)=="true")),Oe(n,14,fn(!0)),o&&Oe(n,439,fn(!1)),Oe(n,218,Jn(0)),H9(n,e,r),G9(n,e.SSF,r),z9(n,r),o&&Oe(n,352,fn(!1));var u=n.end(),h=Cn();o&&Oe(h,140,_6()),o&&r.Strings&&O9(h,252,EM(r.Strings)),Oe(h,10);var p=h.end(),g=Cn(),v=0,x=0;for(x=0;x<e.SheetNames.length;++x)v+=(o?12:11)+(o?2:1)*e.SheetNames[x].length;var y=u.length+v+p.length;for(x=0;x<e.SheetNames.length;++x){var w=a[x]||{};Oe(g,133,bM({pos:y,hs:w.Hidden||0,dt:0,name:e.SheetNames[x]},r)),y+=t[x].length}var k=g.end();if(v!=k.length)throw new Error("BS8 "+v+" != "+k.length);var _=[];return u.length&&_.push(u),k.length&&_.push(k),p.length&&_.push(p),Mr(_)}function Q9(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=Zt(ot)),e&&e.SSF&&(ll(),g0(e.SSF),r.revssf=v0(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,i1(r),r.cellXfs=[],Za(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var s=0;s<e.SheetNames.length;++s)n[n.length]=Y9(s,r,e);return n.unshift(X9(e,n,r)),Mr(n)}function NT(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var s=An(n["!ref"]);s.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var a=t||{};switch(a.biff||2){case 8:case 5:return Q9(e,t);case 4:case 3:case 2:return V9(e,t)}throw new Error("invalid type "+a.bookType+" for BIFF")}function N_(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var s=e.match(/<table/i);if(!s)throw new Error("Invalid HTML: could not find <table>");var a=e.match(/<\/table/i),i=s.index,o=a&&a.index||e.length,l=LF(e.slice(i,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,h=0,p=0,g={s:{r:1e7,c:1e7},e:{r:0,c:0}},v=[];for(i=0;i<l.length;++i){var x=l[i].trim(),y=x.slice(0,3).toLowerCase();if(y=="<tr"){if(++c,r.sheetRows&&r.sheetRows<=c){--c;break}u=0;continue}if(!(y!="<td"&&y!="<th")){var w=x.split(/<\/t[dh]>/i);for(o=0;o<w.length;++o){var k=w[o].trim();if(k.match(/<t[dh]/i)){for(var _=k,b=0;_.charAt(0)=="<"&&(b=_.indexOf(">"))>-1;)_=_.slice(b+1);for(var T=0;T<v.length;++T){var E=v[T];E.s.c==u&&E.s.r<c&&c<=E.e.r&&(u=E.e.c+1,T=-1)}var S=ht(k.slice(0,k.indexOf(">")));p=S.colspan?+S.colspan:1,((h=+S.rowspan)>1||p>1)&&v.push({s:{r:c,c:u},e:{r:c+(h||1)-1,c:u+p-1}});var M=S.t||S["data-t"]||"";if(!_.length){u+=p;continue}if(_=ZS(_),g.s.r>c&&(g.s.r=c),g.e.r<c&&(g.e.r=c),g.s.c>u&&(g.s.c=u),g.e.c<u&&(g.e.c=u),!_.length){u+=p;continue}var F={t:"s",v:_};r.raw||!_.trim().length||M=="s"||(_==="TRUE"?F={t:"b",v:!0}:_==="FALSE"?F={t:"b",v:!1}:isNaN(Es(_))?isNaN(Xo(_).getDate())||(F={t:"d",v:Qt(_)},r.cellDates||(F={t:"n",v:Nr(F.v)}),F.z=r.dateNF||ot[14]):F={t:"n",v:Es(_)}),r.dense?(n[c]||(n[c]=[]),n[c][u]=F):n[ft({r:c,c:u})]=F,u+=p}}}}return n["!ref"]=wt(g),v.length&&(n["!merges"]=v),n}function Z9(e,t,r,n){for(var s=e["!merges"]||[],a=[],i=t.s.c;i<=t.e.c;++i){for(var o=0,l=0,c=0;c<s.length;++c)if(!(s[c].s.r>r||s[c].s.c>i)&&!(s[c].e.r<r||s[c].e.c<i)){if(s[c].s.r<r||s[c].s.c<i){o=-1;break}o=s[c].e.r-s[c].s.r+1,l=s[c].e.c-s[c].s.c+1;break}if(!(o<0)){var u=ft({r,c:i}),h=n.dense?(e[r]||[])[i]:e[u],p=h&&h.v!=null&&(h.h||Mx(h.w||(na(h),h.w)||""))||"",g={};o>1&&(g.rowspan=o),l>1&&(g.colspan=l),n.editable?p='<span contenteditable="true">'+p+"</span>":h&&(g["data-t"]=h&&h.t||"z",h.v!=null&&(g["data-v"]=h.v),h.z!=null&&(g["data-z"]=h.z),h.l&&(h.l.Target||"#").charAt(0)!="#"&&(p='<a href="'+h.l.Target+'">'+p+"</a>")),g.id=(n.id||"sjs")+"-"+u,a.push(De("td",p,g))}}var v="<tr>";return v+a.join("")+"</tr>"}var eB='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',tB="</body></html>";function rB(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Qa(N_(r[0],t),t);var n=c1();return r.forEach(function(s,a){u1(n,N_(s,t),"Sheet"+(a+1))}),n}function nB(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function IT(e,t){var r=t||{},n=r.header!=null?r.header:eB,s=r.footer!=null?r.footer:tB,a=[n],i=An(e["!ref"]);r.dense=Array.isArray(e),a.push(nB(e,i,r));for(var o=i.s.r;o<=i.e.r;++o)a.push(Z9(e,i,o,r));return a.push("</table>"+s),a.join("")}function RT(e,t,r){var n=r||{},s=0,a=0;if(n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var i=typeof n.origin=="string"?sr(n.origin):n.origin;s=i.r,a=i.c}var o=t.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:s,c:a}};if(e["!ref"]){var u=An(e["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),s==-1&&(c.e.r=s=u.e.r+1)}var h=[],p=0,g=e["!rows"]||(e["!rows"]=[]),v=0,x=0,y=0,w=0,k=0,_=0;for(e["!cols"]||(e["!cols"]=[]);v<o.length&&x<l;++v){var b=o[v];if(I_(b)){if(n.display)continue;g[x]={hidden:!0}}var T=b.children;for(y=w=0;y<T.length;++y){var E=T[y];if(!(n.display&&I_(E))){var S=E.hasAttribute("data-v")?E.getAttribute("data-v"):E.hasAttribute("v")?E.getAttribute("v"):ZS(E.innerHTML),M=E.getAttribute("data-z")||E.getAttribute("z");for(p=0;p<h.length;++p){var F=h[p];F.s.c==w+a&&F.s.r<x+s&&x+s<=F.e.r&&(w=F.e.c+1-a,p=-1)}_=+E.getAttribute("colspan")||1,((k=+E.getAttribute("rowspan")||1)>1||_>1)&&h.push({s:{r:x+s,c:w+a},e:{r:x+s+(k||1)-1,c:w+a+(_||1)-1}});var z={t:"s",v:S},Y=E.getAttribute("data-t")||E.getAttribute("t")||"";S!=null&&(S.length==0?z.t=Y||"z":n.raw||S.trim().length==0||Y=="s"||(S==="TRUE"?z={t:"b",v:!0}:S==="FALSE"?z={t:"b",v:!1}:isNaN(Es(S))?isNaN(Xo(S).getDate())||(z={t:"d",v:Qt(S)},n.cellDates||(z={t:"n",v:Nr(z.v)}),z.z=n.dateNF||ot[14]):z={t:"n",v:Es(S)})),z.z===void 0&&M!=null&&(z.z=M);var U="",re=E.getElementsByTagName("A");if(re&&re.length)for(var B=0;B<re.length&&!(re[B].hasAttribute("href")&&(U=re[B].getAttribute("href"),U.charAt(0)!="#"));++B);U&&U.charAt(0)!="#"&&(z.l={Target:U}),n.dense?(e[x+s]||(e[x+s]=[]),e[x+s][w+a]=z):e[ft({c:w+a,r:x+s})]=z,c.e.c<w+a&&(c.e.c=w+a),w+=_}}++x}return h.length&&(e["!merges"]=(e["!merges"]||[]).concat(h)),c.e.r=Math.max(c.e.r,x-1+s),e["!ref"]=wt(c),x>=l&&(e["!fullref"]=wt((c.e.r=o.length-v+x-1+s,c))),e}function PT(e,t){var r=t||{},n=r.dense?[]:{};return RT(n,e,t)}function sB(e,t){return Qa(PT(e,t),t)}function I_(e){var t="",r=aB(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function aB(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function iB(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,s){return Array(parseInt(s,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Pt(t.replace(/<[^>]*>/g,""));return[r]}var R_={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function FT(e,t){var r=t||{},n=Dx(e),s=[],a,i,o={name:""},l="",c=0,u,h,p={},g=[],v=r.dense?[]:{},x,y,w={value:""},k="",_=0,b=[],T=-1,E=-1,S={s:{r:1e6,c:1e7},e:{r:0,c:0}},M=0,F={},z=[],Y={},U=0,re=0,B=[],fe=1,we=1,J=[],X={Names:[]},W={},pe=["",""],Ee=[],I={},L="",G=0,q=!1,ce=!1,ye=0;for($c.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");x=$c.exec(n);)switch(x[3]=x[3].replace(/_.*$/,"")){case"table":case"":x[1]==="/"?(S.e.c>=S.s.c&&S.e.r>=S.s.r?v["!ref"]=wt(S):v["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=S.e.r&&(v["!fullref"]=v["!ref"],S.e.r=r.sheetRows-1,v["!ref"]=wt(S)),z.length&&(v["!merges"]=z),B.length&&(v["!rows"]=B),u.name=u.||u.name,typeof JSON<"u"&&JSON.stringify(u),g.push(u.name),p[u.name]=v,ce=!1):x[0].charAt(x[0].length-2)!=="/"&&(u=ht(x[0],!1),T=E=-1,S.s.r=S.s.c=1e7,S.e.r=S.e.c=0,v=r.dense?[]:{},z=[],B=[],ce=!0);break;case"table-row-group":x[1]==="/"?--M:++M;break;case"table-row":case"":if(x[1]==="/"){T+=fe,fe=1;break}if(h=ht(x[0],!1),h.?T=h.-1:T==-1&&(T=0),fe=+h["number-rows-repeated"]||1,fe<10)for(ye=0;ye<fe;++ye)M>0&&(B[T+ye]={level:M});E=-1;break;case"covered-table-cell":x[1]!=="/"&&++E,r.sheetStubs&&(r.dense?(v[T]||(v[T]=[]),v[T][E]={t:"z"}):v[ft({r:T,c:E})]={t:"z"}),k="",b=[];break;case"table-cell":case"":if(x[0].charAt(x[0].length-2)==="/")++E,w=ht(x[0],!1),we=parseInt(w["number-columns-repeated"]||"1",10),y={t:"z",v:null},w.formula&&r.cellFormula!=!1&&(y.f=T_(Pt(w.formula))),(w.||w["value-type"])=="string"&&(y.t="s",y.v=Pt(w["string-value"]||""),r.dense?(v[T]||(v[T]=[]),v[T][E]=y):v[ft({r:T,c:E})]=y),E+=we-1;else if(x[1]!=="/"){++E,k="",_=0,b=[],we=1;var ge=fe?T+fe-1:T;if(E>S.e.c&&(S.e.c=E),E<S.s.c&&(S.s.c=E),T<S.s.r&&(S.s.r=T),ge>S.e.r&&(S.e.r=ge),w=ht(x[0],!1),Ee=[],I={},y={t:w.||w["value-type"],v:null},r.cellFormula)if(w.formula&&(w.formula=Pt(w.formula)),w["number-matrix-columns-spanned"]&&w["number-matrix-rows-spanned"]&&(U=parseInt(w["number-matrix-rows-spanned"],10)||0,re=parseInt(w["number-matrix-columns-spanned"],10)||0,Y={s:{r:T,c:E},e:{r:T+U-1,c:E+re-1}},y.F=wt(Y),J.push([Y,y.F])),w.formula)y.f=T_(w.formula);else for(ye=0;ye<J.length;++ye)T>=J[ye][0].s.r&&T<=J[ye][0].e.r&&E>=J[ye][0].s.c&&E<=J[ye][0].e.c&&(y.F=J[ye][1]);switch((w["number-columns-spanned"]||w["number-rows-spanned"])&&(U=parseInt(w["number-rows-spanned"],10)||0,re=parseInt(w["number-columns-spanned"],10)||0,Y={s:{r:T,c:E},e:{r:T+U-1,c:E+re-1}},z.push(Y)),w["number-columns-repeated"]&&(we=parseInt(w["number-columns-repeated"],10)),y.t){case"boolean":y.t="b",y.v=Yt(w["boolean-value"]);break;case"float":y.t="n",y.v=parseFloat(w.value);break;case"percentage":y.t="n",y.v=parseFloat(w.value);break;case"currency":y.t="n",y.v=parseFloat(w.value);break;case"date":y.t="d",y.v=Qt(w["date-value"]),r.cellDates||(y.t="n",y.v=Nr(y.v)),y.z="m/d/yy";break;case"time":y.t="n",y.v=FF(w["time-value"])/86400,r.cellDates&&(y.t="d",y.v=y0(y.v)),y.z="HH:MM:SS";break;case"number":y.t="n",y.v=parseFloat(w.);break;default:if(y.t==="string"||y.t==="text"||!y.t)y.t="s",w["string-value"]!=null&&(k=Pt(w["string-value"]),b=[]);else throw new Error("Unsupported value type "+y.t)}}else{if(q=!1,y.t==="s"&&(y.v=k||"",b.length&&(y.R=b),q=_==0),W.Target&&(y.l=W),Ee.length>0&&(y.c=Ee,Ee=[]),k&&r.cellText!==!1&&(y.w=k),q&&(y.t="z",delete y.v),(!q||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=T))for(var ve=0;ve<fe;++ve){if(we=parseInt(w["number-columns-repeated"]||"1",10),r.dense)for(v[T+ve]||(v[T+ve]=[]),v[T+ve][E]=ve==0?y:Zt(y);--we>0;)v[T+ve][E+we]=Zt(y);else for(v[ft({r:T+ve,c:E})]=y;--we>0;)v[ft({r:T+ve,c:E+we})]=Zt(y);S.e.c<=E&&(S.e.c=E)}we=parseInt(w["number-columns-repeated"]||"1",10),E+=we-1,we=0,y={},k="",b=[]}W={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(x[1]==="/"){if((a=s.pop())[0]!==x[3])throw"Bad state: "+a}else x[0].charAt(x[0].length-2)!=="/"&&s.push([x[3],!0]);break;case"annotation":if(x[1]==="/"){if((a=s.pop())[0]!==x[3])throw"Bad state: "+a;I.t=k,b.length&&(I.R=b),I.a=L,Ee.push(I)}else x[0].charAt(x[0].length-2)!=="/"&&s.push([x[3],!1]);L="",G=0,k="",_=0,b=[];break;case"creator":x[1]==="/"?L=n.slice(G,x.index):G=x.index+x[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(x[1]==="/"){if((a=s.pop())[0]!==x[3])throw"Bad state: "+a}else x[0].charAt(x[0].length-2)!=="/"&&s.push([x[3],!1]);k="",_=0,b=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(x[1]==="/"){if(F[o.name]=l,(a=s.pop())[0]!==x[3])throw"Bad state: "+a}else x[0].charAt(x[0].length-2)!=="/"&&(l="",o=ht(x[0],!1),s.push([x[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(s[s.length-1][0]){case"time-style":case"date-style":i=ht(x[0],!1),l+=R_[x[3]][i.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(s[s.length-1][0]){case"time-style":case"date-style":i=ht(x[0],!1),l+=R_[x[3]][i.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(x[0].slice(-2)==="/>")break;if(x[1]==="/")switch(s[s.length-1][0]){case"number-style":case"date-style":case"time-style":l+=n.slice(c,x.index);break}else c=x.index+x[0].length;break;case"named-range":i=ht(x[0],!1),pe=_h(i["cell-range-address"]);var H={Name:i.name,Ref:pe[0]+"!"+pe[1]};ce&&(H.Sheet=g.length),X.Names.push(H);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(s[s.length-1][0])>-1)break;if(x[1]==="/"&&(!w||!w["string-value"])){var he=iB(n.slice(_,x.index));k=(k.length>0?k+`
`:"")+he[0]}else ht(x[0],!1),_=x.index+x[0].length;break;case"s":break;case"database-range":if(x[1]==="/")break;try{pe=_h(ht(x[0])["target-range-address"]),p[pe[0]]["!autofilter"]={ref:pe[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(x[1]!=="/"){if(W=ht(x[0],!1),!W.href)break;W.Target=Pt(W.href),delete W.href,W.Target.charAt(0)=="#"&&W.Target.indexOf(".")>-1?(pe=_h(W.Target.slice(1)),W.Target="#"+pe[0]+"!"+pe[1]):W.Target.match(/^\.\.[\\\/]/)&&(W.Target=W.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(x[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(x)}}var D={Sheets:p,SheetNames:g,Workbook:X};return r.bookSheets&&delete D.Sheets,D}function P_(e,t){t=t||{},Kn(e,"META-INF/manifest.xml")&&F5(_r(e,"META-INF/manifest.xml"),t);var r=Ln(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=FT(Ht(r),t);return Kn(e,"meta.xml")&&(n.Props=bE(_r(e,"meta.xml"))),n}function F_(e,t){return FT(e,t)}var oB=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+jc({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return xr+t}}(),M_=function(){var e=function(a){return $t(a).replace(/  +/g,function(i){return'<text:s text:c="'+i.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(a,i,o){var l=[];l.push('      <table:table table:name="'+$t(i.SheetNames[o])+`" table:style-name="ta1">
`);var c=0,u=0,h=An(a["!ref"]||"A1"),p=a["!merges"]||[],g=0,v=Array.isArray(a);if(a["!cols"])for(u=0;u<=h.e.c;++u)l.push("        <table:table-column"+(a["!cols"][u]?' table:style-name="co'+a["!cols"][u].ods+'"':"")+`></table:table-column>
`);var x="",y=a["!rows"]||[];for(c=0;c<h.s.r;++c)x=y[c]?' table:style-name="ro'+y[c].ods+'"':"",l.push("        <table:table-row"+x+`></table:table-row>
`);for(;c<=h.e.r;++c){for(x=y[c]?' table:style-name="ro'+y[c].ods+'"':"",l.push("        <table:table-row"+x+`>
`),u=0;u<h.s.c;++u)l.push(t);for(;u<=h.e.c;++u){var w=!1,k={},_="";for(g=0;g!=p.length;++g)if(!(p[g].s.c>u)&&!(p[g].s.r>c)&&!(p[g].e.c<u)&&!(p[g].e.r<c)){(p[g].s.c!=u||p[g].s.r!=c)&&(w=!0),k["table:number-columns-spanned"]=p[g].e.c-p[g].s.c+1,k["table:number-rows-spanned"]=p[g].e.r-p[g].s.r+1;break}if(w){l.push(r);continue}var b=ft({r:c,c:u}),T=v?(a[c]||[])[u]:a[b];if(T&&T.f&&(k["table:formula"]=$t(CO(T.f)),T.F&&T.F.slice(0,b.length)==b)){var E=An(T.F);k["table:number-matrix-columns-spanned"]=E.e.c-E.s.c+1,k["table:number-matrix-rows-spanned"]=E.e.r-E.s.r+1}if(!T){l.push(t);continue}switch(T.t){case"b":_=T.v?"TRUE":"FALSE",k["office:value-type"]="boolean",k["office:boolean-value"]=T.v?"true":"false";break;case"n":_=T.w||String(T.v||0),k["office:value-type"]="float",k["office:value"]=T.v||0;break;case"s":case"str":_=T.v==null?"":T.v,k["office:value-type"]="string";break;case"d":_=T.w||Qt(T.v).toISOString(),k["office:value-type"]="date",k["office:date-value"]=Qt(T.v).toISOString(),k["table:style-name"]="ce1";break;default:l.push(t);continue}var S=e(_);if(T.l&&T.l.Target){var M=T.l.Target;M=M.charAt(0)=="#"?"#"+AO(M.slice(1)):M,M.charAt(0)!="#"&&!M.match(/^\w+:/)&&(M="../"+M),S=De("text:a",S,{"xlink:href":M.replace(/&/g,"&amp;")})}l.push("          "+De("table:table-cell",De("text:p",S,{}),k)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},s=function(a,i){a.push(` <office:automatic-styles>
`),a.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),a.push(`   <number:month number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:day number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:year/>
`),a.push(`  </number:date-style>
`);var o=0;i.SheetNames.map(function(c){return i.Sheets[c]}).forEach(function(c){if(c&&c["!cols"]){for(var u=0;u<c["!cols"].length;++u)if(c["!cols"][u]){var h=c["!cols"][u];if(h.width==null&&h.wpx==null&&h.wch==null)continue;Ha(h),h.ods=o;var p=c["!cols"][u].wpx+"px";a.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),a.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+p+`"/>
`),a.push(`  </style:style>
`),++o}}});var l=0;i.SheetNames.map(function(c){return i.Sheets[c]}).forEach(function(c){if(c&&c["!rows"]){for(var u=0;u<c["!rows"].length;++u)if(c["!rows"][u]){c["!rows"][u].ods=l;var h=c["!rows"][u].hpx+"px";a.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),a.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+h+`"/>
`),a.push(`  </style:style>
`),++l}}}),a.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),a.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),a.push(`  </style:style>
`),a.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),a.push(` </office:automatic-styles>
`)};return function(i,o){var l=[xr],c=jc({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=jc({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+c+u+`>
`),l.push(kE().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+c+`>
`),s(l,i),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var h=0;h!=i.SheetNames.length;++h)l.push(n(i.Sheets[i.SheetNames[h]],i,h));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function MT(e,t){if(t.bookType=="fods")return M_(e,t);var r=Rx(),n="",s=[],a=[];return n="mimetype",kt(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",kt(r,n,M_(e,t)),s.push([n,"text/xml"]),a.push([n,"ContentFile"]),n="styles.xml",kt(r,n,oB(e,t)),s.push([n,"text/xml"]),a.push([n,"StylesFile"]),n="meta.xml",kt(r,n,xr+kE()),s.push([n,"text/xml"]),a.push([n,"MetadataFile"]),n="manifest.rdf",kt(r,n,L5(a)),s.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",kt(r,n,M5(s)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Ui(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Xp(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Ht(Xa(e))}function lB(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Dn(Us(e))}function cB(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function Wa(e){var t=e.reduce(function(s,a){return s+a.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(s){r.set(s,n),n+=s.length}),r}function D_(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function uB(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,s=t+13;s>=t;--s)n=n*256+e[s];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function dB(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,s=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var a=0;s>=1;++a,s/=256)e[t+a]=s&255;e[t+15]|=r>=0?0:128}function Kc(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Bt(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function dr(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Mt(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],s=Kc(e,r),a=s&7;s=Math.floor(s/8);var i=0,o;if(s==0)break;switch(a){case 0:{for(var l=r[0];e[r[0]++]>=128;);o=e.slice(l,r[0])}break;case 5:i=4,o=e.slice(r[0],r[0]+i),r[0]+=i;break;case 1:i=8,o=e.slice(r[0],r[0]+i),r[0]+=i;break;case 2:i=Kc(e,r),o=e.slice(r[0],r[0]+i),r[0]+=i;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(s," at offset ").concat(n))}var c={data:o,type:a};t[s]==null?t[s]=[c]:t[s].push(c)}return t}function $r(e){var t=[];return e.forEach(function(r,n){r.forEach(function(s){s.data&&(t.push(Bt(n*8+s.type)),s.type==2&&t.push(Bt(s.data.length)),t.push(s.data))})}),Wa(t)}function s1(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function Wn(e){for(var t,r=[],n=[0];n[0]<e.length;){var s=Kc(e,n),a=Mt(e.slice(n[0],n[0]+s));n[0]+=s;var i={id:dr(a[1][0].data),messages:[]};a[2].forEach(function(o){var l=Mt(o.data),c=dr(l[3][0].data);i.messages.push({meta:l,data:e.slice(n[0],n[0]+c)}),n[0]+=c}),(t=a[3])!=null&&t[0]&&(i.merge=dr(a[3][0].data)>>>0>0),r.push(i)}return r}function io(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:Bt(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:Bt(+!!r.merge),type:0}]);var s=[];r.messages.forEach(function(i){s.push(i.data),i.meta[3]=[{type:0,data:Bt(i.data.length)}],n[2].push({data:$r(i.meta),type:2})});var a=$r(n);t.push(Bt(a.length)),t.push(a),s.forEach(function(i){return t.push(i)})}),Wa(t)}function fB(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=Kc(t,r),s=[];r[0]<t.length;){var a=t[r[0]]&3;if(a==0){var i=t[r[0]++]>>2;if(i<60)++i;else{var o=i-59;i=t[r[0]],o>1&&(i|=t[r[0]+1]<<8),o>2&&(i|=t[r[0]+2]<<16),o>3&&(i|=t[r[0]+3]<<24),i>>>=0,i++,r[0]+=o}s.push(t.slice(r[0],r[0]+i)),r[0]+=i;continue}else{var l=0,c=0;if(a==1?(c=(t[r[0]]>>2&7)+4,l=(t[r[0]++]&224)<<3,l|=t[r[0]++]):(c=(t[r[0]++]>>2)+1,a==2?(l=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(l=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),s=[Wa(s)],l==0)throw new Error("Invalid offset 0");if(l>s[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(s.push(s[0].slice(-l)),c-=l;c>=s[s.length-1].length;)s.push(s[s.length-1]),c-=s[s.length-1].length;s.push(s[0].slice(-l,-l+c))}}var u=Wa(s);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function zn(e){for(var t=[],r=0;r<e.length;){var n=e[r++],s=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(fB(n,e.slice(r,r+s))),r+=s}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Wa(t)}function oo(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),s=new Uint8Array(4);t.push(s);var a=Bt(n),i=a.length;t.push(a),n<=60?(i++,t.push(new Uint8Array([n-1<<2]))):n<=256?(i+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(i+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(i+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(i+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),i+=n,s[0]=0,s[1]=i&255,s[2]=i>>8&255,s[3]=i>>16&255,r+=n}return Wa(t)}function hB(e,t,r,n){var s=Ui(e),a=s.getUint32(4,!0),i=(n>1?12:8)+D_(a&(n>1?3470:398))*4,o=-1,l=-1,c=NaN,u=new Date(2001,0,1);a&512&&(o=s.getUint32(i,!0),i+=4),i+=D_(a&(n>1?12288:4096))*4,a&16&&(l=s.getUint32(i,!0),i+=4),a&32&&(c=s.getFloat64(i,!0),i+=8),a&64&&(u.setTime(u.getTime()+s.getFloat64(i,!0)*1e3),i+=8);var h;switch(e[2]){case 0:break;case 2:h={t:"n",v:c};break;case 3:h={t:"s",v:t[l]};break;case 5:h={t:"d",v:u};break;case 6:h={t:"b",v:c>0};break;case 7:h={t:"n",v:c/86400};break;case 8:h={t:"e",v:0};break;case 9:if(o>-1)h={t:"s",v:r[o]};else if(l>-1)h={t:"s",v:t[l]};else if(!isNaN(c))h={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return h}function pB(e,t,r){var n=Ui(e),s=n.getUint32(8,!0),a=12,i=-1,o=-1,l=NaN,c=NaN,u=new Date(2001,0,1);s&1&&(l=uB(e,a),a+=16),s&2&&(c=n.getFloat64(a,!0),a+=8),s&4&&(u.setTime(u.getTime()+n.getFloat64(a,!0)*1e3),a+=8),s&8&&(o=n.getUint32(a,!0),a+=4),s&16&&(i=n.getUint32(a,!0),a+=4);var h;switch(e[1]){case 0:break;case 2:h={t:"n",v:l};break;case 3:h={t:"s",v:t[o]};break;case 5:h={t:"d",v:u};break;case 6:h={t:"b",v:c>0};break;case 7:h={t:"n",v:c/86400};break;case 8:h={t:"e",v:0};break;case 9:if(i>-1)h={t:"s",v:r[i]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(s&31," : ").concat(e.slice(0,4)));break;case 10:h={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(s&31," : ").concat(e.slice(0,4)))}return h}function kh(e,t){var r=new Uint8Array(32),n=Ui(r),s=12,a=0;switch(r[0]=5,e.t){case"n":r[1]=2,dB(r,s,e.v),a|=1,s+=16;break;case"b":r[1]=6,n.setFloat64(s,e.v?1:0,!0),a|=2,s+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(s,t.indexOf(e.v),!0),a|=8,s+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,a,!0),r.slice(0,s)}function bh(e,t){var r=new Uint8Array(32),n=Ui(r),s=12,a=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(s,e.v,!0),a|=32,s+=8;break;case"b":r[2]=6,n.setFloat64(s,e.v?1:0,!0),a|=32,s+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(s,t.indexOf(e.v),!0),a|=16,s+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,a,!0),r.slice(0,s)}function mB(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return hB(e,t,r,e[0]);case 5:return pB(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Xr(e){var t=Mt(e);return Kc(t[1][0].data)}function L_(e,t){var r=Mt(t.data),n=dr(r[1][0].data),s=r[3],a=[];return(s||[]).forEach(function(i){var o=Mt(i.data),l=dr(o[1][0].data)>>>0;switch(n){case 1:a[l]=Xp(o[3][0].data);break;case 8:{var c=e[Xr(o[9][0].data)][0],u=Mt(c.data),h=e[Xr(u[1][0].data)][0],p=dr(h.meta[1][0].data);if(p!=2001)throw new Error("2000 unexpected reference to ".concat(p));var g=Mt(h.data);a[l]=g[3].map(function(v){return Xp(v.data)}).join("")}break}}),a}function gB(e,t){var r,n,s,a,i,o,l,c,u,h,p,g,v,x,y=Mt(e),w=dr(y[1][0].data)>>>0,k=dr(y[2][0].data)>>>0,_=((n=(r=y[8])==null?void 0:r[0])==null?void 0:n.data)&&dr(y[8][0].data)>0||!1,b,T;if((a=(s=y[7])==null?void 0:s[0])!=null&&a.data&&t!=0)b=(o=(i=y[7])==null?void 0:i[0])==null?void 0:o.data,T=(c=(l=y[6])==null?void 0:l[0])==null?void 0:c.data;else if((h=(u=y[4])==null?void 0:u[0])!=null&&h.data&&t!=1)b=(g=(p=y[4])==null?void 0:p[0])==null?void 0:g.data,T=(x=(v=y[3])==null?void 0:v[0])==null?void 0:x.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var E=_?4:1,S=Ui(b),M=[],F=0;F<b.length/2;++F){var z=S.getUint16(F*2,!0);z<65535&&M.push([F,z])}if(M.length!=k)throw"Expected ".concat(k," cells, found ").concat(M.length);var Y=[];for(F=0;F<M.length-1;++F)Y[M[F][0]]=T.subarray(M[F][1]*E,M[F+1][1]*E);return M.length>=1&&(Y[M[M.length-1][0]]=T.subarray(M[M.length-1][1]*E)),{R:w,cells:Y}}function xB(e,t){var r,n=Mt(t.data),s=(r=n==null?void 0:n[7])!=null&&r[0]?dr(n[7][0].data)>>>0>0?1:0:-1,a=s1(n[5],function(i){return gB(i,s)});return{nrows:dr(n[4][0].data)>>>0,data:a.reduce(function(i,o){return i[o.R]||(i[o.R]=[]),o.cells.forEach(function(l,c){if(i[o.R][c])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(c));i[o.R][c]=l}),i},[])}}function vB(e,t,r){var n,s=Mt(t.data),a={s:{r:0,c:0},e:{r:0,c:0}};if(a.e.r=(dr(s[6][0].data)>>>0)-1,a.e.r<0)throw new Error("Invalid row varint ".concat(s[6][0].data));if(a.e.c=(dr(s[7][0].data)>>>0)-1,a.e.c<0)throw new Error("Invalid col varint ".concat(s[7][0].data));r["!ref"]=wt(a);var i=Mt(s[4][0].data),o=L_(e,e[Xr(i[4][0].data)][0]),l=(n=i[17])!=null&&n[0]?L_(e,e[Xr(i[17][0].data)][0]):[],c=Mt(i[3][0].data),u=0;c[1].forEach(function(h){var p=Mt(h.data),g=e[Xr(p[2][0].data)][0],v=dr(g.meta[1][0].data);if(v!=6002)throw new Error("6001 unexpected reference to ".concat(v));var x=xB(e,g);x.data.forEach(function(y,w){y.forEach(function(k,_){var b=ft({r:u+w,c:_}),T=mB(k,o,l);T&&(r[b]=T)})}),u+=x.nrows})}function yB(e,t){var r=Mt(t.data),n={"!ref":"A1"},s=e[Xr(r[2][0].data)],a=dr(s[0].meta[1][0].data);if(a!=6001)throw new Error("6000 unexpected reference to ".concat(a));return vB(e,s[0],n),n}function _B(e,t){var r,n=Mt(t.data),s={name:(r=n[1])!=null&&r[0]?Xp(n[1][0].data):"",sheets:[]},a=s1(n[2],Xr);return a.forEach(function(i){e[i].forEach(function(o){var l=dr(o.meta[1][0].data);l==6e3&&s.sheets.push(yB(e,o))})}),s}function wB(e,t){var r=c1(),n=Mt(t.data),s=s1(n[1],Xr);if(s.forEach(function(a){e[a].forEach(function(i){var o=dr(i.meta[1][0].data);if(o==2){var l=_B(e,i);l.sheets.forEach(function(c,u){u1(r,c,u==0?l.name:l.name+"_"+u,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function Sh(e){var t,r,n,s,a={},i=[];if(e.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=zn(l.content)}catch(h){return console.log("?? "+l.content.length+" "+(h.message||h))}var u;try{u=Wn(c)}catch(h){return console.log("## "+(h.message||h))}u.forEach(function(h){a[h.id]=h.messages,i.push(h.id)})}}),!i.length)throw new Error("File has no messages");var o=((s=(n=(r=(t=a==null?void 0:a[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:s[0].data)&&dr(a[1][0].meta[1][0].data)==1&&a[1][0];if(o||i.forEach(function(l){a[l].forEach(function(c){var u=dr(c.meta[1][0].data)>>>0;if(u==1)if(!o)o=c;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return wB(a,o)}function kB(e,t,r){var n,s,a,i;if(!((n=e[6])!=null&&n[0])||!((s=e[7])!=null&&s[0]))throw"Mutation only works on post-BNC storages!";var o=((i=(a=e[8])==null?void 0:a[0])==null?void 0:i.data)&&dr(e[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,c=Ui(e[7][0].data),u=0,h=[],p=Ui(e[4][0].data),g=0,v=[],x=0;x<t.length;++x){if(t[x]==null){c.setUint16(x*2,65535,!0),p.setUint16(x*2,65535);continue}c.setUint16(x*2,u,!0),p.setUint16(x*2,g,!0);var y,w;switch(typeof t[x]){case"string":y=kh({t:"s",v:t[x]},r),w=bh({t:"s",v:t[x]},r);break;case"number":y=kh({t:"n",v:t[x]},r),w=bh({t:"n",v:t[x]},r);break;case"boolean":y=kh({t:"b",v:t[x]},r),w=bh({t:"b",v:t[x]},r);break;default:throw new Error("Unsupported value "+t[x])}h.push(y),u+=y.length,v.push(w),g+=w.length,++l}for(e[2][0].data=Bt(l);x<e[7][0].data.length/2;++x)c.setUint16(x*2,65535,!0),p.setUint16(x*2,65535,!0);return e[6][0].data=Wa(h),e[3][0].data=Wa(v),l}function bB(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=An(r["!ref"]);n.s.r=n.s.c=0;var s=!1;n.e.c>9&&(s=!0,n.e.c=9),n.e.r>49&&(s=!0,n.e.r=49),s&&console.error("The Numbers writer is currently limited to ".concat(wt(n)));var a=df(r,{range:n,header:1}),i=["~Sh33tJ5~"];a.forEach(function(L){return L.forEach(function(G){typeof G=="string"&&i.push(G)})});var o={},l=[],c=nt.read(t.numbers,{type:"base64"});c.FileIndex.map(function(L,G){return[L,c.FullPaths[G]]}).forEach(function(L){var G=L[0],q=L[1];if(G.type==2&&G.name.match(/\.iwa/)){var ce=G.content,ye=zn(ce),ge=Wn(ye);ge.forEach(function(ve){l.push(ve.id),o[ve.id]={deps:[],location:q,type:dr(ve.messages[0].meta[1][0].data)}})}}),l.sort(function(L,G){return L-G});var u=l.filter(function(L){return L>1}).map(function(L){return[L,Bt(L)]});c.FileIndex.map(function(L,G){return[L,c.FullPaths[G]]}).forEach(function(L){var G=L[0];if(L[1],!!G.name.match(/\.iwa/)){var q=Wn(zn(G.content));q.forEach(function(ce){ce.messages.forEach(function(ye){u.forEach(function(ge){ce.messages.some(function(ve){return dr(ve.meta[1][0].data)!=11006&&cB(ve.data,ge[1])})&&o[ge[0]].deps.push(ce.id)})})})}});for(var h=nt.find(c,o[1].location),p=Wn(zn(h.content)),g,v=0;v<p.length;++v){var x=p[v];x.id==1&&(g=x)}var y=Xr(Mt(g.messages[0].data)[1][0].data);for(h=nt.find(c,o[y].location),p=Wn(zn(h.content)),v=0;v<p.length;++v)x=p[v],x.id==y&&(g=x);for(y=Xr(Mt(g.messages[0].data)[2][0].data),h=nt.find(c,o[y].location),p=Wn(zn(h.content)),v=0;v<p.length;++v)x=p[v],x.id==y&&(g=x);for(y=Xr(Mt(g.messages[0].data)[2][0].data),h=nt.find(c,o[y].location),p=Wn(zn(h.content)),v=0;v<p.length;++v)x=p[v],x.id==y&&(g=x);var w=Mt(g.messages[0].data);{w[6][0].data=Bt(n.e.r+1),w[7][0].data=Bt(n.e.c+1);var k=Xr(w[46][0].data),_=nt.find(c,o[k].location),b=Wn(zn(_.content));{for(var T=0;T<b.length&&b[T].id!=k;++T);if(b[T].id!=k)throw"Bad ColumnRowUIDMapArchive";var E=Mt(b[T].messages[0].data);E[1]=[],E[2]=[],E[3]=[];for(var S=0;S<=n.e.c;++S){var M=[];M[1]=M[2]=[{type:0,data:Bt(S+420690)}],E[1].push({type:2,data:$r(M)}),E[2].push({type:0,data:Bt(S)}),E[3].push({type:0,data:Bt(S)})}E[4]=[],E[5]=[],E[6]=[];for(var F=0;F<=n.e.r;++F)M=[],M[1]=M[2]=[{type:0,data:Bt(F+726270)}],E[4].push({type:2,data:$r(M)}),E[5].push({type:0,data:Bt(F)}),E[6].push({type:0,data:Bt(F)});b[T].messages[0].data=$r(E)}_.content=oo(io(b)),_.size=_.content.length,delete w[46];var z=Mt(w[4][0].data);{z[7][0].data=Bt(n.e.r+1);var Y=Mt(z[1][0].data),U=Xr(Y[2][0].data);_=nt.find(c,o[U].location),b=Wn(zn(_.content));{if(b[0].id!=U)throw"Bad HeaderStorageBucket";var re=Mt(b[0].messages[0].data);for(F=0;F<a.length;++F){var B=Mt(re[2][0].data);B[1][0].data=Bt(F),B[4][0].data=Bt(a[F].length),re[2][F]={type:re[2][0].type,data:$r(B)}}b[0].messages[0].data=$r(re)}_.content=oo(io(b)),_.size=_.content.length;var fe=Xr(z[2][0].data);_=nt.find(c,o[fe].location),b=Wn(zn(_.content));{if(b[0].id!=fe)throw"Bad HeaderStorageBucket";for(re=Mt(b[0].messages[0].data),S=0;S<=n.e.c;++S)B=Mt(re[2][0].data),B[1][0].data=Bt(S),B[4][0].data=Bt(n.e.r+1),re[2][S]={type:re[2][0].type,data:$r(B)};b[0].messages[0].data=$r(re)}_.content=oo(io(b)),_.size=_.content.length;var we=Xr(z[4][0].data);(function(){for(var L=nt.find(c,o[we].location),G=Wn(zn(L.content)),q,ce=0;ce<G.length;++ce){var ye=G[ce];ye.id==we&&(q=ye)}var ge=Mt(q.messages[0].data);{ge[3]=[];var ve=[];i.forEach(function(D,Ce){ve[1]=[{type:0,data:Bt(Ce)}],ve[2]=[{type:0,data:Bt(1)}],ve[3]=[{type:2,data:lB(D)}],ge[3].push({type:2,data:$r(ve)})})}q.messages[0].data=$r(ge);var H=io(G),he=oo(H);L.content=he,L.size=L.content.length})();var J=Mt(z[3][0].data);{var X=J[1][0];delete J[2];var W=Mt(X.data);{var pe=Xr(W[2][0].data);(function(){for(var L=nt.find(c,o[pe].location),G=Wn(zn(L.content)),q,ce=0;ce<G.length;++ce){var ye=G[ce];ye.id==pe&&(q=ye)}var ge=Mt(q.messages[0].data);{delete ge[6],delete J[7];var ve=new Uint8Array(ge[5][0].data);ge[5]=[];for(var H=0,he=0;he<=n.e.r;++he){var D=Mt(ve);H+=kB(D,a[he],i),D[1][0].data=Bt(he),ge[5].push({data:$r(D),type:2})}ge[1]=[{type:0,data:Bt(n.e.c+1)}],ge[2]=[{type:0,data:Bt(n.e.r+1)}],ge[3]=[{type:0,data:Bt(H)}],ge[4]=[{type:0,data:Bt(n.e.r+1)}]}q.messages[0].data=$r(ge);var Ce=io(G),Ae=oo(Ce);L.content=Ae,L.size=L.content.length})()}X.data=$r(W)}z[3][0].data=$r(J)}w[4][0].data=$r(z)}g.messages[0].data=$r(w);var Ee=io(p),I=oo(Ee);return h.content=I,h.size=h.content.length,c}function DT(e){return function(r){for(var n=0;n!=e.length;++n){var s=e[n];r[s[0]]===void 0&&(r[s[0]]=s[1]),s[2]==="n"&&(r[s[0]]=Number(r[s[0]]))}}}function a1(e){DT([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function i1(e){DT([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function SB(e){return Tt.WS.indexOf(e)>-1?"sheet":e==Tt.CS?"chart":e==Tt.DS?"dialog":e==Tt.MS?"macro":e&&e.length?e:"sheet"}function EB(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,SB(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function TB(e,t,r,n,s,a,i,o,l,c,u,h){try{a[n]=ec(Ln(e,r,!0),t);var p=_r(e,t),g;switch(o){case"sheet":g=KU(p,t,s,l,a[n],c,u,h);break;case"chart":if(g=JU(p,t,s,l,a[n],c,u,h),!g||!g["!drawel"])break;var v=Ul(g["!drawel"].Target,t),x=Vc(v),y=DD(Ln(e,v,!0),ec(Ln(e,x,!0),v)),w=Ul(y,v),k=Vc(w);g=kU(Ln(e,w,!0),w,l,ec(Ln(e,k,!0),w),c,g);break;case"macro":g=YU(p,t,s,l,a[n],c,u,h);break;case"dialog":g=XU(p,t,s,l,a[n],c,u,h);break;default:throw new Error("Unrecognized sheet type "+o)}i[n]=g;var _=[];a&&a[n]&&fr(a[n]).forEach(function(b){var T="";if(a[n][b].Type==Tt.CMNT){T=Ul(a[n][b].Target,t);var E=t9(_r(e,T,!0),T,l);if(!E||!E.length)return;w_(g,E,!1)}a[n][b].Type==Tt.TCMNT&&(T=Ul(a[n][b].Target,t),_=_.concat(OD(_r(e,T,!0),l)))}),_&&_.length&&w_(g,_,!0,l.people||[])}catch(b){if(l.WTF)throw b}}function Hn(e){return e.charAt(0)=="/"?e.slice(1):e}function CB(e,t){if(ll(),t=t||{},a1(t),Kn(e,"META-INF/manifest.xml")||Kn(e,"objectdata.xml"))return P_(e,t);if(Kn(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof Sh<"u"){if(e.FileIndex)return Sh(e);var r=nt.utils.cfb_new();return Vy(e).forEach(function(B){kt(r,B,UF(e,B))}),Sh(r)}throw new Error("Unsupported NUMBERS file")}if(!Kn(e,"[Content_Types].xml"))throw Kn(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Kn(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=Vy(e),s=R5(Ln(e,"[Content_Types].xml")),a=!1,i,o;if(s.workbooks.length===0&&(o="xl/workbook.xml",_r(e,o,!0)&&s.workbooks.push(o)),s.workbooks.length===0){if(o="xl/workbook.bin",!_r(e,o,!0))throw new Error("Could not find workbook");s.workbooks.push(o),a=!0}s.workbooks[0].slice(-3)=="bin"&&(a=!0);var l={},c={};if(!t.bookSheets&&!t.bookProps){if(tc=[],s.sst)try{tc=e9(_r(e,Hn(s.sst)),s.sst,t)}catch(B){if(t.WTF)throw B}t.cellStyles&&s.themes.length&&(l=ZU(Ln(e,s.themes[0].replace(/^\//,""),!0)||"",s.themes[0],t)),s.style&&(c=QU(_r(e,Hn(s.style)),s.style,l,t))}s.links.map(function(B){try{var fe=ec(Ln(e,Vc(Hn(B))),B);return n9(_r(e,Hn(B)),fe,B,t)}catch{}});var u=qU(_r(e,Hn(s.workbooks[0])),s.workbooks[0],t),h={},p="";s.coreprops.length&&(p=_r(e,Hn(s.coreprops[0]),!0),p&&(h=bE(p)),s.extprops.length!==0&&(p=_r(e,Hn(s.extprops[0]),!0),p&&U5(p,h,t)));var g={};(!t.bookSheets||t.bookProps)&&s.custprops.length!==0&&(p=Ln(e,Hn(s.custprops[0]),!0),p&&(g=j5(p,t)));var v={};if((t.bookSheets||t.bookProps)&&(u.Sheets?i=u.Sheets.map(function(fe){return fe.name}):h.Worksheets&&h.SheetNames.length>0&&(i=h.SheetNames),t.bookProps&&(v.Props=h,v.Custprops=g),t.bookSheets&&typeof i<"u"&&(v.SheetNames=i),t.bookSheets?v.SheetNames:t.bookProps))return v;i={};var x={};t.bookDeps&&s.calcchain&&(x=r9(_r(e,Hn(s.calcchain)),s.calcchain));var y=0,w={},k,_;{var b=u.Sheets;h.Worksheets=b.length,h.SheetNames=[];for(var T=0;T!=b.length;++T)h.SheetNames[T]=b[T].name}var E=a?"bin":"xml",S=s.workbooks[0].lastIndexOf("/"),M=(s.workbooks[0].slice(0,S+1)+"_rels/"+s.workbooks[0].slice(S+1)+".rels").replace(/^\//,"");Kn(e,M)||(M="xl/_rels/workbook."+E+".rels");var F=ec(Ln(e,M,!0),M.replace(/_rels.*/,"s5s"));(s.metadata||[]).length>=1&&(t.xlmeta=s9(_r(e,Hn(s.metadata[0])),s.metadata[0],t)),(s.people||[]).length>=1&&(t.people=BD(_r(e,Hn(s.people[0])),t)),F&&(F=EB(F,u.Sheets));var z=_r(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(y=0;y!=h.Worksheets;++y){var Y="sheet";if(F&&F[y]?(k="xl/"+F[y][1].replace(/[\/]?xl\//,""),Kn(e,k)||(k=F[y][1]),Kn(e,k)||(k=M.replace(/_rels\/.*$/,"")+F[y][1]),Y=F[y][2]):(k="xl/worksheets/sheet"+(y+1-z)+"."+E,k=k.replace(/sheet0\./,"sheet.")),_=k.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(y!=t.sheets)continue e;break;case"string":if(h.SheetNames[y].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var U=!1,re=0;re!=t.sheets.length;++re)typeof t.sheets[re]=="number"&&t.sheets[re]==y&&(U=1),typeof t.sheets[re]=="string"&&t.sheets[re].toLowerCase()==h.SheetNames[y].toLowerCase()&&(U=1);if(!U)continue e}}TB(e,k,_,h.SheetNames[y],y,w,i,Y,t,u,l,c)}return v={Directory:s,Workbook:u,Props:h,Custprops:g,Deps:x,Sheets:i,SheetNames:h.SheetNames,Strings:tc,Styles:c,Themes:l,SSF:Zt(ot)},t&&t.bookFiles&&(e.files?(v.keys=n,v.files=e.files):(v.keys=[],v.files={},e.FullPaths.forEach(function(B,fe){B=B.replace(/^Root Entry[\/]/,""),v.keys.push(B),v.files[B]=e.FileIndex[fe]}))),t&&t.bookVBA&&(s.vba.length>0?v.vbaraw=_r(e,Hn(s.vba[0]),!0):s.defaults&&s.defaults.bin===qD&&(v.vbaraw=_r(e,"xl/vbaProject.bin",!0))),v}function AB(e,t){var r=t||{},n="Workbook",s=nt.find(e,n);try{if(n="/!DataSpaces/Version",s=nt.find(e,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(s8(s.content),n="/!DataSpaces/DataSpaceMap",s=nt.find(e,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);var a=i8(s.content);if(a.length!==1||a[0].comps.length!==1||a[0].comps[0].t!==0||a[0].name!=="StrongEncryptionDataSpace"||a[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",s=nt.find(e,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=o8(s.content);if(i.length!=1||i[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",s=nt.find(e,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);c8(s.content)}catch{}if(n="/EncryptionInfo",s=nt.find(e,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=u8(s.content);if(n="/EncryptedPackage",s=nt.find(e,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],s.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],s.content,r.password||"",r);throw new Error("File is password-protected")}function NB(e,t){return t.bookType=="ods"?MT(e,t):t.bookType=="numbers"?bB(e,t):t.bookType=="xlsb"?IB(e,t):RB(e,t)}function IB(e,t){Ao=1024,e&&!e.SSF&&(e.SSF=Zt(ot)),e&&e.SSF&&(ll(),g0(e.SSF),t.revssf=v0(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,rc?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=lT.indexOf(t.bookType)>-1,s=Wx();i1(t=t||{});var a=Rx(),i="",o=0;if(t.cellXfs=[],Za(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),i="docProps/core.xml",kt(a,i,SE(e.Props,t)),s.coreprops.push(i),jt(t.rels,2,i,Tt.CORE_PROPS),i="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],c=0;c<e.SheetNames.length;++c)(e.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}for(e.Props.Worksheets=e.Props.SheetNames.length,kt(a,i,CE(e.Props)),s.extprops.push(i),jt(t.rels,3,i,Tt.EXT_PROPS),e.Custprops!==e.Props&&fr(e.Custprops||{}).length>0&&(i="docProps/custom.xml",kt(a,i,AE(e.Custprops)),s.custprops.push(i),jt(t.rels,4,i,Tt.CUST_PROPS)),o=1;o<=e.SheetNames.length;++o){var u={"!id":{}},h=e.Sheets[e.SheetNames[o-1]],p=(h||{})["!type"]||"sheet";switch(p){case"chart":default:i="xl/worksheets/sheet"+o+"."+r,kt(a,i,i9(o-1,i,t,e,u)),s.sheets.push(i),jt(t.wbrels,-1,"worksheets/sheet"+o+"."+r,Tt.WS[0])}if(h){var g=h["!comments"],v=!1,x="";g&&g.length>0&&(x="xl/comments"+o+"."+r,kt(a,x,c9(g,x)),s.comments.push(x),jt(u,-1,"../comments"+o+"."+r,Tt.CMNT),v=!0),h["!legacy"]&&v&&kt(a,"xl/drawings/vmlDrawing"+o+".vml",iT(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}u["!id"].rId1&&kt(a,Vc(i),Bo(u))}return t.Strings!=null&&t.Strings.length>0&&(i="xl/sharedStrings."+r,kt(a,i,l9(t.Strings,i,t)),s.strs.push(i),jt(t.wbrels,-1,"sharedStrings."+r,Tt.SST)),i="xl/workbook."+r,kt(a,i,a9(e,i)),s.workbooks.push(i),jt(t.rels,1,i,Tt.WB),i="xl/theme/theme1.xml",kt(a,i,Xx(e.Themes,t)),s.themes.push(i),jt(t.wbrels,-1,"theme/theme1.xml",Tt.THEME),i="xl/styles."+r,kt(a,i,o9(e,i,t)),s.styles.push(i),jt(t.wbrels,-1,"styles."+r,Tt.STY),e.vbaraw&&n&&(i="xl/vbaProject.bin",kt(a,i,e.vbaraw),s.vba.push(i),jt(t.wbrels,-1,"vbaProject.bin",Tt.VBA)),i="xl/metadata."+r,kt(a,i,u9(i)),s.metadata.push(i),jt(t.wbrels,-1,"metadata."+r,Tt.XLMETA),kt(a,"[Content_Types].xml",wE(s,t)),kt(a,"_rels/.rels",Bo(t.rels)),kt(a,"xl/_rels/workbook."+r+".rels",Bo(t.wbrels)),delete t.revssf,delete t.ssf,a}function RB(e,t){Ao=1024,e&&!e.SSF&&(e.SSF=Zt(ot)),e&&e.SSF&&(ll(),g0(e.SSF),t.revssf=v0(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,rc?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=lT.indexOf(t.bookType)>-1,s=Wx();i1(t=t||{});var a=Rx(),i="",o=0;if(t.cellXfs=[],Za(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),i="docProps/core.xml",kt(a,i,SE(e.Props,t)),s.coreprops.push(i),jt(t.rels,2,i,Tt.CORE_PROPS),i="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],c=0;c<e.SheetNames.length;++c)(e.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}e.Props.Worksheets=e.Props.SheetNames.length,kt(a,i,CE(e.Props)),s.extprops.push(i),jt(t.rels,3,i,Tt.EXT_PROPS),e.Custprops!==e.Props&&fr(e.Custprops||{}).length>0&&(i="docProps/custom.xml",kt(a,i,AE(e.Custprops)),s.custprops.push(i),jt(t.rels,4,i,Tt.CUST_PROPS));var u=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var h={"!id":{}},p=e.Sheets[e.SheetNames[o-1]],g=(p||{})["!type"]||"sheet";switch(g){case"chart":default:i="xl/worksheets/sheet"+o+"."+r,kt(a,i,yT(o-1,t,e,h)),s.sheets.push(i),jt(t.wbrels,-1,"worksheets/sheet"+o+"."+r,Tt.WS[0])}if(p){var v=p["!comments"],x=!1,y="";if(v&&v.length>0){var w=!1;v.forEach(function(k){k[1].forEach(function(_){_.T==!0&&(w=!0)})}),w&&(y="xl/threadedComments/threadedComment"+o+"."+r,kt(a,y,UD(v,u,t)),s.threadedcomments.push(y),jt(h,-1,"../threadedComments/threadedComment"+o+"."+r,Tt.TCMNT)),y="xl/comments"+o+"."+r,kt(a,y,oT(v)),s.comments.push(y),jt(h,-1,"../comments"+o+"."+r,Tt.CMNT),x=!0}p["!legacy"]&&x&&kt(a,"xl/drawings/vmlDrawing"+o+".vml",iT(o,p["!comments"])),delete p["!comments"],delete p["!legacy"]}h["!id"].rId1&&kt(a,Vc(i),Bo(h))}return t.Strings!=null&&t.Strings.length>0&&(i="xl/sharedStrings."+r,kt(a,i,KE(t.Strings,t)),s.strs.push(i),jt(t.wbrels,-1,"sharedStrings."+r,Tt.SST)),i="xl/workbook."+r,kt(a,i,ST(e)),s.workbooks.push(i),jt(t.rels,1,i,Tt.WB),i="xl/theme/theme1.xml",kt(a,i,Xx(e.Themes,t)),s.themes.push(i),jt(t.wbrels,-1,"theme/theme1.xml",Tt.THEME),i="xl/styles."+r,kt(a,i,rT(e,t)),s.styles.push(i),jt(t.wbrels,-1,"styles."+r,Tt.STY),e.vbaraw&&n&&(i="xl/vbaProject.bin",kt(a,i,e.vbaraw),s.vba.push(i),jt(t.wbrels,-1,"vbaProject.bin",Tt.VBA)),i="xl/metadata."+r,kt(a,i,aT()),s.metadata.push(i),jt(t.wbrels,-1,"metadata."+r,Tt.XLMETA),u.length>1&&(i="xl/persons/person.xml",kt(a,i,jD(u)),s.people.push(i),jt(t.wbrels,-1,"persons/person.xml",Tt.PEOPLE)),kt(a,"[Content_Types].xml",wE(s,t)),kt(a,"_rels/.rels",Bo(t.rels)),kt(a,"xl/_rels/workbook."+r+".rels",Bo(t.wbrels)),delete t.revssf,delete t.ssf,a}function o1(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=jn(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function PB(e,t){return nt.find(e,"EncryptedPackage")?AB(e,t):AT(e,t)}function FB(e,t){var r,n=e,s=t||{};return s.type||(s.type=Et&&Buffer.isBuffer(e)?"buffer":"base64"),r=YS(n,s),CB(r,s)}function LT(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return Jp(e.slice(r),t);default:break e}return Qo.to_workbook(e,t)}function MB(e,t){var r="",n=o1(e,t);switch(t.type){case"base64":r=jn(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=Mi(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Ht(r)),t.type="binary",LT(r,t)}function DB(e,t){var r=e;return t.type=="base64"&&(r=jn(r)),r=Lc.utils.decode(1200,r.slice(2),"str"),t.type="binary",LT(r,t)}function LB(e){return e.match(/[^\x00-\x7F]/)?Us(e):e}function Eh(e,t,r,n){return n?(r.type="string",Qo.to_workbook(e,r)):Qo.to_workbook(t,r)}function O_(e,t){Tx();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return O_(new Uint8Array(e),(r=Zt(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,s=[0,0,0,0],a=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),$o={},r.dateNF&&($o.dateNF=r.dateNF),r.type||(r.type=Et&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Et?"buffer":"binary",n=IF(e),typeof Uint8Array<"u"&&!Et&&(r.type="array")),r.type=="string"&&(a=!0,r.type="binary",r.codepage=65001,n=LB(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var i=new ArrayBuffer(3),o=new Uint8Array(i);if(o.foo="bar",!o.foo)return r=Zt(r),r.type="array",O_(Cx(n),r)}switch((s=o1(n,r))[0]){case 208:if(s[1]===207&&s[2]===17&&s[3]===224&&s[4]===161&&s[5]===177&&s[6]===26&&s[7]===225)return PB(nt.read(n,r),r);break;case 9:if(s[1]<=8)return AT(n,r);break;case 60:return Jp(n,r);case 73:if(s[1]===73&&s[2]===42&&s[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(s[1]===68)return $6(n,r);break;case 84:if(s[1]===65&&s[2]===66&&s[3]===76)return zE.to_workbook(n,r);break;case 80:return s[1]===75&&s[2]<9&&s[3]<9?FB(n,r):Eh(e,n,r,a);case 239:return s[3]===60?Jp(n,r):Eh(e,n,r,a);case 255:if(s[1]===254)return DB(n,r);if(s[1]===0&&s[2]===2&&s[3]===0)return Ei.to_workbook(n,r);break;case 0:if(s[1]===0&&(s[2]>=2&&s[3]===0||s[2]===0&&(s[3]===8||s[3]===9)))return Ei.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return Kp.to_workbook(n,r);case 123:if(s[1]===92&&s[2]===114&&s[3]===116)return ZE.to_workbook(n,r);break;case 10:case 13:case 32:return MB(n,r);case 137:if(s[1]===80&&s[2]===78&&s[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return j6.indexOf(s[0])>-1&&s[2]<=12&&s[3]<=31?Kp.to_workbook(n,r):Eh(e,n,r,a)}function OT(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return du(t.file,nt.write(e,{type:Et?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return nt.write(e,t)}function OB(e,t){var r=Zt(t||{}),n=NB(e,r);return UB(n,r)}function UB(e,t){var r={},n=Et?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var s=e.FullPaths?nt.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof s=="string"){if(t.type=="binary"||t.type=="base64")return s;s=new Uint8Array(m0(s))}return t.password&&typeof encrypt_agile<"u"?OT(encrypt_agile(s,t.password),t):t.type==="file"?du(t.file,s):t.type=="string"?Ht(s):s}function BB(e,t){var r=t||{},n=L9(e,r);return OT(n,r)}function Ds(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return Oc(Us(n));case"binary":return Us(n);case"string":return e;case"file":return du(t.file,n,"utf8");case"buffer":return Et?oa(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Ds(n,{type:"binary"}).split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function jB(e,t){switch(t.type){case"base64":return Oc(e);case"binary":return e;case"string":return e;case"file":return du(t.file,e,"binary");case"buffer":return Et?oa(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function ed(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?Oc(r):t.type=="string"?Ht(r):r;case"file":return du(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function UT(e,t){Tx(),PU(e);var r=Zt(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=UT(e,r);return r.type="array",m0(n)}var s=0;if(r.sheet&&(typeof r.sheet=="number"?s=r.sheet:s=e.SheetNames.indexOf(r.sheet),!e.SheetNames[s]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Ds(N9(e,r),r);case"slk":case"sylk":return Ds(WE.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"htm":case"html":return Ds(IT(e.Sheets[e.SheetNames[s]],r),r);case"txt":return jB(BT(e.Sheets[e.SheetNames[s]],r),r);case"csv":return Ds(l1(e.Sheets[e.SheetNames[s]],r),r,"\uFEFF");case"dif":return Ds(zE.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"dbf":return ed(Kp.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"prn":return Ds(Qo.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"rtf":return Ds(ZE.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"eth":return Ds(qE.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"fods":return Ds(MT(e,r),r);case"wk1":return ed(Ei.sheet_to_wk1(e.Sheets[e.SheetNames[s]],r),r);case"wk3":return ed(Ei.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),ed(NT(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),BB(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return OB(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function $B(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function VB(e,t,r){var n={};return n.type="file",n.file=t,$B(n),UT(e,n)}function HB(e,t,r,n,s,a,i,o){var l=gr(r),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),h=!0,p=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(p,"__rowNum__",{value:r,enumerable:!1})}catch{p.__rowNum__=r}else p.__rowNum__=r;if(!i||e[r])for(var g=t.s.c;g<=t.e.c;++g){var v=i?e[r][g]:e[n[g]+l];if(v===void 0||v.t===void 0){if(c===void 0)continue;a[g]!=null&&(p[a[g]]=c);continue}var x=v.v;switch(v.t){case"z":if(x==null)break;continue;case"e":x=x==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+v.t)}if(a[g]!=null){if(x==null)if(v.t=="e"&&x===null)p[a[g]]=null;else if(c!==void 0)p[a[g]]=c;else if(u&&x===null)p[a[g]]=null;else continue;else p[a[g]]=u&&(v.t!=="n"||v.t==="n"&&o.rawNumbers!==!1)?x:na(v,x,o);x!=null&&(h=!1)}}return{row:p,isempty:h}}function df(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,s=1,a=[],i=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},u=c.range!=null?c.range:e["!ref"];switch(c.header===1?n=1:c.header==="A"?n=2:Array.isArray(c.header)?n=3:c.header==null&&(n=0),typeof u){case"string":l=Ft(u);break;case"number":l=Ft(e["!ref"]),l.s.r=u;break;default:l=u}n>0&&(s=0);var h=gr(l.s.r),p=[],g=[],v=0,x=0,y=Array.isArray(e),w=l.s.r,k=0,_={};y&&!e[w]&&(e[w]=[]);var b=c.skipHidden&&e["!cols"]||[],T=c.skipHidden&&e["!rows"]||[];for(k=l.s.c;k<=l.e.c;++k)if(!(b[k]||{}).hidden)switch(p[k]=nr(k),r=y?e[w][k]:e[p[k]+h],n){case 1:a[k]=k-l.s.c;break;case 2:a[k]=p[k];break;case 3:a[k]=c.header[k-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=i=na(r,null,c),x=_[i]||0,!x)_[i]=1;else{do o=i+"_"+x++;while(_[o]);_[i]=x,_[o]=1}a[k]=o}for(w=l.s.r+s;w<=l.e.r;++w)if(!(T[w]||{}).hidden){var E=HB(e,l,w,p,n,a,y,c);(E.isempty===!1||(n===1?c.blankrows!==!1:c.blankrows))&&(g[v++]=E.row)}return g.length=v,g}var U_=/"/g;function GB(e,t,r,n,s,a,i,o){for(var l=!0,c=[],u="",h=gr(r),p=t.s.c;p<=t.e.c;++p)if(n[p]){var g=o.dense?(e[r]||[])[p]:e[n[p]+h];if(g==null)u="";else if(g.v!=null){l=!1,u=""+(o.rawNumbers&&g.t=="n"?g.v:na(g,null,o));for(var v=0,x=0;v!==u.length;++v)if((x=u.charCodeAt(v))===s||x===a||x===34||o.forceQuotes){u='"'+u.replace(U_,'""')+'"';break}u=="ID"&&(u='"ID"')}else g.f!=null&&!g.F?(l=!1,u="="+g.f,u.indexOf(",")>=0&&(u='"'+u.replace(U_,'""')+'"')):u="";c.push(u)}return o.blankrows===!1&&l?null:c.join(i)}function l1(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var s=Ft(e["!ref"]),a=n.FS!==void 0?n.FS:",",i=a.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),c=new RegExp((a=="|"?"\\|":a)+"+$"),u="",h=[];n.dense=Array.isArray(e);for(var p=n.skipHidden&&e["!cols"]||[],g=n.skipHidden&&e["!rows"]||[],v=s.s.c;v<=s.e.c;++v)(p[v]||{}).hidden||(h[v]=nr(v));for(var x=0,y=s.s.r;y<=s.e.r;++y)(g[y]||{}).hidden||(u=GB(e,s,y,h,i,l,a,n),u!=null&&(n.strip&&(u=u.replace(c,"")),(u||n.blankrows!==!1)&&r.push((x++?o:"")+u)));return delete n.dense,r.join("")}function BT(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=l1(e,t);return r}function WB(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var s=Ft(e["!ref"]),a="",i=[],o,l=[],c=Array.isArray(e);for(o=s.s.c;o<=s.e.c;++o)i[o]=nr(o);for(var u=s.s.r;u<=s.e.r;++u)for(a=gr(u),o=s.s.c;o<=s.e.c;++o)if(t=i[o]+a,r=c?(e[u]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=t+"="+n}return l}function jT(e,t,r){var n=r||{},s=+!n.skipHeader,a=e||{},i=0,o=0;if(a&&n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var l=typeof n.origin=="string"?sr(n.origin):n.origin;i=l.r,o=l.c}var c,u={s:{c:0,r:0},e:{c:o,r:i+t.length-1+s}};if(a["!ref"]){var h=Ft(a["!ref"]);u.e.c=Math.max(u.e.c,h.e.c),u.e.r=Math.max(u.e.r,h.e.r),i==-1&&(i=h.e.r+1,u.e.r=i+t.length-1+s)}else i==-1&&(i=0,u.e.r=t.length-1+s);var p=n.header||[],g=0;t.forEach(function(x,y){fr(x).forEach(function(w){(g=p.indexOf(w))==-1&&(p[g=p.length]=w);var k=x[w],_="z",b="",T=ft({c:o+g,r:i+y+s});c=Jc(a,T),k&&typeof k=="object"&&!(k instanceof Date)?a[T]=k:(typeof k=="number"?_="n":typeof k=="boolean"?_="b":typeof k=="string"?_="s":k instanceof Date?(_="d",n.cellDates||(_="n",k=Nr(k)),b=n.dateNF||ot[14]):k===null&&n.nullError&&(_="e",k=0),c?(c.t=_,c.v=k,delete c.w,delete c.R,b&&(c.z=b)):a[T]=c={t:_,v:k},b&&(c.z=b))})}),u.e.c=Math.max(u.e.c,o+p.length-1);var v=gr(i);if(s)for(g=0;g<p.length;++g)a[nr(g+o)+v]={t:"s",v:p[g]};return a["!ref"]=wt(u),a}function zB(e,t){return jT(null,e,t)}function Jc(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=sr(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Jc(e,ft(t)):Jc(e,ft({r:t,c:r||0}))}function qB(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function c1(){return{SheetNames:[],Sheets:{}}}function u1(e,t,r,n){var s=1;if(!r)for(;s<=65535&&e.SheetNames.indexOf(r="Sheet"+s)!=-1;++s,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var a=r.match(/(^.*?)(\d+)$/);s=a&&+a[2]||0;var i=a&&a[1]||r;for(++s;s<=65535&&e.SheetNames.indexOf(r=i+s)!=-1;++s);}if(bT(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function KB(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=qB(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function JB(e,t){return e.z=t,e}function $T(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function YB(e,t,r){return $T(e,"#"+t,r)}function XB(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function QB(e,t,r,n){for(var s=typeof t!="string"?t:Ft(t),a=typeof t=="string"?t:wt(t),i=s.s.r;i<=s.e.r;++i)for(var o=s.s.c;o<=s.e.c;++o){var l=Jc(e,i,o);l.t="n",l.F=a,delete l.v,i==s.s.r&&o==s.s.c&&(l.f=r,n&&(l.D=!0))}return e}var Th={encode_col:nr,encode_row:gr,encode_cell:ft,encode_range:wt,decode_col:Bx,decode_row:Ux,split_cell:l5,decode_cell:sr,decode_range:An,format_cell:na,sheet_add_aoa:pE,sheet_add_json:jT,sheet_add_dom:RT,aoa_to_sheet:cl,json_to_sheet:zB,table_to_sheet:PT,table_to_book:sB,sheet_to_csv:l1,sheet_to_txt:BT,sheet_to_json:df,sheet_to_html:IT,sheet_to_formulae:WB,sheet_to_row_object_array:df,sheet_get_cell:Jc,book_new:c1,book_append_sheet:u1,book_set_sheet_visibility:KB,cell_set_number_format:JB,cell_set_hyperlink:$T,cell_set_internal_link:YB,cell_add_comment:XB,sheet_set_array_formula:QB,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function VT({title:e,icon:t,data:r,columns:n,isLoading:s,onAdd:a,onReload:i,onDelete:o,onEdit:l,onViewDetails:c,onPrint:u,onExport:h,exportName:p="Export",selectedIds:g=[],onSelect:v,filterContent:x,extraActions:y,customRowActions:w,columnVisibilityKey:k=p,userId:_,children:b,containerClassName:T}){const E=r3(),S=_??(E==null?void 0:E.id)??null,[M,F]=V.useState(!1),z=()=>{if(!r.length)return alert("    ");const B=g.length>0?r.filter(J=>g.includes(J.id)):r,fe=Th.json_to_sheet(B),we=Th.book_new();Th.book_append_sheet(we,fe,"Sheet1"),VB(we,`${p}_${Date.now()}.xlsx`)},Y=async()=>{o&&(await o(g),F(!1),v&&v([]))},U=g.length===1?r.find(B=>B.id===g[0]):null,re=d.jsxs(d.Fragment,{children:[g.length===1&&c&&U&&d.jsx("button",{onClick:()=>c(U),className:"p-2.5 bg-blue-50 text-blue-600 rounded-xl hover:bg-blue-100 transition",title:"",children:d.jsx(Ap,{className:"w-5 h-5"})}),g.length===1&&u&&U&&d.jsx("button",{onClick:()=>u(U),className:"p-2.5 bg-purple-50 text-purple-600 rounded-xl hover:bg-purple-100 transition",title:"",children:d.jsx(r0,{className:"w-5 h-5"})}),g.length===1&&l&&U&&d.jsx("button",{onClick:()=>l(U),className:"p-2.5 bg-orange-50 text-orange-600 rounded-xl hover:bg-orange-100 transition",title:"",children:d.jsx(W4,{className:"w-5 h-5"})}),g.length>0&&o&&d.jsx("button",{onClick:()=>F(!0),className:"p-2.5 bg-red-50 text-red-600 rounded-xl hover:bg-red-100 transition",title:"",children:d.jsx(hn,{className:"w-5 h-5"})}),g.length>0&&d.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"}),y,a&&d.jsx("button",{onClick:a,className:"p-2.5 bg-cyan-50 text-cyan-600 rounded-xl hover:bg-cyan-100 transition",title:"",children:d.jsx(Oa,{className:"w-5 h-5"})}),d.jsx("button",{onClick:h||z,className:"p-2.5 bg-green-50 text-green-600 rounded-xl hover:bg-green-100 transition",title:" ",children:d.jsx(Qb,{className:"w-5 h-5"})}),i&&d.jsx("button",{onClick:i,className:"p-2.5 bg-gray-50 text-gray-600 rounded-xl hover:bg-gray-100 transition",title:"",children:d.jsx(al,{className:`w-5 h-5 ${s?"animate-spin":""}`})})]});return d.jsxs("div",{className:T||"max-w-7xl mx-auto pb-20 space-y-2",children:[o&&d.jsx(XP,{isOpen:M,onClose:()=>F(!1),onConfirm:Y,title:` ${e}`,message:`   ${g.length}     `}),d.jsxs("div",{className:"flex items-center gap-2",children:[t&&d.jsx("div",{className:"bg-white dark:bg-gray-800 p-2 rounded-lg shadow-sm",children:d.jsx(t,{className:"w-6 h-6 text-primary"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:e}),d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["    ",e]})]})]}),b,d.jsx(YP,{title:"",data:r,isLoading:s,columns:n,selectedIds:g,onSelect:v,extraActions:re,filterContent:x,onEdit:l,onViewDetails:c,customRowActions:w,columnVisibilityKey:k,userId:S})]})}const Ch=(e,t)=>{var n;const r=(n=e.validation)==null?void 0:n.dependsOn;return r?String(t[r.field]??"")===String(r.equals??""):!0},td=e=>{if(!e||!String(e).includes(":"))return 0;const[t,r]=String(e).split(":").map(Number);return Number.isNaN(t)||Number.isNaN(r)?0:t*60+r},El=e=>{const t=Number(e);return Number.isNaN(t)?0:t},B_={red:"#dc2626",blue:"#2563eb",green:"#16a34a",amber:"#d97706",purple:"#9333ea",gray:"#4b5563"},ZB={clipboard:sl,factory:ou,settings:Qg,clock:iu,users:Ya,activity:Uf,package:e0,database:Ec,monitor:Qf,flask:qf,warehouse:Cc,scale:s0,shield:i0,hardhat:Yf,wrench:u0,magnet:Tc,alert:nl,layers:Pi,chart:jf,file:$a,truck:hx,flame:Pg,thermometer:lx,droplets:Ng,zap:_x,gauge:Fg,mappin:Gg,globe:Mg,phone:zg,mail:Hg,bell:$f,bookmark:gg,star:nx,heart:Og,flag:Rg,tag:ax,key:jg,lock:Vg,unlock:mx,search:Ss,filter:zf,refresh:al,download:Ag,upload:gx,printer:r0,camera:vg,image:Bg,sun:o0,moon:Zf,cloud:bg,cloudrain:kg,wind:yx,umbrella:px,building:xg,home:Ug,door:Cg,dollar:wg,banknote:hg,creditcard:Tg,piechart:t0,trending:dx,target:ix,award:Bf,trophy:fx,graduation:Jf,book:Vf,clipboardcheck:au,filecheck:Ig,folder:Kf,inbox:Xf,send:a0,message:lu,userplus:xx,usercheck:l0,userx:c0,shieldalert:Zg,siren:tx,construction:Sg,hammer:Dg,cog:Wf,cpu:Eg,wifi:vx,radio:Yg,battery:pg,plug:Jg,pipette:qg,testtube:ox,microscope:Wg,stethoscope:sx,heartpulse:Lg,bike:mg,car:yg,ship:ex,plane:Kg,rocket:Xg,tree:ux,leaf:$g,recycle:n0,snowflake:rx},ej=e=>{const t=String(e||"").trim().toLowerCase();return t?B_[t]?B_[t]:/^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(t)?t:"#800020":"#800020"},tj=e=>{const t=String(e||"").toLowerCase();return t.includes("")||t.includes("")?"border-blue-200 bg-blue-50/40 text-blue-800":t.includes("")||t.includes("")?"border-amber-200 bg-amber-50/40 text-amber-800":t.includes("")||t.includes("")?"border-purple-200 bg-purple-50/40 text-purple-800":t.includes("")||t.includes("")?"border-green-200 bg-green-50/40 text-green-800":"border-gray-200 bg-gray-50/40 text-gray-700"},Qp=({fields:e,tabs:t=[],groups:r=[],value:n,onChange:s,readOnly:a=!1,personnel:i=[],activeTabId:o,onTabChange:l,hideTabBar:c=!1})=>{var E;const u=(S,M)=>s({...n,[S]:M}),h=t.length?t:[{id:"__main__",label:"",color:"gray",icon:"clipboard"}],[p,g]=lt.useState(((E=h[0])==null?void 0:E.id)||"__main__"),[v,x]=lt.useState({present:"",leave:"",absent:""});lt.useEffect(()=>{var S;h.some(M=>M.id===p)||g(((S=h[0])==null?void 0:S.id)||"__main__")},[p,h]),lt.useEffect(()=>{o!=null&&h.some(S=>S.id===o)&&g(o)},[o,h]);const y=e.filter(S=>{var F;return(S.tabId||((F=h[0])==null?void 0:F.id)||"__main__")===p}),w=Array.from(new Set(y.map(S=>S.sectionId||"__default__"))),k=h.find(S=>S.id===p)||h[0];ej(k==null?void 0:k.color);const _=h.findIndex(S=>S.id===p),b=_>0,T=_>=0&&_<h.length-1;return d.jsxs("div",{className:"space-y-4",children:[!c&&d.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-x-auto sticky top-0 z-10",children:d.jsx("div",{className:"flex min-w-max",children:h.map(S=>{const M=S.id===p,F=ZB[S.icon||"clipboard"]||sl;return d.jsxs("button",{type:"button",onClick:()=>{g(S.id),l==null||l(S.id)},className:`flex-1 py-4 px-6 flex items-center justify-center gap-2 text-sm font-bold transition-all border-b-4 min-w-[120px]
                  ${M?"border-primary text-primary bg-primary/5":"border-transparent text-gray-500 hover:text-gray-700 dark:hover:text-gray-400"}`,children:[d.jsx(F,{className:"w-5 h-5"}),S.label]},S.id)})})}),c&&w.length===0?d.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 min-h-[200px]"}):w.map(S=>{const M=y.filter(U=>(U.sectionId||"__default__")===S);tj(S==="__default__"?"":S);const F=M.some(U=>U.groupId),z=Array.from(new Set(M.map(U=>U.groupId).filter(Boolean))),Y=M.filter(U=>!U.groupId);return d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[S!=="__default__"&&d.jsx("h3",{className:"font-bold text-lg mb-4 text-gray-700 dark:text-gray-200",children:S}),F&&z.length>0?d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:z.map(U=>{const re=r.find(L=>L.id===U),B=(re==null?void 0:re.width)===3?"md:col-span-3":(re==null?void 0:re.width)===2?"md:col-span-2":"md:col-span-1",fe=M.filter(L=>L.groupId===U),we=(re==null?void 0:re.color)||"#6b7280",J=String(we).toLowerCase(),X=J.includes("green")||J==="#22c55e"||J==="#16a34a",W=J.includes("orange")||J==="#f97316"||J==="#d97706",pe=J.includes("red")||J==="#ef4444"||J==="#dc2626",Ee=X?"bg-green-50 dark:bg-green-900/20 border-green-500 text-green-700 dark:text-green-400":W?"bg-orange-50 dark:bg-orange-900/20 border-orange-500 text-orange-700 dark:text-orange-400":pe?"bg-red-50 dark:bg-red-900/20 border-red-500 text-red-700 dark:text-red-400":"bg-gray-50 dark:bg-gray-900/20 border-gray-500 text-gray-700 dark:text-gray-400",I=X?"bg-green-50/50 dark:bg-green-900/10 border-green-200 dark:border-green-800":W?"bg-orange-50/50 dark:bg-orange-900/10 border-orange-200 dark:border-orange-800":pe?"bg-red-50/50 dark:bg-red-900/10 border-red-200 dark:border-red-800":"bg-gray-50/50 dark:bg-gray-900/10 border-gray-200 dark:border-gray-700";return d.jsxs("div",{className:`flex flex-col gap-3 ${B}`,children:[d.jsx("div",{className:`p-3 rounded-t-xl border-b-2 flex items-center justify-center gap-2 ${Ee}`,children:d.jsx("h4",{className:"font-bold text-sm text-center",children:(re==null?void 0:re.title)||U})}),d.jsx("div",{className:`flex-1 p-4 rounded-b-xl border min-h-[120px] ${I}`,children:d.jsx("div",{className:"grid grid-cols-1 gap-3",children:fe.map(L=>{var ce,ye;if(!Ch(L,n))return null;const G=n[L.key]??L.defaultValue??(L.type==="checkbox"?!1:""),q="w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary/40 transition";return d.jsxs("div",{children:[d.jsxs("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:[L.label,L.required?d.jsx("span",{className:"text-red-500",children:" *"}):""]}),L.type==="text"||L.type==="number"?d.jsx("input",{type:L.type,className:q,value:G,onChange:ge=>{var ve,H;if(L.type==="number"){const he=ge.target.value===""?"":Number(ge.target.value),D=he===""||Number.isNaN(he)?"":Math.max(((ve=L.validation)==null?void 0:ve.min)??-1/0,Math.min(((H=L.validation)==null?void 0:H.max)??1/0,he));u(L.key,D)}else u(L.key,ge.target.value)},disabled:a||L.readOnly,placeholder:L.placeholder,min:L.type==="number"?(ce=L.validation)==null?void 0:ce.min:void 0,max:L.type==="number"?(ye=L.validation)==null?void 0:ye.max:void 0}):L.type==="select"?d.jsxs("select",{className:q,value:G,onChange:ge=>u(L.key,ge.target.value),disabled:a||L.readOnly,children:[d.jsx("option",{value:"",children:"..."}),(L.options||[]).map(ge=>d.jsx("option",{value:ge.value,children:ge.label},ge.value))]}):L.type==="date"?d.jsx(Ua,{value:String(G||""),onChange:ge=>u(L.key,ge)}):L.type==="time"?d.jsx(tn,{value:String(G||""),onChange:ge=>u(L.key,ge)}):L.type==="textarea"?d.jsx("textarea",{className:`${q} min-h-[90px]`,value:G,onChange:ge=>u(L.key,ge.target.value),disabled:a||L.readOnly,placeholder:L.placeholder}):L.type==="checkbox"?d.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[d.jsx("input",{type:"checkbox",checked:!!G,onChange:ge=>u(L.key,ge.target.checked),disabled:a||L.readOnly}),d.jsx("span",{children:""})]}):d.jsx("input",{type:"text",className:q,value:G,onChange:ge=>u(L.key,ge.target.value),disabled:a||L.readOnly,placeholder:L.placeholder})]},L.id||L.key)})})})]},U)})}),Y.length>0&&d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 pt-2 border-t border-gray-200 dark:border-gray-600",children:Y.map(U=>{var J,X;if(!Ch(U,n))return null;const re=n[U.key]??U.defaultValue??(U.type==="checkbox"?!1:""),B="w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary/40 transition",fe=U.width??(U.type==="textarea"?4:2),we=fe===1?"md:col-span-1":fe===2?"md:col-span-2":fe===3?"md:col-span-3":"md:col-span-4";return d.jsxs("div",{className:we,children:[d.jsxs("label",{className:"block text-xs font-bold text-gray-500 mb-1.5",children:[U.label,U.required?d.jsx("span",{className:"text-red-500",children:" *"}):""]}),U.type==="textarea"?d.jsx("textarea",{className:`${B} min-h-[90px]`,value:re,onChange:W=>u(U.key,W.target.value),disabled:a||U.readOnly,placeholder:U.placeholder}):U.type==="select"?d.jsxs("select",{className:B,value:re,onChange:W=>u(U.key,W.target.value),disabled:a||U.readOnly,children:[d.jsx("option",{value:"",children:"..."}),(U.options||[]).map(W=>d.jsx("option",{value:W.value,children:W.label},W.value))]}):U.type==="date"?d.jsx(Ua,{value:String(re||""),onChange:W=>u(U.key,W)}):U.type==="time"?d.jsx(tn,{value:String(re||""),onChange:W=>u(U.key,W)}):U.type==="checkbox"?d.jsxs("label",{className:"inline-flex items-center gap-2 text-sm p-2 rounded-lg bg-gray-50 dark:bg-gray-700/60 border",children:[d.jsx("input",{type:"checkbox",checked:!!re,onChange:W=>u(U.key,W.target.checked),disabled:a||U.readOnly}),d.jsx("span",{children:""})]}):d.jsx("input",{type:U.type||"text",className:B,value:re,onChange:W=>{var pe,Ee;if(U.type==="number"){const I=W.target.value===""?"":Number(W.target.value),L=I===""||Number.isNaN(I)?"":Math.max(((pe=U.validation)==null?void 0:pe.min)??-1/0,Math.min(((Ee=U.validation)==null?void 0:Ee.max)??1/0,I));u(U.key,L)}else u(U.key,W.target.value)},disabled:a||U.readOnly,placeholder:U.placeholder,min:U.type==="number"?(J=U.validation)==null?void 0:J.min:void 0,max:U.type==="number"?(X=U.validation)==null?void 0:X.max:void 0})]},U.id||U.key)})})]}):(()=>{const U=S===" "&&p==="tab-1",re=U?[...M].sort((J,X)=>{const W=["shift_name","shift_type","shift_duration","weekday","report_date","supervisor_name"],pe=W.indexOf(J.key),Ee=W.indexOf(X.key);return(pe===-1?99:pe)-(Ee===-1?99:Ee)}):M,B=U?"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4 items-end":"grid grid-cols-1 md:grid-cols-4 gap-4",fe="w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary/40 transition",we=U?`${fe} h-11`:fe;return d.jsx("div",{className:B,children:re.map(J=>{var I,L,G,q,ce,ye,ge,ve,H,he,D,Ce,Ae,Ve,Pe;if(!Ch(J,n))return null;const X=n[J.key]??J.defaultValue??(J.type==="checkbox"?!1:""),W=(J.type==="select"||J.type==="text")&&U?we:fe,pe=J.width??(J.type==="textarea"?4:2),Ee=U?J.width===2||J.type==="textarea"?"md:col-span-2":"":pe===1?"md:col-span-1":pe===2?"md:col-span-2":pe===3?"md:col-span-3":"md:col-span-4";return d.jsxs("div",{className:Ee,children:[J.type!=="attendance"&&d.jsxs("label",{className:"block text-xs font-bold text-gray-500 mb-1.5",children:[J.label,J.required?d.jsx("span",{className:"text-red-500",children:" *"}):""]}),J.type==="textarea"?d.jsx("textarea",{className:`${fe} min-h-[90px]`,placeholder:J.placeholder||"",value:X,onChange:Z=>u(J.key,Z.target.value),disabled:a||J.readOnly}):J.type==="select"?d.jsxs("select",{className:W,value:X,onChange:Z=>u(J.key,Z.target.value),disabled:a||J.readOnly,children:[d.jsx("option",{value:"",children:" ..."}),(J.options||[]).map(Z=>d.jsx("option",{value:Z.value,children:Z.label},`${J.key}-${Z.value}`))]}):J.type==="checkbox"?d.jsxs("label",{className:"inline-flex items-center gap-2 text-sm p-2 rounded-lg bg-gray-50 dark:bg-gray-700/60 border border-gray-200 dark:border-gray-600",children:[d.jsx("input",{type:"checkbox",checked:!!X,onChange:Z=>u(J.key,Z.target.checked),disabled:a||J.readOnly}),d.jsx("span",{children:""})]}):J.type==="date"?d.jsx(Ua,{value:String(X||""),onChange:Z=>{const Te={...n,[J.key]:Z};if((J.key==="report_date"||J.key==="date")&&Z){const He=Ip(String(Z));He&&(Te.weekday=He)}s(Te)}}):J.type==="time"?d.jsx(tn,{value:String(X||""),onChange:Z=>u(J.key,Z)}):J.type==="repeatable_list"?d.jsxs("div",{className:"space-y-2 rounded-xl border p-2 bg-gray-50 dark:bg-gray-700/30",children:[(Array.isArray(X)?X:[""]).map((Z,Te)=>{var He;return d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-xs text-gray-400 w-5",children:Te+1}),d.jsx("input",{type:"text",className:fe,placeholder:((He=J.repeatableListConfig)==null?void 0:He.placeholder)||" ...",value:Z||"",onChange:qe=>{const je=[...Array.isArray(X)?X:[""]];je[Te]=qe.target.value,u(J.key,je)},disabled:a}),!a&&d.jsx("button",{type:"button",className:"px-2 py-1 text-xs rounded bg-red-50 text-red-600 hover:bg-red-100",onClick:()=>{const je=(Array.isArray(X)?X:[""]).filter((At,Nt)=>Nt!==Te);u(J.key,je.length?je:[""])},children:""})]},`${J.key}-${Te}`)}),!a&&d.jsx("button",{type:"button",className:"px-3 py-1.5 text-xs rounded-lg bg-blue-600 text-white",onClick:()=>{var He;const Z=Array.isArray(X)?X:[""],Te=((He=J.repeatableListConfig)==null?void 0:He.maxItems)||200;Z.length>=Te||u(J.key,[...Z,""])},children:"+  "})]}):J.type==="time_pair"?d.jsxs("div",{className:"rounded-xl border p-3 bg-gray-50 dark:bg-gray-700/30 space-y-3",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[d.jsx(tn,{label:((I=J.timePairConfig)==null?void 0:I.workLabel)||" ",value:String((X==null?void 0:X.workTime)||""),onChange:Z=>u(J.key,{...X||{},workTime:Z})}),d.jsx(tn,{label:((L=J.timePairConfig)==null?void 0:L.stopLabel)||" ",value:String((X==null?void 0:X.stopTime)||""),onChange:Z=>u(J.key,{...X||{},stopTime:Z})})]}),((G=J.timePairConfig)==null?void 0:G.requireReasonWhenStop)&&td(String((X==null?void 0:X.stopTime)||""))>0&&d.jsx("textarea",{className:`${fe} min-h-[70px]`,placeholder:((q=J.timePairConfig)==null?void 0:q.reasonLabel)||" ...",value:String((X==null?void 0:X.reason)||""),onChange:Z=>u(J.key,{...X||{},reason:Z.target.value}),disabled:a}),((ce=J.validation)==null?void 0:ce.totalMustEqualField)&&d.jsx("div",{className:"text-xs",children:(()=>{const Z=td(String(n[J.validation.totalMustEqualField]||"")),Te=td(String((X==null?void 0:X.workTime)||""))+td(String((X==null?void 0:X.stopTime)||""));return Z?Te===Z?d.jsx("span",{className:"text-green-600",children:" /     ."}):d.jsx("span",{className:"text-red-600",children:" /      ."}):d.jsx("span",{className:"text-gray-400",children:"         ."})})()})]}):J.type==="matrix"?d.jsxs("div",{className:"overflow-auto rounded-xl border bg-gray-50 dark:bg-gray-700/30 p-2 space-y-2",children:[d.jsxs("table",{className:"w-full text-xs",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-2 text-right",children:" / "}),(((ye=J.matrixConfig)==null?void 0:ye.columns)||[]).map(Z=>d.jsx("th",{className:"p-2 text-center",children:Z},`${J.key}-col-${Z}`)),((ge=J.matrixConfig)==null?void 0:ge.enforceNumeric)&&d.jsx("th",{className:"p-2 text-center",children:" "})]})}),d.jsxs("tbody",{children:[(((ve=J.matrixConfig)==null?void 0:ve.rows)||[]).map(Z=>{var Te,He,qe;return d.jsxs("tr",{className:"border-t",children:[d.jsx("td",{className:"p-2 font-bold",children:Z}),(((Te=J.matrixConfig)==null?void 0:Te.columns)||[]).map(je=>{var At,Nt;return d.jsx("td",{className:"p-1",children:d.jsx("input",{type:"text",className:"w-full p-1.5 border rounded bg-white dark:bg-gray-700",value:String(((At=X==null?void 0:X[Z])==null?void 0:At[je])??((Nt=J.matrixConfig)==null?void 0:Nt.defaultValue)??""),onChange:Be=>{const _e={...X||{}};_e[Z]={..._e[Z]||{},[je]:Be.target.value},u(J.key,_e)},disabled:a})},`${J.key}-${Z}-${je}`)}),((He=J.matrixConfig)==null?void 0:He.enforceNumeric)&&d.jsx("td",{className:"p-2 text-center font-bold text-blue-700",children:(((qe=J.matrixConfig)==null?void 0:qe.columns)||[]).reduce((je,At)=>{var Nt;return je+El((Nt=X==null?void 0:X[Z])==null?void 0:Nt[At])},0)})]},`${J.key}-row-${Z}`)}),((H=J.matrixConfig)==null?void 0:H.enforceNumeric)&&d.jsxs("tr",{className:"border-t bg-blue-50/70 dark:bg-blue-900/20",children:[d.jsx("td",{className:"p-2 font-bold",children:" "}),(((he=J.matrixConfig)==null?void 0:he.columns)||[]).map(Z=>{var Te;return d.jsx("td",{className:"p-2 text-center font-bold text-blue-700",children:(((Te=J.matrixConfig)==null?void 0:Te.rows)||[]).reduce((He,qe)=>{var je;return He+El((je=X==null?void 0:X[qe])==null?void 0:je[Z])},0)},`${J.key}-sum-${Z}`)}),d.jsx("td",{className:"p-2 text-center font-extrabold text-blue-800",children:(((D=J.matrixConfig)==null?void 0:D.rows)||[]).reduce((Z,Te)=>{var He;return Z+(((He=J.matrixConfig)==null?void 0:He.columns)||[]).reduce((qe,je)=>{var At;return qe+El((At=X==null?void 0:X[Te])==null?void 0:At[je])},0)},0)})]})]})]}),((Ce=J.matrixConfig)==null?void 0:Ce.enforceNumeric)&&((Ae=J.validation)==null?void 0:Ae.totalMustEqualField)&&d.jsx("div",{className:"text-xs",children:(()=>{var He;const Z=(((He=J.matrixConfig)==null?void 0:He.rows)||[]).reduce((qe,je)=>{var At;return qe+(((At=J.matrixConfig)==null?void 0:At.columns)||[]).reduce((Nt,Be)=>{var _e;return Nt+El((_e=X==null?void 0:X[je])==null?void 0:_e[Be])},0)},0),Te=El(n[J.validation.totalMustEqualField]);return Te?Z===Te?d.jsx("span",{className:"text-green-600",children:"      ."}):d.jsx("span",{className:"text-red-600",children:"       ."}):d.jsxs("span",{className:"text-gray-400",children:["      ",J.validation.totalMustEqualField,"   ."]})})()})]}):J.type==="attendance"?d.jsx(d.Fragment,{children:!i||i.length===0?d.jsx("p",{className:"text-[11px] text-gray-400",children:"        Runtime     ."}):(()=>{const Z=X||{},Te=Z.attendanceMap||{},He=Z.leaveTypes||{},qe=(_e,mt)=>u(J.key,{attendanceMap:_e,leaveTypes:mt}),je=i.filter(_e=>!Te[_e.id]),At=i.filter(_e=>Te[_e.id]==="PRESENT"),Nt=i.filter(_e=>Te[_e.id]==="LEAVE"),Be=i.filter(_e=>Te[_e.id]==="ABSENT");return d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-t-xl border-b-2 border-green-500 flex items-center justify-center gap-2",children:[d.jsx(Ya,{className:"w-4 h-4 text-green-700 dark:text-green-400"}),d.jsx("h4",{className:"font-bold text-green-700 dark:text-green-400 text-center text-xs",children:""})]}),d.jsxs("div",{className:"bg-green-50/50 dark:bg-green-900/10 p-3 rounded-b-xl border border-green-200 dark:border-green-800 min-h-[140px]",children:[!a&&d.jsxs("div",{className:"relative mb-3",children:[d.jsxs("div",{className:"relative",children:[d.jsx(Ss,{className:"absolute right-2.5 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"",className:"w-full pr-8 pl-2 py-2 text-xs border rounded bg-white dark:bg-gray-800 outline-none focus:ring-1 focus:ring-green-500",value:v.present,onChange:_e=>x(mt=>({...mt,present:_e.target.value}))})]}),v.present&&d.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 max-h-32 overflow-y-auto bg-white dark:bg-gray-800 border rounded shadow-lg z-10",children:[je.filter(_e=>String(_e.full_name||"").toLowerCase().includes(v.present.toLowerCase())).slice(0,8).map(_e=>d.jsx("button",{type:"button",className:"w-full text-right px-3 py-2 text-xs hover:bg-green-50 dark:hover:bg-green-900/20",onClick:()=>{const mt={...He};delete mt[_e.id],qe({...Te,[_e.id]:"PRESENT"},mt),x(er=>({...er,present:""}))},children:_e.full_name},_e.id)),je.filter(_e=>String(_e.full_name||"").toLowerCase().includes(v.present.toLowerCase())).length===0&&d.jsx("div",{className:"px-3 py-2 text-xs text-gray-400",children:"  "})]})]}),d.jsx("div",{className:"space-y-2",children:At.map(_e=>d.jsxs("div",{className:"flex justify-between items-center bg-white dark:bg-gray-800 p-2 rounded shadow-sm border-r-4 border-green-500",children:[d.jsx("span",{className:"text-xs font-medium",children:_e.full_name}),!a&&d.jsx("button",{type:"button",onClick:()=>{const mt={...Te};delete mt[_e.id];const er={...He};delete er[_e.id],qe(mt,er)},className:"text-gray-400 hover:text-red-500",children:d.jsx(hn,{className:"w-3 h-3"})})]},_e.id))})]})]}),d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsxs("div",{className:"p-3 bg-orange-50 dark:bg-orange-900/20 rounded-t-xl border-b-2 border-orange-500 flex items-center justify-center gap-2",children:[d.jsx(Hf,{className:"w-4 h-4 text-orange-700 dark:text-orange-400"}),d.jsx("h4",{className:"font-bold text-orange-700 dark:text-orange-400 text-center text-xs",children:""})]}),d.jsxs("div",{className:"bg-orange-50/50 dark:bg-orange-900/10 p-3 rounded-b-xl border border-orange-200 dark:border-orange-800 min-h-[140px]",children:[!a&&d.jsxs("div",{className:"relative mb-3",children:[d.jsxs("div",{className:"relative",children:[d.jsx(Ss,{className:"absolute right-2.5 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"",className:"w-full pr-8 pl-2 py-2 text-xs border rounded bg-white dark:bg-gray-800 outline-none focus:ring-1 focus:ring-orange-500",value:v.leave,onChange:_e=>x(mt=>({...mt,leave:_e.target.value}))})]}),v.leave&&d.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 max-h-32 overflow-y-auto bg-white dark:bg-gray-800 border rounded shadow-lg z-10",children:[je.filter(_e=>String(_e.full_name||"").toLowerCase().includes(v.leave.toLowerCase())).slice(0,8).map(_e=>d.jsx("button",{type:"button",className:"w-full text-right px-3 py-2 text-xs hover:bg-orange-50 dark:hover:bg-orange-900/20",onClick:()=>{qe({...Te,[_e.id]:"LEAVE"},He),x(mt=>({...mt,leave:""}))},children:_e.full_name},_e.id)),je.filter(_e=>String(_e.full_name||"").toLowerCase().includes(v.leave.toLowerCase())).length===0&&d.jsx("div",{className:"px-3 py-2 text-xs text-gray-400",children:"  "})]})]}),d.jsx("div",{className:"space-y-2",children:Nt.map(_e=>d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-2 rounded shadow-sm border-r-4 border-orange-500",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("span",{className:"text-xs font-medium",children:_e.full_name}),!a&&d.jsx("button",{type:"button",onClick:()=>{const mt={...Te};delete mt[_e.id];const er={...He};delete er[_e.id],qe(mt,er)},className:"text-gray-400 hover:text-red-500",children:d.jsx(hn,{className:"w-3 h-3"})})]}),!a&&d.jsxs("div",{className:"flex gap-2 text-[10px] bg-orange-50 dark:bg-orange-900/10 p-1.5 rounded",children:[d.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[d.jsx("input",{type:"radio",name:`leave-${_e.id}`,checked:He[_e.id]==="HOURLY",onChange:()=>qe(Te,{...He,[_e.id]:"HOURLY"})}),""]}),d.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[d.jsx("input",{type:"radio",name:`leave-${_e.id}`,checked:He[_e.id]==="DAILY",onChange:()=>qe(Te,{...He,[_e.id]:"DAILY"})}),""]})]})]},_e.id))})]})]}),d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 rounded-t-xl border-b-2 border-red-500 flex items-center justify-center gap-2",children:[d.jsx(nl,{className:"w-4 h-4 text-red-700 dark:text-red-400"}),d.jsx("h4",{className:"font-bold text-red-700 dark:text-red-400 text-center text-xs",children:""})]}),d.jsxs("div",{className:"bg-red-50/50 dark:bg-red-900/10 p-3 rounded-b-xl border border-red-200 dark:border-red-800 min-h-[140px]",children:[!a&&d.jsxs("div",{className:"relative mb-3",children:[d.jsxs("div",{className:"relative",children:[d.jsx(Ss,{className:"absolute right-2.5 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"",className:"w-full pr-8 pl-2 py-2 text-xs border rounded bg-white dark:bg-gray-800 outline-none focus:ring-1 focus:ring-red-500",value:v.absent,onChange:_e=>x(mt=>({...mt,absent:_e.target.value}))})]}),v.absent&&d.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 max-h-32 overflow-y-auto bg-white dark:bg-gray-800 border rounded shadow-lg z-10",children:[je.filter(_e=>String(_e.full_name||"").toLowerCase().includes(v.absent.toLowerCase())).slice(0,8).map(_e=>d.jsx("button",{type:"button",className:"w-full text-right px-3 py-2 text-xs hover:bg-red-50 dark:hover:bg-red-900/20",onClick:()=>{const mt={...He};delete mt[_e.id],qe({...Te,[_e.id]:"ABSENT"},mt),x(er=>({...er,absent:""}))},children:_e.full_name},_e.id)),je.filter(_e=>String(_e.full_name||"").toLowerCase().includes(v.absent.toLowerCase())).length===0&&d.jsx("div",{className:"px-3 py-2 text-xs text-gray-400",children:"  "})]})]}),d.jsx("div",{className:"space-y-2",children:Be.map(_e=>d.jsxs("div",{className:"flex justify-between items-center bg-white dark:bg-gray-800 p-2 rounded shadow-sm border-r-4 border-red-500",children:[d.jsx("span",{className:"text-xs font-medium",children:_e.full_name}),!a&&d.jsx("button",{type:"button",onClick:()=>{const mt={...Te};delete mt[_e.id],qe(mt,He)},className:"text-gray-400 hover:text-red-500",children:d.jsx(hn,{className:"w-3 h-3"})})]},_e.id))})]})]})]})})()}):J.key==="weekday"&&J.readOnly?d.jsx("div",{className:"w-full h-11 flex items-center justify-center px-4 py-2.5 border rounded-xl bg-gray-100 dark:bg-gray-600 text-center text-sm",children:Ip(String(n.report_date||n.date||""))||X||"-"}):J.key==="supervisor_name"&&J.readOnly?d.jsx("div",{className:"w-full h-11 flex items-center px-4 py-2.5 border rounded-xl bg-gray-100 dark:bg-gray-600 text-sm truncate",children:X||"-"}):d.jsx("input",{type:J.type==="number"?"number":"text",className:W,placeholder:J.placeholder||"",value:X,onChange:Z=>{var Te,He;if(J.type==="number"){const qe=Z.target.value===""?"":Number(Z.target.value),je=qe===""||Number.isNaN(qe)?"":Math.max(((Te=J.validation)==null?void 0:Te.min)??-1/0,Math.min(((He=J.validation)==null?void 0:He.max)??1/0,qe));u(J.key,je)}else u(J.key,Z.target.value)},disabled:a||J.readOnly,min:J.type==="number"?(Ve=J.validation)==null?void 0:Ve.min:void 0,max:J.type==="number"?(Pe=J.validation)==null?void 0:Pe.max:void 0}),J.helpText?d.jsx("p",{className:"text-[11px] text-gray-400 mt-1",children:J.helpText}):null]},J.id||J.key)})})})()]},S)}),h.length>1&&d.jsxs("div",{className:"flex items-center justify-between pt-6 border-t dark:border-gray-700 pb-4",children:[d.jsxs("button",{type:"button",disabled:!b,onClick:()=>b&&g(h[_-1].id),className:"px-6 py-3 rounded-xl border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-50 transition flex items-center gap-2 text-sm font-bold",children:[d.jsx(su,{className:"w-5 h-5"}),"  "]}),d.jsxs("button",{type:"button",disabled:!T,onClick:()=>T&&g(h[_+1].id),className:`px-8 py-3 rounded-xl shadow transition flex items-center gap-2 text-sm font-bold ${T?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:["  ",d.jsx(Gf,{className:"w-5 h-5"})]})]})]})},rj=["07:30","08:30","09:30","10:30","11:30","12:30","13:30","14:30","15:30","16:30","17:30","18:30"],nj=["19:30","20:30","21:30","22:30","23:30","00:30","01:30","02:30","03:30","04:30","05:30","06:30"],Zp=e=>e==="Night1"||e==="Night2"?nj:rj,sj=["08:00","11:00","02:00","05:00"],Ah=["","","","",""],aj=[25,30,40,50,60,70,80,90,100],vJ={Day1:"  ",Day2:"  ",Night1:"  ",Night2:"  "},j_=[{id:1,label:" ",icon:Ya},{id:2,label:"",icon:ou},{id:3,label:"",icon:Uf},{id:4,label:"",icon:Tc},{id:5,label:" ",icon:Tc},{id:6,label:" ",icon:Pi},{id:7,label:"",icon:Xb},{id:8,label:" ",icon:n0},{id:9,label:"  ",icon:K4}],$_=e=>e.toString().replace(/\d/g,t=>""[parseInt(t)]),gs=e=>{if(!e||e==="00:00")return 0;const[t,r]=e.split(":").map(Number);return t*60+r},HT=({title:e,selectedCloths:t,onChange:r})=>{const[n,s]=V.useState(!1),a=V.useRef(null);V.useEffect(()=>{const l=c=>{a.current&&!a.current.contains(c.target)&&s(!1)};return n&&document.addEventListener("mousedown",l),()=>{document.removeEventListener("mousedown",l)}},[n]);const i=(l,c)=>{const u=`D${l}-C${c}`;t.includes(u)?r(t.filter(h=>h!==u)):r([...t,u])},o=l=>{const c=Array.from({length:20}).map((h,p)=>`D${l}-C${p+1}`);if(c.every(h=>t.includes(h)))r(t.filter(h=>!c.includes(h)));else{const h=[...new Set([...t,...c])];r(h)}};return d.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-xl p-4 bg-white dark:bg-gray-800 relative",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsxs("h4",{className:"font-bold text-sm flex items-center gap-2",children:[d.jsx(Zb,{className:"w-4 h-4 text-primary"})," : ",e]}),d.jsx("button",{type:"button",onClick:()=>s(!n),className:"text-xs bg-blue-50 text-blue-600 px-3 py-1 rounded-lg hover:bg-blue-100 transition border border-blue-200",children:n?" ":"  "})]}),d.jsx("div",{className:"flex justify-between items-center text-xs text-gray-500 mb-2",children:d.jsxs("span",{children:["  : ",d.jsx("span",{className:"font-bold text-red-500 text-lg",children:t.length})," "]})}),n&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:d.jsxs("div",{ref:a,className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto flex flex-col",children:[d.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-center sticky top-0 bg-white dark:bg-gray-900 z-10",children:[d.jsxs("h3",{className:"font-bold text-lg",children:["   - ",e]}),d.jsx("button",{onClick:()=>s(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full",children:d.jsx(ki,{className:"w-5 h-5"})})]}),d.jsx("div",{className:"p-6 space-y-6",children:Array.from({length:6}).map((l,c)=>{const u=c+1,p=Array.from({length:20}).map((g,v)=>`D${u}-C${v+1}`).every(g=>t.includes(g));return d.jsxs("div",{className:"flex flex-col gap-2 border-b pb-4 last:border-0",children:[d.jsxs("div",{className:"flex justify-between items-center bg-gray-50 dark:bg-gray-800/50 p-2 rounded",children:[d.jsxs("span",{className:"text-sm font-bold text-gray-700 dark:text-gray-300",children:["  ",u]}),d.jsx("button",{type:"button",onClick:()=>o(u),className:`p-1 rounded transition ${p?"text-primary":"text-gray-400 hover:text-gray-600"}`,title:"    ",children:p?d.jsx(_g,{className:"w-6 h-6"}):d.jsx(z4,{className:"w-6 h-6"})})]}),d.jsx("div",{className:"flex flex-wrap gap-1 justify-end",children:Array.from({length:20}).map((g,v)=>{const x=v+1,y=`D${u}-C${x}`,w=t.includes(y);return d.jsx("div",{onClick:()=>i(u,x),className:`
                                    w-8 h-8 flex items-center justify-center text-[10px] rounded cursor-pointer border transition-all select-none
                                    ${w?"bg-red-600 text-white border-red-700 shadow-sm font-bold scale-105":"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 hover:border-primary text-gray-600 dark:text-gray-400"}
                                    `,title:` ${u} -  ${x}`,children:x},y)})})]},u)})}),d.jsx("div",{className:"p-4 border-t dark:border-gray-700 bg-gray-50 dark:bg-gray-800 flex justify-end sticky bottom-0",children:d.jsx("button",{onClick:()=>s(!1),className:"bg-primary text-white px-6 py-2 rounded-xl shadow hover:bg-red-800 transition",children:"  "})})]})})]})},Ki=({active:e,onClick:t,disabled:r})=>d.jsx("button",{type:"button",onClick:t,disabled:r,className:`w-10 h-10 rounded-full flex items-center justify-center transition-all shadow-sm border-2 transform active:scale-95 ${e?"bg-cyan-500 border-cyan-500 text-white shadow-cyan-200 shadow-md":"bg-white border-gray-300 text-gray-300 hover:border-gray-400"}`,title:e?"":"",children:d.jsx(j4,{className:"w-5 h-5"})}),GT=({value:e,onChange:t,disabled:r,personnel:n,attendanceMap:s,filterPresent:a=!1})=>{const i=a?(n||[]).filter(o=>s[o.id]==="PRESENT"):n||[];return d.jsxs("select",{value:e,onChange:o=>t(o.target.value),disabled:r,className:"w-full p-2 rounded text-xs border bg-white dark:bg-gray-700 outline-none",children:[d.jsx("option",{value:"",children:" ..."}),i.map(o=>d.jsx("option",{value:o.full_name,children:o.full_name},o.id))]})},ff=6;Array.from({length:ff},(e,t)=>t);const V_=e=>{const t=e&&Array.isArray(e)?[...e]:[];for(;t.length<ff;)t.push({type:"",percent:0});return t},ij=(e,t)=>{var s,a;if(t===0)return!0;let r=0;for(let i=0;i<t;i++)r+=Number(((s=e[i])==null?void 0:s.percent)||0);const n=Number(((a=e[t-1])==null?void 0:a.percent)||0);return r>0&&r<100&&n>0},oj=e=>{var s,a,i,o;let t=0;for(let l=0;l<ff;l++)if(t+=Number(((s=e[l])==null?void 0:s.percent)||0),t>=100)return l;const r=Number(((a=e[0])==null?void 0:a.percent)||0);if(r>=100||r<=0)return 0;let n=1;for(let l=1;l<ff;l++){let c=0;for(let h=0;h<l;h++)c+=Number(((i=e[h])==null?void 0:i.percent)||0);const u=Number(((o=e[l-1])==null?void 0:o.percent)||0);if(c<100&&u>0)n=l;else break}return n},lj=({production:e,feedInfo:t,isReadOnly:r,handleTonnageChange:n,handleFeedTypeChange:s,handleCustomFeedType:a,resetFeedType:i,handleFeedPercentChange:o,feedLinesActive:l,setFeedLinesActive:c,shiftType:u="Day1",dynamicFeedColumns:h=!1})=>{const p=Zp(u);return d.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm",children:["lineA","lineB"].map(g=>{const v=l[g],x=e[g]||{},y=Object.values(x).reduce((_,b)=>_+(Number(b)||0),0),w=h?Math.max(0,...p.map(_=>{var b;return oj(V_((b=t[g])==null?void 0:b[_]))})):1,k=h?Array.from({length:w+1},(_,b)=>b):[0,1];return d.jsxs("div",{className:"mb-8 p-4 border border-gray-100 dark:border-gray-700 rounded-xl bg-gray-50/50 dark:bg-gray-700/20",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("h3",{className:`font-bold text-lg ${g==="lineA"?"text-blue-600":"text-red-600"}`,children:["   ",g==="lineA"?"A":"B"]}),d.jsx(Ki,{active:v,onClick:()=>c(_=>({..._,[g]:!_[g]})),disabled:r})]}),v&&d.jsx("div",{className:"overflow-x-auto animate-fadeIn",children:d.jsxs("table",{className:"w-full text-center text-xs",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-200",children:[d.jsx("th",{className:"p-3 rounded-tr-lg",children:""}),d.jsx("th",{className:"p-3",children:""}),h?k.map((_,b)=>d.jsxs(lt.Fragment,{children:[d.jsxs("th",{className:"p-3",children:["  ",String.fromCharCode(1632+_+1)]}),d.jsx("th",{className:b===k.length-1?"p-3 rounded-tl-lg":"p-3",children:""})]},_)):d.jsxs(d.Fragment,{children:[d.jsx("th",{className:"p-3",children:"  "}),d.jsx("th",{className:"p-3",children:""}),d.jsx("th",{className:"p-3",children:"  "}),d.jsx("th",{className:"p-3 rounded-tl-lg",children:""})]})]})}),d.jsx("tbody",{className:"bg-white dark:bg-gray-800",children:p.map((_,b)=>{var re;const T=V_((re=t[g])==null?void 0:re[_]),E=T[0]||{type:"",percent:0},S=T[1]||{type:"",percent:0},M=E.percent>0&&E.percent<100,F=Ah.filter(B=>B!==E.type),z=T.reduce((B,fe)=>B+Number((fe==null?void 0:fe.percent)||0),0),Y=z>0&&z<100;if(!h)return d.jsxs("tr",{className:`border-b dark:border-gray-700 transition ${Y?"bg-amber-50 dark:bg-amber-900/20":"hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,children:[d.jsx("td",{className:"p-2 font-bold text-gray-500",children:_}),d.jsx("td",{className:"p-1",children:d.jsx("input",{type:"number",className:"w-20 p-2 text-center border rounded-lg font-bold outline-none focus:ring-2 focus:ring-primary/20 dark:bg-gray-700 dark:border-gray-600",value:e[g][_]||"",onChange:B=>n(g,_,B.target.value),disabled:r,placeholder:"0"})}),d.jsx("td",{className:"p-1",children:E.isCustom?d.jsxs("div",{className:"flex items-center gap-1 justify-center",children:[d.jsx("input",{type:"text",className:"w-24 p-2 border rounded-lg text-xs dark:bg-gray-700 dark:border-gray-600",value:E.type,onChange:B=>a(g,b,0,B.target.value),disabled:r,placeholder:"..."}),d.jsx("button",{type:"button",onClick:()=>i(g,b,0),className:"text-red-500 hover:text-red-700",children:d.jsx(ki,{className:"w-4 h-4"})})]}):d.jsxs("select",{className:"w-28 p-2 border rounded-lg outline-none bg-white dark:bg-gray-700 dark:border-gray-600",value:E.type||"",onChange:B=>s(g,b,0,B.target.value),disabled:r,children:[d.jsx("option",{value:"",children:"..."}),Ah.map(B=>d.jsx("option",{value:B,children:B},B))]})}),d.jsx("td",{className:"p-1",children:d.jsx("input",{type:"number",min:"0",max:100,className:"w-16 p-2 text-center border rounded-lg dark:bg-gray-700 dark:border-gray-600",value:E.percent||"",onChange:B=>o(g,b,0,B.target.value),disabled:r,placeholder:"%"})}),d.jsx("td",{className:"p-1",children:M?S.isCustom?d.jsxs("div",{className:"flex items-center gap-1 justify-center",children:[d.jsx("input",{type:"text",className:"w-24 p-2 border rounded-lg text-xs dark:bg-gray-700 dark:border-gray-600",value:S.type,onChange:B=>a(g,b,1,B.target.value),disabled:r,placeholder:"..."}),d.jsx("button",{type:"button",onClick:()=>i(g,b,1),className:"text-red-500 hover:text-red-700",children:d.jsx(ki,{className:"w-4 h-4"})})]}):d.jsxs("select",{className:"w-28 p-2 border rounded-lg outline-none bg-white dark:bg-gray-700 dark:border-gray-600",value:S.type||"",onChange:B=>s(g,b,1,B.target.value),disabled:r,children:[d.jsx("option",{value:"",children:"..."}),F.map(B=>d.jsx("option",{value:B,children:B},B))]}):d.jsx("span",{className:"text-gray-300",children:"-"})}),d.jsx("td",{className:"p-1",children:M?d.jsx("input",{type:"number",min:"0",max:Math.max(0,100-Number(E.percent||0)),className:"w-16 p-2 text-center border rounded-lg dark:bg-gray-700 dark:border-gray-600",value:S.percent||"",onChange:B=>o(g,b,1,B.target.value),disabled:r,placeholder:"%"}):d.jsx("span",{className:"text-gray-300",children:"-"})})]},_);const U=B=>{var we;const fe=new Set;for(let J=0;J<B;J++){const X=(we=T[J])==null?void 0:we.type;X&&fe.add(X)}return fe};return d.jsxs("tr",{className:`border-b dark:border-gray-700 transition ${Y?"bg-amber-50 dark:bg-amber-900/20":"hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,children:[d.jsx("td",{className:"p-2 font-bold text-gray-500",children:_}),d.jsx("td",{className:"p-1",children:d.jsx("input",{type:"number",className:"w-20 p-2 text-center border rounded-lg font-bold outline-none focus:ring-2 focus:ring-primary/20 dark:bg-gray-700 dark:border-gray-600",value:e[g][_]||"",onChange:B=>n(g,_,B.target.value),disabled:r,placeholder:"0"})}),k.map(B=>{var Ee;const fe=ij(T,B),we=T[B]||{type:"",percent:0},J=U(B),X=Ah.filter(I=>!J.has(I)||I===we.type);let W=0;for(let I=0;I<B;I++)W+=Number(((Ee=T[I])==null?void 0:Ee.percent)||0);const pe=Math.max(0,100-W);return d.jsxs(lt.Fragment,{children:[d.jsx("td",{className:"p-1",children:fe?we.isCustom?d.jsxs("div",{className:"flex items-center gap-1 justify-center",children:[d.jsx("input",{type:"text",className:"w-24 p-2 border rounded-lg text-xs dark:bg-gray-700 dark:border-gray-600",value:we.type,onChange:I=>a(g,b,B,I.target.value),disabled:r,placeholder:"..."}),d.jsx("button",{type:"button",onClick:()=>i(g,b,B),className:"text-red-500 hover:text-red-700",children:d.jsx(ki,{className:"w-4 h-4"})})]}):d.jsxs("select",{className:"w-28 p-2 border rounded-lg outline-none bg-white dark:bg-gray-700 dark:border-gray-600",value:we.type||"",onChange:I=>s(g,b,B,I.target.value),disabled:r,children:[d.jsx("option",{value:"",children:"..."}),X.map(I=>d.jsx("option",{value:I,children:I},I))]}):d.jsx("span",{className:"text-gray-300",children:"-"})}),d.jsx("td",{className:"p-1",children:fe?d.jsx("input",{type:"number",min:"0",max:pe,className:"w-16 p-2 text-center border rounded-lg dark:bg-gray-700 dark:border-gray-600",value:we.percent||"",onChange:I=>o(g,b,B,I.target.value),disabled:r,placeholder:"%"}):d.jsx("span",{className:"text-gray-300",children:"-"})})]},B)})]},_)})}),d.jsx("tfoot",{children:d.jsxs("tr",{className:`border-t-2 font-bold ${g==="lineA"?"bg-blue-50 border-blue-200 text-blue-800":"bg-red-50 border-red-200 text-red-800"}`,children:[d.jsx("td",{className:"p-3 text-right pr-6",children:" :"}),d.jsxs("td",{className:"p-3 text-center text-lg",children:[y.toLocaleString()," ",d.jsx("span",{className:"text-xs font-normal",children:""})]}),d.jsx("td",{colSpan:h?k.length*2:4})]})})]})})]},g)})})},cj=({ballMills:e,setBallMills:t,isReadOnly:r,handleAddBallCharge:n,handleRemoveBallCharge:s})=>d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:["lineA","lineB"].map(a=>d.jsxs("div",{className:"space-y-4",children:[d.jsxs("h3",{className:`font-bold text-center ${a==="lineA"?"text-blue-600":"text-red-600"}`,children:["  ",a==="lineA"?"A":"B"]}),["primary","secondary"].map(i=>{const o=e[a][i],l=aj.filter(c=>!o.charges.map(u=>u.size).includes(c));return d.jsxs("div",{className:"border rounded-xl p-4 bg-white dark:bg-gray-800",children:[d.jsxs("div",{className:"flex justify-between mb-3",children:[d.jsx("h4",{className:"font-bold text-sm",children:i==="primary"?"  1":"  2"}),d.jsx(Ki,{active:o.active,onClick:()=>t(c=>({...c,[a]:{...c[a],[i]:{...c[a][i],active:!o.active}}})),disabled:r})]}),o.active&&d.jsxs("div",{className:"space-y-3 animate-fadeIn",children:[d.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[d.jsx("div",{className:"text-xs font-bold text-gray-500 text-center border-b pb-1 mb-2",children:" 08:00"}),d.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"number",min:"0",placeholder:"",className:`w-full p-2 border rounded pl-6 ${Number(o.amp08)>970?"text-red-600 font-bold":""}`,value:o.amp08,onChange:c=>{t(u=>({...u,[a]:{...u[a],[i]:{...u[a][i],amp08:c.target.value}}}))},disabled:r}),d.jsx("span",{className:"absolute left-2 top-2 text-gray-400 font-bold",children:"A"})]}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"number",min:"0",placeholder:"",className:"w-full p-2 border rounded pl-10",value:o.dens08,onChange:c=>{t(u=>({...u,[a]:{...u[a],[i]:{...u[a][i],dens08:c.target.value}}}))},disabled:r}),d.jsx("span",{className:"absolute left-2 top-2 text-gray-400 font-bold",children:"Gr/Lit"})]})]})]}),d.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[d.jsx("div",{className:"text-xs font-bold text-gray-500 text-center border-b pb-1 mb-2",children:" 02:00"}),d.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"number",min:"0",placeholder:"",className:`w-full p-2 border rounded pl-6 ${Number(o.amp02)>970?"text-red-600 font-bold":""}`,value:o.amp02,onChange:c=>{t(u=>({...u,[a]:{...u[a],[i]:{...u[a][i],amp02:c.target.value}}}))},disabled:r}),d.jsx("span",{className:"absolute left-2 top-2 text-gray-400 font-bold",children:"A"})]}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"number",min:"0",placeholder:"",className:"w-full p-2 border rounded pl-10",value:o.dens02,onChange:c=>{t(u=>({...u,[a]:{...u[a],[i]:{...u[a][i],dens02:c.target.value}}}))},disabled:r}),d.jsx("span",{className:"absolute left-2 top-2 text-gray-400 font-bold",children:"Gr/Lit"})]})]})]}),d.jsxs("div",{className:"bg-gray-50 p-2 rounded text-xs mt-2",children:[d.jsx("label",{className:"block mb-1 font-bold text-gray-500",children:" "}),d.jsxs("div",{className:"flex gap-1 mb-2",children:[d.jsxs("select",{className:"flex-1 p-1 border rounded",value:o.ballSize,onChange:c=>{t(u=>({...u,[a]:{...u[a],[i]:{...u[a][i],ballSize:c.target.value}}}))},disabled:r,children:[d.jsx("option",{value:"",children:""}),l.map(c=>d.jsx("option",{value:c,children:c},c))]}),d.jsx("input",{type:"number",min:"1",className:"w-16 p-1 border rounded text-center",placeholder:"",value:o.barrelCount,onChange:c=>{t(u=>({...u,[a]:{...u[a],[i]:{...u[a][i],barrelCount:c.target.value}}}))},disabled:r}),d.jsx("button",{type:"button",onClick:()=>n(a,i),className:"bg-green-500 text-white p-1 rounded disabled:bg-gray-300",disabled:r||!o.ballSize||!o.barrelCount,children:d.jsx(Oa,{className:"w-4 h-4"})})]}),o.charges.map((c,u)=>d.jsxs("div",{className:"flex justify-between bg-white px-2 py-1 rounded mb-1 shadow-sm",children:[d.jsxs("span",{children:[" ",c.size,": ",c.count," "]}),d.jsx("button",{type:"button",onClick:()=>s(a,i,u),className:"text-red-500",disabled:r,children:d.jsx(hn,{className:"w-3 h-3"})})]},u))]})]})]},i)})]},a))}),uj=({hydrocyclones:e,setHydrocyclones:t,isReadOnly:r})=>d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:["lineA","lineB"].map(n=>d.jsxs("div",{className:"space-y-4",children:[d.jsxs("h3",{className:`font-bold text-center mb-4 ${n==="lineA"?"text-blue-600":"text-red-600"}`,children:["  ",n==="lineA"?"A":"B"]}),["primary","secondary"].map(s=>{const a=e[n][s];return d.jsxs("div",{className:"border rounded-xl p-4 bg-white dark:bg-gray-800",children:[d.jsxs("div",{className:"flex justify-between mb-3",children:[d.jsx("h4",{className:"font-bold text-sm",children:s==="primary"?" 1":" 2"}),d.jsx(Ki,{active:a.active,onClick:()=>t(i=>({...i,[n]:{...i[n],[s]:{...i[n][s],active:!a.active}}})),disabled:r})]}),a.active&&d.jsxs("div",{className:"space-y-3 animate-fadeIn",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs items-center bg-gray-50 p-2 rounded",children:[d.jsx("span",{className:"font-bold text-gray-500 col-span-2 text-center border-b pb-1 mb-1",children:" 08:00"}),d.jsx("input",{type:"number",min:"0",placeholder:" (Bar)",className:"w-full p-2 border rounded text-center",value:a.pressure08,onChange:i=>{t(o=>({...o,[n]:{...o[n],[s]:{...o[n][s],pressure08:i.target.value}}}))},disabled:r}),d.jsx("input",{type:"text",placeholder:" ",className:"w-full p-2 border rounded text-center",value:a.angle08,onChange:i=>{t(o=>({...o,[n]:{...o[n],[s]:{...o[n][s],angle08:i.target.value}}}))},disabled:r})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs items-center bg-gray-50 p-2 rounded",children:[d.jsx("span",{className:"font-bold text-gray-500 col-span-2 text-center border-b pb-1 mb-1",children:" 02:00"}),d.jsx("input",{type:"number",min:"0",placeholder:" (Bar)",className:"w-full p-2 border rounded text-center",value:a.pressure02,onChange:i=>{t(o=>({...o,[n]:{...o[n],[s]:{...o[n][s],pressure02:i.target.value}}}))},disabled:r}),d.jsx("input",{type:"text",placeholder:" ",className:"w-full p-2 border rounded text-center",value:a.angle02,onChange:i=>{t(o=>({...o,[n]:{...o[n],[s]:{...o[n][s],angle02:i.target.value}}}))},disabled:r})]}),d.jsxs("div",{className:`pt-2 rounded p-2 ${a.activeCyclones.length===0?"bg-red-50 border border-red-300":""}`,children:[d.jsx("p",{className:"text-xs font-bold text-gray-500 mb-2 text-center",children:" "}),d.jsx("div",{className:"grid grid-cols-6 md:grid-cols-12 gap-1 justify-items-center",children:Array.from({length:12},(i,o)=>o+1).map(i=>d.jsx("button",{type:"button",onClick:()=>{const l=a.activeCyclones.includes(i)?a.activeCyclones.filter(c=>c!==i):[...a.activeCyclones,i];t(c=>({...c,[n]:{...c[n],[s]:{...c[n][s],activeCyclones:l}}}))},className:`w-7 h-7 rounded-full border text-[10px] font-bold transition-all ${a.activeCyclones.includes(i)?"bg-cyan-500 text-white shadow-md transform scale-110 border-cyan-600":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,disabled:r,children:i},i))})]})]})]},s)})]},n))}),dj=({drumMagnets:e,setDrumMagnets:t,isReadOnly:r,handleVoiceInputMultiline:n})=>d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:["lineA","lineB"].map(s=>{const a=e[s];return d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[d.jsxs("div",{className:"flex justify-between mb-4",children:[d.jsxs("h3",{className:`font-bold text-center ${s==="lineA"?"text-blue-600":"text-red-600"}`,children:["    ",s==="lineA"?"A":"B"]}),d.jsx(Ki,{active:a.active,onClick:()=>t(i=>({...i,[s]:{...i[s],active:!a.active}})),disabled:r})]}),a.active&&d.jsxs("div",{className:"animate-fadeIn",children:[d.jsx("div",{className:"grid grid-cols-1 gap-3 mb-4 p-2 rounded",children:["single","upper","middle","lower"].map(i=>d.jsx("button",{type:"button",onClick:()=>t(o=>({...o,[s]:{...o[s],[i]:!o[s][i]}})),className:`p-3 rounded-lg border text-sm font-bold transition-all ${e[s][i]?"bg-cyan-500 text-white border-cyan-600 shadow-md":"bg-gray-50 text-gray-600 hover:bg-gray-100"}`,disabled:r,children:i==="single"?" ":i==="upper"?"  ":i==="middle"?"  ":"  "},i))}),d.jsxs("div",{className:"relative",children:[d.jsx("textarea",{className:"w-full p-3 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none min-h-[80px]",placeholder:"...",rows:3,value:e[s].description,onChange:i=>{const o=i.target.value;t(l=>({...l,[s]:{...l[s],description:o}}))},disabled:r}),!r&&d.jsx("button",{type:"button",className:"absolute bottom-3 left-3 p-1 rounded-full text-gray-400 hover:text-primary",onClick:()=>n(i=>t(o=>({...o,[s]:{...o[s],description:i}})),e[s].description),children:d.jsx(_d,{className:"w-5 h-5"})})]})]})]},s)})}),fj=({concentrateFilters:e,setConcentrateFilters:t,isReadOnly:r,validateDurationVsShift:n,personnel:s,attendanceMap:a})=>d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:["lineA","lineB","reserve"].map(i=>{const o=e[i],l=i==="lineA"?"   A":i==="lineB"?"   B":"  ";return d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl border",children:[d.jsxs("div",{className:"flex justify-between items-center mb-3",children:[d.jsx("h4",{className:"font-bold text-sm",children:l}),d.jsx(Ki,{active:o.active,onClick:()=>t(c=>({...c,[i]:{...c[i],active:!o.active}})),disabled:r})]}),o.active&&d.jsxs("div",{className:"animate-fadeIn space-y-3",children:[d.jsx("div",{className:o.operator?"":"border border-red-300 rounded p-1",children:d.jsx(GT,{value:o.operator,onChange:c=>t(u=>({...u,[i]:{...u[i],operator:c}})),disabled:r,personnel:s,attendanceMap:a,filterPresent:!0})}),d.jsx("div",{className:`w-full ${o.hours?"":"border border-red-300 rounded p-1"}`,children:d.jsx(tn,{label:" ",value:o.hours,onChange:c=>{n(c)?t(u=>({...u,[i]:{...u[i],hours:c}})):alert("        .")}})}),d.jsx("div",{className:"mt-2",children:d.jsx(HT,{title:l,selectedCloths:o.cloths,onChange:c=>t(u=>({...u,[i]:{...u[i],cloths:c}}))})})]})]},i)})}),hj=({thickeners:e,setThickeners:t,isReadOnly:r,handleThickenerMetaChange:n,handleThickenerDataChange:s})=>d.jsx("div",{className:"space-y-6",children:["lineA","lineB"].map(a=>d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl",children:[d.jsxs("h3",{className:`font-bold text-center mb-4 ${a==="lineA"?"text-blue-600":"text-red-600"}`,children:["  ",a==="lineA"?"A":"B"]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[0,1,2].map(i=>{const o=e[a][i];return d.jsxs("div",{className:"border rounded-xl p-4 bg-white dark:bg-gray-800 shadow-sm",children:[d.jsxs("div",{className:"flex justify-between items-center mb-3",children:[d.jsxs("h4",{className:"font-bold text-sm",children:["  ",i+1]}),d.jsx(Ki,{active:o.active,onClick:()=>n(a,i,"active",!o.active),disabled:r})]}),o.active&&d.jsxs("div",{className:"animate-fadeIn space-y-3",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[d.jsx("div",{className:o.hoursWorked?"":"border border-red-300 rounded",children:d.jsx(tn,{label:" ",value:o.hoursWorked,onChange:l=>n(a,i,"hoursWorked",l)})}),d.jsx("div",{className:o.channelOutput?"":"border border-red-300 rounded",children:d.jsx(tn,{label:"  ",value:o.channelOutput,onChange:l=>n(a,i,"channelOutput",l)})})]}),d.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-2 rounded-lg",children:[d.jsxs("div",{className:"grid grid-cols-4 gap-1 mb-2 text-center text-[10px] text-gray-500 font-bold",children:[d.jsx("div",{children:""}),d.jsx("div",{children:" (Bar)"}),d.jsx("div",{children:"  (cm)"}),d.jsx("div",{children:"  (cm)"})]}),sj.map(l=>{var c,u,h;return d.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-2 items-center",children:[d.jsx("span",{className:"font-bold bg-white dark:bg-gray-600 p-1.5 rounded text-center text-xs shadow-sm",children:l}),d.jsx("input",{type:"number",min:"0",className:"border rounded p-1.5 text-center text-xs w-full",value:((c=o.data[l])==null?void 0:c.pressure)||"",onChange:p=>s(a,i,l,"pressure",p.target.value),disabled:r}),d.jsx("input",{type:"number",min:"0",className:"border rounded p-1.5 text-center text-xs w-full",value:((u=o.data[l])==null?void 0:u.jack)||"",onChange:p=>s(a,i,l,"jack",p.target.value),disabled:r}),d.jsx("input",{type:"number",min:"0",className:"border rounded p-1.5 text-center text-xs w-full",value:((h=o.data[l])==null?void 0:h.mudLine)||"",onChange:p=>s(a,i,l,"mudLine",p.target.value),disabled:r})]},l)})]})]})]},i)})})]},a))}),pj=({recoveryFilters:e,setRecoveryFilters:t,isReadOnly:r,validateDurationVsShift:n,personnel:s,attendanceMap:a})=>d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:["lineA","lineB"].map(i=>d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl",children:[d.jsxs("h3",{className:`font-bold text-center mb-4 ${i==="lineA"?"text-blue-600":"text-red-600"}`,children:["   ",i==="lineA"?"A":"B"]}),[0,1].map(o=>{const l=e[i][o],c=`   ${o+1}`;return d.jsxs("div",{className:"bg-white dark:bg-gray-900 border rounded-xl p-4 mb-4 last:mb-0 shadow-sm",children:[d.jsxs("div",{className:"flex justify-between items-center mb-3",children:[d.jsx("h4",{className:"font-bold text-sm",children:c}),d.jsx(Ki,{active:l.active,onClick:()=>{const u=[...e[i]];u[o].active=!l.active,t(h=>({...h,[i]:u}))},disabled:r})]}),l.active&&d.jsxs("div",{className:"animate-fadeIn space-y-3",children:[d.jsx("div",{className:l.operator?"":"border border-red-300 rounded p-1",children:d.jsx(GT,{value:l.operator,onChange:u=>{const h=[...e[i]];h[o].operator=u,t(p=>({...p,[i]:h}))},disabled:r,personnel:s,attendanceMap:a,filterPresent:!0})}),d.jsx("div",{className:l.hours?"":"border border-red-300 rounded p-1",children:d.jsx(tn,{label:" ",value:l.hours,onChange:u=>{if(n(u)){const h=[...e[i]];h[o].hours=u,t(p=>({...p,[i]:h}))}else alert("        .")}})}),d.jsx("div",{className:"mt-2",children:d.jsx(HT,{title:`${c}  ${i==="lineA"?"A":"B"}`,selectedCloths:l.cloths,onChange:u=>{const h=[...e[i]];h[o].cloths=u,t(p=>({...p,[i]:h}))}})})]})]},o)})]},i))}),mj=({downtime:e,setDowntime:t,footer:r,setFooter:n,pumps:s,setPumps:a,isReadOnly:i,handleDowntimeChange:o,handleDynamicListChange:l,addDynamicRecord:c,removeDynamicRecord:u,handleVoiceInputMultiline:h,handleVoiceInputDynamic:p,shiftDuration:g})=>d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:["lineA","lineB"].map(v=>{const x=gs(e[v].workTime),y=gs(e[v].stopTime),w=gs(g||"12:00"),_=x+y===w,b=y>0;return d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm",children:[d.jsxs("h3",{className:`font-bold text-center mb-4 ${v==="lineA"?"text-blue-600":"text-red-600"}`,children:["  /   ",v==="lineA"?"A":"B"]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[d.jsx("div",{children:d.jsx(tn,{label:" ",value:e[v].workTime,onChange:T=>o(v,"workTime",T)})}),d.jsx("div",{children:d.jsx(tn,{label:" ",value:e[v].stopTime,onChange:T=>o(v,"stopTime",T)})})]}),!_&&d.jsx("div",{className:"text-red-500 text-xs text-center mb-4 font-bold animate-pulse",children:"          "}),b&&d.jsxs("div",{className:"relative animate-fadeIn",children:[d.jsx("textarea",{className:"w-full p-3 border rounded-lg bg-gray-50 dark:bg-gray-700 min-h-[80px]",placeholder:" ...",value:e[v].reason,onChange:T=>t(E=>({...E,[v]:{...E[v],reason:T.target.value}})),disabled:i}),!i&&d.jsx("button",{type:"button",className:"absolute bottom-3 left-3 p-1 rounded-full text-gray-400 hover:text-primary",onClick:()=>h(T=>t(E=>({...E,[v]:{...E[v],reason:T}})),e[v].reason),children:d.jsx(_d,{className:"w-5 h-5"})})]})]},v)})}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm",children:[d.jsx("h3",{className:"font-bold mb-6 text-center text-lg",children:"  "}),d.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("h4",{className:"text-sm font-bold mb-3 text-gray-600 dark:text-gray-300",children:" "}),d.jsx("div",{className:"flex justify-center gap-3",children:["1","2","3"].map(v=>d.jsxs("button",{type:"button",disabled:i,onClick:()=>{const x=s.process.includes(v);a(y=>({...y,process:x?y.process.filter(w=>w!==v):[...y.process,v]}))},className:`w-12 h-12 rounded-full border font-bold text-lg transition-all transform hover:scale-105 flex items-center justify-center relative ${s.process.includes(v)?"bg-cyan-600 text-white border-cyan-700 shadow-lg":"bg-gray-100 text-gray-500 border-gray-200 hover:bg-gray-200"}`,children:[d.jsx(T4,{className:"w-6 h-6"}),d.jsx("span",{className:"absolute -top-2 -right-2 bg-white text-black text-[10px] w-5 h-5 rounded-full border flex items-center justify-center font-bold",children:v})]},v))})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("h4",{className:"text-sm font-bold mb-3 text-gray-600 dark:text-gray-300",children:"  "}),d.jsx("div",{className:"flex justify-center gap-3",children:["1","2","3"].map(v=>d.jsxs("button",{type:"button",disabled:i,onClick:()=>{const x=s.cleanWater.includes(v);a(y=>({...y,cleanWater:x?y.cleanWater.filter(w=>w!==v):[...y.cleanWater,v]}))},className:`w-12 h-12 rounded-full border font-bold text-lg transition-all transform hover:scale-105 flex items-center justify-center relative ${s.cleanWater.includes(v)?"bg-cyan-400 text-white border-cyan-500 shadow-lg":"bg-gray-100 text-gray-500 border-gray-200 hover:bg-gray-200"}`,children:[d.jsx(Xb,{className:"w-6 h-6"}),d.jsx("span",{className:"absolute -top-2 -right-2 bg-white text-black text-[10px] w-5 h-5 rounded-full border flex items-center justify-center font-bold",children:v})]},v))})]})]})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"font-bold text-lg",children:" "}),!i&&d.jsx("button",{type:"button",onClick:()=>c("downtime"),disabled:e.generalDescription.length>0&&!e.generalDescription[e.generalDescription.length-1].trim(),className:`bg-blue-600 text-white w-8 h-8 rounded-full flex items-center justify-center transition ${e.generalDescription.length>0&&!e.generalDescription[e.generalDescription.length-1].trim()?"opacity-50 cursor-not-allowed":"hover:bg-blue-700"}`,children:d.jsx(Oa,{className:"w-5 h-5"})})]}),e.generalDescription.map((v,x)=>d.jsxs("div",{className:"flex gap-2 mb-3",children:[d.jsxs("span",{className:"font-bold text-gray-400 w-6 pt-2",children:[$_(x+1),"."]}),d.jsxs("div",{className:"relative flex-1",children:[d.jsx("textarea",{value:v,onChange:y=>l("downtime",x,y.target.value),className:"w-full p-3 border rounded-xl bg-gray-50 dark:bg-gray-700 min-h-[60px]",disabled:i}),!i&&d.jsx("button",{type:"button",className:"absolute bottom-3 left-3 p-1 rounded-full text-gray-400 hover:text-primary",onClick:()=>p("downtime",x),children:d.jsx(_d,{className:"w-4 h-4"})})]}),!i&&d.jsx("button",{type:"button",onClick:()=>u("downtime",x),className:"text-red-500 self-center hover:bg-red-50 p-2 rounded-full",children:d.jsx(hn,{className:"w-5 h-5"})})]},x))]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"font-bold text-lg",children:"   "}),!i&&d.jsx("button",{type:"button",onClick:()=>c("footer"),disabled:r.nextShiftActions.length>0&&!r.nextShiftActions[r.nextShiftActions.length-1].trim(),className:`bg-green-600 text-white w-8 h-8 rounded-full flex items-center justify-center transition ${r.nextShiftActions.length>0&&!r.nextShiftActions[r.nextShiftActions.length-1].trim()?"opacity-50 cursor-not-allowed":"hover:bg-green-700"}`,children:d.jsx(Oa,{className:"w-5 h-5"})})]}),r.nextShiftActions.map((v,x)=>d.jsxs("div",{className:"flex gap-2 mb-3",children:[d.jsxs("span",{className:"font-bold text-gray-400 w-6 pt-2",children:[$_(x+1),"."]}),d.jsxs("div",{className:"relative flex-1",children:[d.jsx("textarea",{value:v,onChange:y=>l("footer",x,y.target.value),className:"w-full p-3 border rounded-xl bg-gray-50 dark:bg-gray-700 min-h-[60px]",disabled:i}),!i&&d.jsx("button",{type:"button",className:"absolute bottom-3 left-3 p-1 rounded-full text-gray-400 hover:text-primary",onClick:()=>p("footer",x),children:d.jsx(_d,{className:"w-4 h-4"})})]}),!i&&d.jsx("button",{type:"button",onClick:()=>u("footer",x),className:"text-red-500 self-center hover:bg-red-50 p-2 rounded-full",children:d.jsx(hn,{className:"w-5 h-5"})})]},x))]})]}),gj=e=>{const t=es(e);return t?["","","","","","",""][t.getDay()]:""},xj=()=>({lineA:{},lineB:{}}),vj=()=>({lineA:{primary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",ballSize:"",barrelCount:"",charges:[]},secondary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",ballSize:"",barrelCount:"",charges:[]}},lineB:{primary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",ballSize:"",barrelCount:"",charges:[]},secondary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",ballSize:"",barrelCount:"",charges:[]}}}),yj=()=>({lineA:{primary:{active:!1,activeCyclones:[],pressure08:"",angle08:"",pressure02:"",angle02:""},secondary:{active:!1,activeCyclones:[],pressure08:"",angle08:"",pressure02:"",angle02:""}},lineB:{primary:{active:!1,activeCyclones:[],pressure08:"",angle08:"",pressure02:"",angle02:""},secondary:{active:!1,activeCyclones:[],pressure08:"",angle08:"",pressure02:"",angle02:""}}}),_j=()=>({lineA:{active:!1,single:!1,upper:!1,middle:!1,lower:!1,description:""},lineB:{active:!1,single:!1,upper:!1,middle:!1,lower:!1,description:""}}),wj=()=>({lineA:{active:!1,operator:"",hours:"",cloths:[]},lineB:{active:!1,operator:"",hours:"",cloths:[]},reserve:{active:!1,operator:"",hours:"",cloths:[]}}),kj=()=>({lineA:[{active:!1,hoursWorked:"",channelOutput:"",description:"",data:{}},{active:!1,hoursWorked:"",channelOutput:"",description:"",data:{}},{active:!1,hoursWorked:"",channelOutput:"",description:"",data:{}}],lineB:[{active:!1,hoursWorked:"",channelOutput:"",description:"",data:{}},{active:!1,hoursWorked:"",channelOutput:"",description:"",data:{}},{active:!1,hoursWorked:"",channelOutput:"",description:"",data:{}}]}),bj=()=>({lineA:[{active:!1,operator:"",hours:"",cloths:[]},{active:!1,operator:"",hours:"",cloths:[]}],lineB:[{active:!1,operator:"",hours:"",cloths:[]},{active:!1,operator:"",hours:"",cloths:[]}]}),Sj={clipboard:sl,clipboardcheck:au,file:$a,filecheck:Ig,folder:Kf,book:Vf,inbox:Xf,layers:Pi,tag:ax,bookmark:gg,users:Ya,userplus:xx,usercheck:l0,userx:c0,graduation:Jf,factory:ou,warehouse:Cc,construction:Sg,hardhat:Yf,hammer:Dg,wrench:u0,cog:Wf,building:xg,home:Ug,door:Cg,flame:Pg,thermometer:lx,droplets:Ng,zap:_x,gauge:Fg,plug:Jg,battery:pg,sun:o0,moon:Zf,cloud:bg,cloudrain:kg,wind:yx,umbrella:px,snowflake:rx,tree:ux,leaf:$g,recycle:n0,flask:qf,pipette:qg,testtube:ox,microscope:Wg,stethoscope:sx,heartpulse:Lg,activity:Uf,database:Ec,monitor:Qf,cpu:Eg,wifi:vx,radio:Yg,truck:hx,car:yg,bike:mg,ship:ex,plane:Kg,rocket:Xg,dollar:wg,banknote:hg,creditcard:Tg,chart:jf,piechart:t0,trending:dx,target:ix,phone:zg,mail:Hg,send:a0,message:lu,bell:$f,shield:i0,shieldalert:Zg,lock:Vg,unlock:mx,key:jg,alert:nl,siren:tx,search:Ss,filter:zf,refresh:al,download:Ag,upload:gx,printer:r0,camera:vg,image:Bg,clock:iu,settings:Qg,package:e0,scale:s0,mappin:Gg,globe:Mg,star:nx,heart:Og,flag:Rg,award:Bf,trophy:fx,magnet:Tc},em=({embed:e=!1,readOnly:t=!1,personnel:r=[],showNavButtons:n=!0,showSubmitButton:s=!1,onSubmit:a,onBack:i,initialValue:o,dynamicFeedColumns:l=!1,customBoxes:c=[],customBoxValue:u={},onCustomBoxChange:h,onPreviewTabChange:p,visibleTools:g={},controlledActiveTab:v,designTabs:x,renderCustomTabContent:y,onFullStateChange:w})=>{var Rs,hr,us,ha,Yi,pa;const k=le=>g[le]!==!1,_=r.map(le=>({id:le.id,full_name:le.full_name??le.fullName??""})),[b,T]=V.useState(1),E=v??b,S=le=>{v==null&&T(le),p==null||p(le)};V.useEffect(()=>{v!=null&&T(v)},[v]);const[M,F]=V.useState({name:((Rs=o==null?void 0:o.shiftInfo)==null?void 0:Rs.name)??"A",type:((hr=o==null?void 0:o.shiftInfo)==null?void 0:hr.type)??"Day1",date:((us=o==null?void 0:o.shiftInfo)==null?void 0:us.date)??Tn(),shiftDuration:((ha=o==null?void 0:o.shiftInfo)==null?void 0:ha.shiftDuration)??"12:00",supervisor:((Yi=o==null?void 0:o.shiftInfo)==null?void 0:Yi.supervisor)??"",supervisorName:((pa=o==null?void 0:o.shiftInfo)==null?void 0:pa.supervisorName)??""}),[z,Y]=V.useState((o==null?void 0:o.attendanceMap)??{}),[U,re]=V.useState((o==null?void 0:o.leaveTypes)??{}),[B,fe]=V.useState({present:"",leave:"",absent:""}),[we,J]=V.useState((o==null?void 0:o.production)??{lineA:{},lineB:{}}),[X,W]=V.useState((o==null?void 0:o.feedInfo)??xj()),[pe,Ee]=V.useState((o==null?void 0:o.feedLinesActive)??{lineA:!0,lineB:!0}),[I,L]=V.useState((o==null?void 0:o.ballMills)??vj()),[G,q]=V.useState((o==null?void 0:o.hydrocyclones)??yj()),[ce,ye]=V.useState((o==null?void 0:o.drumMagnets)??_j()),[ge,ve]=V.useState((o==null?void 0:o.concentrateFilters)??wj()),[H,he]=V.useState((o==null?void 0:o.thickeners)??kj()),[D,Ce]=V.useState((o==null?void 0:o.recoveryFilters)??bj()),[Ae,Ve]=V.useState((o==null?void 0:o.pumps)??{process:[],cleanWater:[]}),[Pe,Z]=V.useState((o==null?void 0:o.downtime)??{lineA:{workTime:"",stopTime:"",reason:""},lineB:{workTime:"",stopTime:"",reason:""},generalDescription:[""]}),[Te,He]=V.useState((o==null?void 0:o.footer)??{nextShiftActions:[""]}),qe=V.useRef(u);qe.current=u,V.useEffect(()=>{if(!w)return;const le={shiftInfo:M,attendanceMap:z,leaveTypes:U,production:we,feedInfo:X,feedLinesActive:pe,ballMills:I,hydrocyclones:G,drumMagnets:ce,concentrateFilters:ge,thickeners:H,recoveryFilters:D,pumps:Ae,downtime:Pe,footer:Te};w({...qe.current,...le})},[w,M,z,U,we,X,pe,I,G,ce,ge,H,D,Ae,Pe,Te]);const je=Zp(M.type),At=(le,Me,Ze)=>{if(t)return;const st=Number(Ze);if(st<0)return;const C=je.indexOf(Me);if(C<0){J(P=>({...P,[le]:{...P[le],[Me]:st}}));return}J(P=>{const A={...P[le]};for(let R=C;R<je.length;R++){const O=je[R];O&&(A[O]=st)}return{...P,[le]:A}})},Nt=(le,Me)=>{const Ze=[...le||[{type:"",percent:0}]];for(;Ze.length<=Me;)Ze.push({type:"",percent:0});return Ze},Be=(le,Me,Ze,st)=>{if(t)return;const C=je[Me];C&&W(P=>{const A={...P[le]},O=Nt(A[C],Ze).map((ee,se)=>se===Ze?{...ee,type:st,isCustom:!1}:{...ee}),N=()=>O.map(ee=>({...ee}));for(let ee=Me;ee<je.length;ee++){const se=je[ee];se&&(A[se]=N())}return{...P,[le]:A}})},_e=(le,Me,Ze,st)=>{if(t)return;const C=je[Me];C&&W(P=>{const A={...P[le]},O=Nt(A[C],Ze).map((ee,se)=>se===Ze?{...ee,type:st,isCustom:!0}:{...ee}),N=()=>O.map(ee=>({...ee}));for(let ee=Me;ee<je.length;ee++){const se=je[ee];se&&(A[se]=N())}return{...P,[le]:A}})},mt=(le,Me,Ze)=>{if(t)return;const st=je[Me];st&&W(C=>{const P={...C[le]},R=Nt(P[st],Ze).map((N,ee)=>ee===Ze?{type:"",percent:0,isCustom:!1}:{...N}),O=()=>R.map(N=>({...N}));for(let N=Me;N<je.length;N++){const ee=je[N];ee&&(P[ee]=O())}return{...C,[le]:P}})},er=(le,Me,Ze,st)=>{if(t)return;const C=je[Me];C&&W(P=>{var ue;const A={...P[le]},R=Nt(A[C],Ze);let O=0;for(let ae=0;ae<Ze;ae++)O+=Number(((ue=R[ae])==null?void 0:ue.percent)||0);const N=Math.max(0,100-O),ee=Math.max(0,Math.min(N,Number(st)||0)),se=R.map((ae,Se)=>Se===Ze?{...ae,percent:ee}:{...ae}),ne=()=>se.map(ae=>({...ae}));for(let ae=Me;ae<je.length;ae++){const Se=je[ae];Se&&(A[Se]=ne())}return{...P,[le]:A}})},Lt=(le,Me)=>{if(t)return;const Ze=I[le][Me],st=Number(Ze.ballSize),C=Number(Ze.barrelCount);!st||!C||L(P=>({...P,[le]:{...P[le],[Me]:{...P[le][Me],charges:[...P[le][Me].charges,{size:st,count:C}],ballSize:"",barrelCount:""}}}))},Ir=(le,Me,Ze)=>{t||L(st=>({...st,[le]:{...st[le],[Me]:{...st[le][Me],charges:st[le][Me].charges.filter((C,P)=>P!==Ze)}}}))},ct=le=>{const Me=gs(le),Ze=gs(M.shiftDuration);return Me<=Ze},Xe=(le,Me)=>Y(Ze=>({...Ze,[le]:Me})),gt=le=>Y(Me=>{const Ze={...Me};return delete Ze[le],Ze}),yt=(le,Me,Ze,st)=>he(C=>{const P=[...C[le]];return P[Me]={...P[Me],[Ze]:st},{...C,[le]:P}}),Gt=(le,Me,Ze,st,C)=>he(P=>{const A=[...P[le]],R=A[Me].data[Ze]||{};return A[Me].data={...A[Me].data,[Ze]:{...R,[st]:C}},{...P,[le]:A}}),de=()=>{},Le=()=>{},Qe=(le,Me,Ze)=>Z(st=>({...st,[le]:{...st[le],[Me]:Ze}})),at=(le,Me,Ze)=>{le==="downtime"?Z(st=>({...st,generalDescription:[...st.generalDescription].map((C,P)=>P===Me?Ze:C)})):He(st=>({...st,nextShiftActions:[...st.nextShiftActions].map((C,P)=>P===Me?Ze:C)}))},bt=le=>{le==="downtime"?Z(Me=>({...Me,generalDescription:[...Me.generalDescription,""]})):He(Me=>({...Me,nextShiftActions:[...Me.nextShiftActions,""]}))},Rr=(le,Me)=>{le==="downtime"?Z(Ze=>({...Ze,generalDescription:Ze.generalDescription.filter((st,C)=>C!==Me)})):He(Ze=>({...Ze,nextShiftActions:Ze.nextShiftActions.filter((st,C)=>C!==Me)}))},ls=gs(M.shiftDuration),Ur=gs(Pe.lineA.workTime)+gs(Pe.lineA.stopTime),cs=gs(Pe.lineB.workTime)+gs(Pe.lineB.stopTime),ti=Ur===ls&&cs===ls,fa=le=>{if(t)return!0;if(le===2){const Me=Zp(M.type);for(const Ze of["lineA","lineB"]){if(!pe[Ze])continue;const st=X[Ze]||{};for(const C of Me){const P=st[C];if((P&&Array.isArray(P)?P:[]).reduce((R,O)=>R+Number((O==null?void 0:O.percent)||0),0)!==100)return!1}}}return!0};return d.jsxs("div",{className:e?"":"max-w-7xl mx-auto pb-24",children:[!e&&d.jsxs("div",{className:"flex justify-between items-center mb-6 sticky top-0 bg-gray-50 dark:bg-gray-900 z-20 py-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(au,{className:"w-8 h-8 text-primary"}),d.jsx("h1",{className:"text-2xl font-bold",children:"   "})]}),i&&d.jsx("button",{onClick:i,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full",children:""})]}),d.jsx("div",{className:`bg-white dark:bg-gray-800 rounded-xl shadow-sm mb-6 sticky z-10 border border-gray-200 dark:border-gray-700 overflow-x-auto ${e?"top-0":"top-16"}`,children:d.jsx("div",{className:"flex min-w-max",children:x&&x.length>=9?x.map((le,Me)=>{const Ze=Me+1,C=Sj[le.icon||(le.id==="tab-4"?"":"clipboard")]||(le.id==="tab-4"?j_[3].icon:sl),P=E===Ze,A=le.color&&/^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(le.color)?le.color:void 0;return d.jsxs("button",{type:"button",onClick:()=>S(Ze),className:`flex-1 py-4 px-6 flex items-center justify-center gap-2 text-sm font-bold transition-all border-b-4 min-w-[100px]
                      ${P&&A?"":P?"border-primary text-primary bg-primary/5":"border-transparent text-gray-500 hover:text-gray-700 dark:hover:text-gray-400"}`,style:P&&A?{borderBottomColor:A,color:A,backgroundColor:`${A}15`}:void 0,children:[d.jsx(C,{className:"w-5 h-5 shrink-0"})," ",le.label]},le.id)}):j_.map(le=>d.jsxs("button",{type:"button",onClick:()=>S(le.id),className:`flex-1 py-4 px-6 flex items-center justify-center gap-2 text-sm font-bold transition-all border-b-4 min-w-[100px]
                    ${E===le.id?"border-primary text-primary bg-primary/5":"border-transparent text-gray-500 hover:text-gray-700 dark:hover:text-gray-400"}`,children:[d.jsx(le.icon,{className:"w-5 h-5"})," ",le.label]},le.id))})}),d.jsxs("form",{className:"space-y-6",onSubmit:le=>{le.preventDefault(),a==null||a()},children:[E===1&&d.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[d.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4 items-end",children:[k("shift")&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold mb-1",children:""}),d.jsx("select",{disabled:t,value:M.name,onChange:le=>F({...M,name:le.target.value}),className:"w-full p-2.5 border rounded-xl dark:bg-gray-700 outline-none text-sm disabled:opacity-60",children:["A","B","C"].map(le=>d.jsxs("option",{value:le,children:[" ",le]},le))})]}),k("shiftType")&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold mb-1",children:" "}),d.jsxs("select",{disabled:t,value:M.type,onChange:le=>F({...M,type:le.target.value}),className:"w-full p-2.5 border rounded-xl dark:bg-gray-700 outline-none text-sm disabled:opacity-60",children:[d.jsx("option",{value:"Day1",children:"  "}),d.jsx("option",{value:"Day2",children:"  "}),d.jsx("option",{value:"Night1",children:"  "}),d.jsx("option",{value:"Night2",children:"  "})]})]}),k("shiftDuration")&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-black mb-1.5 text-gray-800 dark:text-white",children:" "}),d.jsx(tn,{value:M.shiftDuration,onChange:le=>!t&&F({...M,shiftDuration:le})})]}),k("weekday")&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold mb-1",children:" "}),d.jsx("div",{className:"w-full p-2.5 border rounded-xl bg-gray-100 dark:bg-gray-600 text-center text-sm",children:gj(M.date)})]}),k("date")&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-black mb-1.5 text-gray-800 dark:text-white",children:""}),d.jsx(Ua,{value:M.date,onChange:le=>!t&&F({...M,date:le})})]}),k("supervisor")&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold mb-1",children:" "}),d.jsx("div",{className:"w-full p-2.5 border rounded-xl bg-gray-100 dark:bg-gray-600 truncate text-sm",children:M.supervisorName||""})]})]})}),k("attendance")&&d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm",children:[d.jsx("h3",{className:"font-bold text-lg mb-4 text-gray-700 dark:text-gray-200",children:"    "}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-t-xl border-b-2 border-green-500 flex items-center justify-center gap-2",children:[d.jsx(l0,{className:"w-5 h-5 text-green-700 dark:text-green-400"}),d.jsx("h4",{className:"font-bold text-green-700 dark:text-green-400 text-center",children:""})]}),d.jsxs("div",{className:"bg-green-50/50 dark:bg-green-900/10 p-3 rounded-b-xl border border-green-200 dark:border-green-800 min-h-[200px]",children:[!t&&d.jsxs("div",{className:"relative mb-3",children:[d.jsxs("div",{className:"relative",children:[d.jsx(Ss,{className:"absolute right-2.5 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"",className:"w-full pr-8 pl-2 py-2 text-sm border rounded bg-white dark:bg-gray-800 outline-none focus:ring-1 focus:ring-green-500",value:B.present,onChange:le=>fe(Me=>({...Me,present:le.target.value}))})]}),B.present&&d.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 max-h-40 overflow-y-auto bg-white dark:bg-gray-800 border rounded shadow-lg z-10",children:[_.filter(le=>!z[le.id]&&String(le.full_name||"").toLowerCase().includes(B.present.toLowerCase())).slice(0,10).map(le=>d.jsx("button",{type:"button",className:"w-full text-right px-3 py-2 text-sm hover:bg-green-50 dark:hover:bg-green-900/20",onClick:()=>{Xe(le.id,"PRESENT"),fe(Me=>({...Me,present:""}))},children:le.full_name},le.id)),_.filter(le=>!z[le.id]&&String(le.full_name||"").toLowerCase().includes(B.present.toLowerCase())).length===0&&d.jsx("div",{className:"px-3 py-2 text-sm text-gray-400",children:"  "})]})]}),d.jsx("div",{className:"space-y-2",children:_.filter(le=>z[le.id]==="PRESENT").map(le=>d.jsxs("div",{className:"flex justify-between items-center bg-white dark:bg-gray-800 p-2 rounded shadow-sm border-r-4 border-green-500",children:[d.jsx("span",{className:"text-sm font-medium",children:le.full_name}),!t&&d.jsx("button",{type:"button",onClick:()=>gt(le.id),className:"text-gray-400 hover:text-red-500",children:d.jsx(hn,{className:"w-4 h-4"})})]},le.id))})]})]}),d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsxs("div",{className:"p-3 bg-orange-50 dark:bg-orange-900/20 rounded-t-xl border-b-2 border-orange-500 flex items-center justify-center gap-2",children:[d.jsx(y4,{className:"w-5 h-5 text-orange-700 dark:text-orange-400"}),d.jsx("h4",{className:"font-bold text-orange-700 dark:text-orange-400 text-center",children:""})]}),d.jsxs("div",{className:"bg-orange-50/50 dark:bg-orange-900/10 p-3 rounded-b-xl border border-orange-200 dark:border-orange-800 min-h-[200px]",children:[!t&&d.jsxs("div",{className:"relative mb-3",children:[d.jsxs("div",{className:"relative",children:[d.jsx(Ss,{className:"absolute right-2.5 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"",className:"w-full pr-8 pl-2 py-2 text-sm border rounded bg-white dark:bg-gray-800 outline-none focus:ring-1 focus:ring-orange-500",value:B.leave,onChange:le=>fe(Me=>({...Me,leave:le.target.value}))})]}),B.leave&&d.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 max-h-40 overflow-y-auto bg-white dark:bg-gray-800 border rounded shadow-lg z-10",children:[_.filter(le=>!z[le.id]&&String(le.full_name||"").toLowerCase().includes(B.leave.toLowerCase())).slice(0,10).map(le=>d.jsx("button",{type:"button",className:"w-full text-right px-3 py-2 text-sm hover:bg-orange-50 dark:hover:bg-orange-900/20",onClick:()=>{Xe(le.id,"LEAVE"),fe(Me=>({...Me,leave:""}))},children:le.full_name},le.id)),_.filter(le=>!z[le.id]&&String(le.full_name||"").toLowerCase().includes(B.leave.toLowerCase())).length===0&&d.jsx("div",{className:"px-3 py-2 text-sm text-gray-400",children:"  "})]})]}),d.jsx("div",{className:"space-y-2",children:_.filter(le=>z[le.id]==="LEAVE").map(le=>d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-2 rounded shadow-sm border-r-4 border-orange-500",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("span",{className:"text-sm font-medium",children:le.full_name}),!t&&d.jsx("button",{type:"button",onClick:()=>gt(le.id),className:"text-gray-400 hover:text-red-500",children:d.jsx(hn,{className:"w-4 h-4"})})]}),d.jsxs("div",{className:"flex gap-2 text-xs bg-orange-50 dark:bg-orange-900/10 p-1.5 rounded",children:[d.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[d.jsx("input",{type:"radio",name:`leave-${le.id}`,checked:U[le.id]==="HOURLY",onChange:()=>re(Me=>({...Me,[le.id]:"HOURLY"})),disabled:t})," "]}),d.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[d.jsx("input",{type:"radio",name:`leave-${le.id}`,checked:U[le.id]==="DAILY",onChange:()=>re(Me=>({...Me,[le.id]:"DAILY"})),disabled:t})," "]})]})]},le.id))})]})]}),d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 rounded-t-xl border-b-2 border-red-500 flex items-center justify-center gap-2",children:[d.jsx(c0,{className:"w-5 h-5 text-red-700 dark:text-red-400"}),d.jsx("h4",{className:"font-bold text-red-700 dark:text-red-400 text-center",children:""})]}),d.jsxs("div",{className:"bg-red-50/50 dark:bg-red-900/10 p-3 rounded-b-xl border border-red-200 dark:border-red-800 min-h-[200px]",children:[!t&&d.jsxs("div",{className:"relative mb-3",children:[d.jsxs("div",{className:"relative",children:[d.jsx(Ss,{className:"absolute right-2.5 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"",className:"w-full pr-8 pl-2 py-2 text-sm border rounded bg-white dark:bg-gray-800 outline-none focus:ring-1 focus:ring-red-500",value:B.absent,onChange:le=>fe(Me=>({...Me,absent:le.target.value}))})]}),B.absent&&d.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 max-h-40 overflow-y-auto bg-white dark:bg-gray-800 border rounded shadow-lg z-10",children:[_.filter(le=>!z[le.id]&&String(le.full_name||"").toLowerCase().includes(B.absent.toLowerCase())).slice(0,10).map(le=>d.jsx("button",{type:"button",className:"w-full text-right px-3 py-2 text-sm hover:bg-red-50 dark:hover:bg-red-900/20",onClick:()=>{Xe(le.id,"ABSENT"),fe(Me=>({...Me,absent:""}))},children:le.full_name},le.id)),_.filter(le=>!z[le.id]&&String(le.full_name||"").toLowerCase().includes(B.absent.toLowerCase())).length===0&&d.jsx("div",{className:"px-3 py-2 text-sm text-gray-400",children:"  "})]})]}),d.jsx("div",{className:"space-y-2",children:_.filter(le=>z[le.id]==="ABSENT").map(le=>d.jsxs("div",{className:"flex justify-between items-center bg-white dark:bg-gray-800 p-2 rounded shadow-sm border-r-4 border-red-500",children:[d.jsx("span",{className:"text-sm font-medium",children:le.full_name}),!t&&d.jsx("button",{type:"button",onClick:()=>gt(le.id),className:"text-gray-400 hover:text-red-500",children:d.jsx(hn,{className:"w-4 h-4"})})]},le.id))})]})]})]})]})]}),E===2&&d.jsx(lj,{production:we,feedInfo:X,isReadOnly:t,handleTonnageChange:At,handleFeedTypeChange:Be,handleCustomFeedType:_e,resetFeedType:mt,handleFeedPercentChange:er,feedLinesActive:pe,setFeedLinesActive:Ee,shiftType:M.type,dynamicFeedColumns:l}),E===3&&d.jsx(cj,{ballMills:I,setBallMills:L,isReadOnly:t,handleAddBallCharge:Lt,handleRemoveBallCharge:Ir}),E===4&&d.jsx(uj,{hydrocyclones:G,setHydrocyclones:q,isReadOnly:t}),E===5&&d.jsx(dj,{drumMagnets:ce,setDrumMagnets:ye,isReadOnly:t,handleVoiceInputMultiline:de}),E===6&&d.jsx(fj,{concentrateFilters:ge,setConcentrateFilters:ve,isReadOnly:t,validateDurationVsShift:ct,personnel:_,attendanceMap:z}),E===7&&d.jsx(hj,{thickeners:H,setThickeners:he,isReadOnly:t,handleThickenerMetaChange:yt,handleThickenerDataChange:Gt}),E===8&&d.jsx(pj,{recoveryFilters:D,setRecoveryFilters:Ce,isReadOnly:t,validateDurationVsShift:ct,personnel:_,attendanceMap:z}),E===9&&d.jsx(mj,{downtime:Pe,setDowntime:Z,footer:Te,setFooter:He,pumps:Ae,setPumps:Ve,isReadOnly:t,handleDowntimeChange:Qe,handleDynamicListChange:at,addDynamicRecord:bt,removeDynamicRecord:Rr,handleVoiceInputMultiline:de,handleVoiceInputDynamic:Le,shiftDuration:M.shiftDuration}),E>9&&(x==null?void 0:x[E-1])&&(()=>{const le=x[E-1].id;return c.filter(Ze=>(Ze.tabId||"tab-1")===le).length>0?null:d.jsx("div",{className:"space-y-6 animate-fadeIn",children:d.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 min-h-[200px]"})})})(),c.length>0&&(()=>{var st;const le=E<=9?`tab-${E}`:((st=x==null?void 0:x[E-1])==null?void 0:st.id)??`tab-${E}`,Me=c.filter(C=>(C.tabId||"tab-1")===le);if(Me.length===0)return null;const Ze=Array.from(new Set(Me.map(C=>C.sectionId||"__default__")));return d.jsx("div",{className:"space-y-6 mt-6",children:Ze.map(C=>{const P=Me.filter(N=>(N.sectionId||"__default__")===C),A=P.find(N=>N.type==="container"),R=(A==null?void 0:A.color)||"#6b7280",O=C!=="__default__"?{borderColor:R,color:R,backgroundColor:`${R}15`}:void 0;return d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[C!=="__default__"&&d.jsx("h3",{className:"font-bold text-lg mb-4 rounded-t-xl border-b-2 p-3",style:O,children:C}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:P.filter(N=>N.type!=="container").map(N=>{var $e,ut,Ot,Ut,or,j,K,te;const ee=N.key&&String(N.key).trim()?N.key:N.id||N.key,se=u[ee]??N.defaultValue??(N.type==="checkbox"?!1:""),ne=Q=>h==null?void 0:h(ee,Q),ue="w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary/20",ae=t||N.readOnly,Se=N.width??4,Ue=Se===1?"md:col-span-1":Se===2?"md:col-span-2":Se===3?"md:col-span-3":"md:col-span-4",We=N.color?{borderRight:`4px solid ${N.color}`,paddingRight:"0.5rem"}:void 0,Ie=Q=>{var et,Ye;if(Q==="")return Q;const ie=Number(Q);if(Number.isNaN(ie))return"";const ke=(et=N.validation)==null?void 0:et.min,Fe=(Ye=N.validation)==null?void 0:Ye.max;return ke!=null&&ie<ke?ke:Fe!=null&&ie>Fe?Fe:ie};return d.jsxs("div",{className:Ue,children:[N.label&&N.label!==" "&&d.jsxs("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:[N.label,N.required?d.jsx("span",{className:"text-red-500",children:" *"}):""]}),d.jsx("div",{style:We,children:N.type==="date"?d.jsx(Ua,{value:String(se||""),onChange:Q=>ne(Q)}):N.type==="time"?d.jsx(tn,{value:String(se||""),onChange:Q=>ne(Q)}):N.type==="select"?d.jsxs("select",{className:ue,value:se,onChange:Q=>ne(Q.target.value),disabled:ae,children:[d.jsx("option",{value:"",children:"..."}),(N.options||[]).map(Q=>d.jsx("option",{value:Q.value,children:Q.label},Q.value))]}):N.type==="checkbox"?d.jsxs("label",{className:"inline-flex items-center gap-2 text-sm p-2 rounded-lg bg-gray-50 dark:bg-gray-700/60 border",children:[d.jsx("input",{type:"checkbox",checked:!!se,onChange:Q=>ne(Q.target.checked),disabled:ae}),d.jsx("span",{children:""})]}):N.type==="textarea"?d.jsx("textarea",{className:`${ue} min-h-[90px]`,value:se,onChange:Q=>ne(Q.target.value),disabled:ae,placeholder:N.placeholder}):N.type==="repeatable_list"?d.jsxs("div",{className:"space-y-2 rounded-xl border p-2 bg-gray-50 dark:bg-gray-700/30",children:[(Array.isArray(se)?se:[""]).map((Q,ie)=>{var ke;return d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-xs text-gray-400 w-5",children:ie+1}),d.jsx("input",{type:"text",className:ue,placeholder:((ke=N.repeatableListConfig)==null?void 0:ke.placeholder)||" ...",value:Q||"",onChange:Fe=>{const et=[...Array.isArray(se)?se:[""]];et[ie]=Fe.target.value,ne(et)},disabled:ae}),!ae&&d.jsx("button",{type:"button",className:"px-2 py-1 text-xs rounded bg-red-50 text-red-600 hover:bg-red-100",onClick:()=>{const et=(Array.isArray(se)?se:[""]).filter((Ye,rt)=>rt!==ie);ne(et.length?et:[""])},children:""})]},`${N.key}-${ie}`)}),!ae&&d.jsx("button",{type:"button",className:"px-3 py-1.5 text-xs rounded-lg bg-blue-600 text-white",onClick:()=>{var ke;const Q=Array.isArray(se)?se:[""],ie=((ke=N.repeatableListConfig)==null?void 0:ke.maxItems)||200;Q.length>=ie||ne([...Q,""])},children:"+  "})]}):N.type==="time_pair"?d.jsxs("div",{className:"rounded-xl border p-3 bg-gray-50 dark:bg-gray-700/30 space-y-3",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[d.jsx(tn,{label:(($e=N.timePairConfig)==null?void 0:$e.workLabel)||" ",value:String((se==null?void 0:se.workTime)||""),onChange:Q=>ne({...se||{},workTime:Q})}),d.jsx(tn,{label:((ut=N.timePairConfig)==null?void 0:ut.stopLabel)||" ",value:String((se==null?void 0:se.stopTime)||""),onChange:Q=>ne({...se||{},stopTime:Q})})]}),((Ot=N.timePairConfig)==null?void 0:Ot.requireReasonWhenStop)&&gs(String((se==null?void 0:se.stopTime)||""))>0&&d.jsx("textarea",{className:`${ue} min-h-[70px]`,placeholder:((Ut=N.timePairConfig)==null?void 0:Ut.reasonLabel)||" ...",value:String((se==null?void 0:se.reason)||""),onChange:Q=>ne({...se||{},reason:Q.target.value}),disabled:ae})]}):N.type==="matrix"?d.jsx("div",{className:"overflow-auto rounded-xl border bg-gray-50 dark:bg-gray-700/30 p-2 space-y-2",children:d.jsxs("table",{className:"w-full text-xs",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-2 text-right",children:" / "}),(((or=N.matrixConfig)==null?void 0:or.columns)||[]).map(Q=>d.jsx("th",{className:"p-2 text-center",children:Q},Q))]})}),d.jsx("tbody",{children:(((j=N.matrixConfig)==null?void 0:j.rows)||[]).map(Q=>{var ie;return d.jsxs("tr",{className:"border-t",children:[d.jsx("td",{className:"p-2 font-bold",children:Q}),(((ie=N.matrixConfig)==null?void 0:ie.columns)||[]).map(ke=>{var Fe,et;return d.jsx("td",{className:"p-1",children:d.jsx("input",{type:"text",className:"w-full p-1.5 border rounded bg-white dark:bg-gray-700",value:String(((Fe=se==null?void 0:se[Q])==null?void 0:Fe[ke])??((et=N.matrixConfig)==null?void 0:et.defaultValue)??""),onChange:Ye=>{const rt={...se||{}};rt[Q]={...rt[Q]||{},[ke]:Ye.target.value},ne(rt)},disabled:ae})},`${Q}-${ke}`)})]},Q)})})]})}):d.jsx("input",{type:N.type==="number"?"number":"text",className:ue,value:se,onChange:Q=>ne(N.type==="number"?Ie(Q.target.value===""?"":Number(Q.target.value)):Q.target.value),disabled:ae,placeholder:N.placeholder,min:N.type==="number"?(K=N.validation)==null?void 0:K.min:void 0,max:N.type==="number"?(te=N.validation)==null?void 0:te.max:void 0})}),N.helpText?d.jsx("p",{className:"text-[11px] text-gray-400 mt-1",children:N.helpText}):null]},N.id||N.key)})})]},C)})})})(),n&&(()=>{const le=(x==null?void 0:x.length)??9;return d.jsxs("div",{className:"flex justify-between pt-6 border-t dark:border-gray-700 pb-20",children:[d.jsxs("button",{type:"button",onClick:()=>S(Me=>Math.max(1,Me-1)),disabled:E===1,className:"px-6 py-3 rounded-xl border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-50 transition flex items-center gap-2",children:[d.jsx(su,{className:"w-5 h-5"}),"  "]}),E===le?s&&!t&&d.jsx("button",{type:"submit",disabled:!ti,className:`px-8 py-3 rounded-xl shadow transition flex items-center gap-2 font-bold ${ti?"bg-primary text-white hover:bg-red-800":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"  "}):d.jsxs("button",{type:"button",onClick:()=>S(Me=>Math.min(le,Me+1)),disabled:!fa(E),className:`px-8 py-3 rounded-xl shadow transition flex items-center gap-2 font-bold ${fa(E)?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:["  ",d.jsx(Gf,{className:"w-5 h-5"})]})]})})()]})]})},lo=()=>({id:`f-${Date.now()}-${Math.random().toString(36).slice(2,6)}`,key:"",label:"",type:"text",width:2,required:!1}),Nh=e=>{const t=e.map(n=>(n.label||"").match(/^ \s*(\d+)$/)).filter(n=>!!n).map(n=>parseInt(n[1],10));return`  ${(t.length?Math.max(...t):0)+1}`},Ej=()=>({id:`tab-${Date.now()}-${Math.random().toString(36).slice(2,5)}`,label:" ",color:"#800020",icon:"clipboard"}),In=[{id:"tab-1",label:" ",color:"#2563eb",icon:"users"},{id:"tab-2",label:"",color:"#16a34a",icon:"factory"},{id:"tab-3",label:"",color:"#059669",icon:"door"},{id:"tab-4",label:"",color:"#0d9488",icon:"cpu"},{id:"tab-5",label:" ",color:"#0891b2",icon:"magnet"},{id:"tab-6",label:" ",color:"#6366f1",icon:"filter"},{id:"tab-7",label:"",color:"#0284c7",icon:"droplets"},{id:"tab-8",label:" ",color:"#78716c",icon:"recycle"},{id:"tab-9",label:"  ",color:"#d97706",icon:"clock"}],Tj=["#800020","#4b5563","#2563eb","#16a34a","#d97706","#9333ea","#dc2626","#0ea5e9","#14b8a6","#f59e0b","#e11d48"],ac=e=>String(e||"").trim().toLowerCase().replace(/[^a-z0-9_]/g,"_").replace(/_+/g,"_").replace(/^_+|_+$/g,""),Cj=e=>`report_${ac(e.replace(/-/g,"_"))||"new_form"}`,Aj=(e,t)=>{const r=String(t||"").replace(/^\/+/,"").replace(/\//g,"-");return ac(r||e).replace(/_/g,"-")},Nj=e=>e==="number"?"numeric":e==="checkbox"?"boolean default false":e==="matrix"||e==="repeatable_list"||e==="time_pair"||e==="attendance"?"jsonb not null default '{}'::jsonb":"text",H_=["07:30","08:30","09:30","10:30","11:30","12:30","01:30","02:30","03:30","04:30","05:30","06:30"],Ij=[{id:"p1",key:"shift_name",label:"",type:"select",options:[{label:" A",value:"A"},{label:" B",value:"B"},{label:" C",value:"C"}],required:!0,sectionId:" ",tabId:"tab-1"},{id:"p2",key:"shift_type",label:" ",type:"select",options:[{label:" ",value:"Day1"},{label:" ",value:"Day2"},{label:" ",value:"Night1"},{label:" ",value:"Night2"}],required:!0,sectionId:" ",tabId:"tab-1"},{id:"p3",key:"report_date",label:"",type:"date",required:!0,sectionId:" ",tabId:"tab-1"},{id:"p4",key:"shift_duration",label:" ",type:"time",required:!0,sectionId:" ",tabId:"tab-1",defaultValue:"12:00"},{id:"p5",key:"weekday",label:" ",type:"text",sectionId:" ",tabId:"tab-1",readOnly:!0},{id:"p6",key:"supervisor_name",label:" ",type:"text",required:!0,sectionId:" ",tabId:"tab-1",readOnly:!0},{id:"p7",key:"personnel_attendance",label:"    ",type:"attendance",required:!0,sectionId:"    ",tabId:"tab-1",width:2},{id:"p8",key:"feed_production_line_a",label:"   A",type:"matrix",sectionId:"",tabId:"tab-2",width:2,matrixConfig:{rows:H_,columns:["","  "," ","  "," "],defaultValue:""}},{id:"p9",key:"feed_production_line_b",label:"   B",type:"matrix",sectionId:"",tabId:"tab-2",width:2,matrixConfig:{rows:H_,columns:["","  "," ","  "," "],defaultValue:""}},{id:"p10",key:"feed_summary",label:"   A  B",type:"textarea",sectionId:"",tabId:"tab-2",width:2,placeholder:"   ..."},{id:"p11",key:"total_production_a",label:"   A ()",type:"number",sectionId:"",tabId:"tab-2",validation:{min:0},placeholder:"0"},{id:"p12",key:"total_production_b",label:"   B ()",type:"number",sectionId:"",tabId:"tab-2",validation:{min:0},placeholder:"0"},{id:"p13",key:"ball_mills_data",label:" ",type:"matrix",sectionId:"",tabId:"tab-3",width:2,matrixConfig:{rows:["   A","   A","   B","   B"],columns:[" 08 (A)"," 02 (A)"," 08"," 02"," "," "],defaultValue:""}},{id:"p14",key:"ball_mills_summary",label:" ",type:"textarea",sectionId:"",tabId:"tab-3",width:2,placeholder:"    A  B..."},{id:"p15",key:"hydrocyclones_data",label:" ",type:"matrix",sectionId:"",tabId:"tab-4",width:2,matrixConfig:{rows:["   A","   A","   B","   B"],columns:[" 08 (Bar)"," 08"," 02 (Bar)"," 02"],defaultValue:""}},{id:"p16",key:"hydrocyclone_summary",label:" ",type:"textarea",sectionId:"",tabId:"tab-4",width:2,placeholder:"   ..."},{id:"p17",key:"drum_magnet_line_a_single",label:"   A",type:"checkbox",sectionId:"   A",tabId:"tab-5"},{id:"p18",key:"drum_magnet_line_a_upper",label:"    A",type:"checkbox",sectionId:"   A",tabId:"tab-5"},{id:"p19",key:"drum_magnet_line_a_middle",label:"    A",type:"checkbox",sectionId:"   A",tabId:"tab-5"},{id:"p20",key:"drum_magnet_line_a_lower",label:"    A",type:"checkbox",sectionId:"   A",tabId:"tab-5"},{id:"p21",key:"drum_magnet_line_a_desc",label:"    A",type:"textarea",sectionId:"   A",tabId:"tab-5",width:2,placeholder:"..."},{id:"p22",key:"drum_magnet_line_b_single",label:"   B",type:"checkbox",sectionId:"   B",tabId:"tab-5"},{id:"p23",key:"drum_magnet_line_b_upper",label:"    B",type:"checkbox",sectionId:"   B",tabId:"tab-5"},{id:"p24",key:"drum_magnet_line_b_middle",label:"    B",type:"checkbox",sectionId:"   B",tabId:"tab-5"},{id:"p25",key:"drum_magnet_line_b_lower",label:"    B",type:"checkbox",sectionId:"   B",tabId:"tab-5"},{id:"p26",key:"drum_magnet_line_b_desc",label:"    B",type:"textarea",sectionId:"   B",tabId:"tab-5",width:2,placeholder:"..."},{id:"p27",key:"conc_filter_a_operator",label:"    A",type:"text",sectionId:"   A",tabId:"tab-6",placeholder:" ..."},{id:"p28",key:"conc_filter_a_hours",label:"     A",type:"time",sectionId:"   A",tabId:"tab-6",placeholder:"00:00"},{id:"p29",key:"conc_filter_a_cloths",label:"    A",type:"textarea",sectionId:"   A",tabId:"tab-6",width:2,placeholder:"..."},{id:"p30",key:"conc_filter_b_operator",label:"    B",type:"text",sectionId:"   B",tabId:"tab-6",placeholder:" ..."},{id:"p31",key:"conc_filter_b_hours",label:"     B",type:"time",sectionId:"   B",tabId:"tab-6",placeholder:"00:00"},{id:"p32",key:"conc_filter_b_cloths",label:"    B",type:"textarea",sectionId:"   B",tabId:"tab-6",width:2,placeholder:"..."},{id:"p33",key:"conc_filter_reserve_operator",label:"   ",type:"text",sectionId:"  ",tabId:"tab-6",placeholder:" ..."},{id:"p34",key:"conc_filter_reserve_hours",label:"    ",type:"time",sectionId:"  ",tabId:"tab-6",placeholder:"00:00"},{id:"p35",key:"conc_filter_reserve_cloths",label:"   ",type:"textarea",sectionId:"  ",tabId:"tab-6",width:2,placeholder:"..."},{id:"p36",key:"concentrate_filter_summary",label:"  ",type:"textarea",sectionId:" ",tabId:"tab-6",width:2,placeholder:"   ..."},{id:"p37",key:"thickener_data",label:" ",type:"matrix",sectionId:"",tabId:"tab-7",width:2,matrixConfig:{rows:["   A","   A","   A","   B","   B","   B"],columns:[" "," "," 08"," 11"," 02"," 05"],defaultValue:""}},{id:"p38",key:"thickener_summary",label:" ",type:"textarea",sectionId:"",tabId:"tab-7",width:2,placeholder:"     ..."},{id:"p39",key:"rec_filter_a1_operator",label:"     A",type:"text",sectionId:"   A",tabId:"tab-8",placeholder:" ..."},{id:"p40",key:"rec_filter_a1_hours",label:"      A",type:"time",sectionId:"   A",tabId:"tab-8",placeholder:"00:00"},{id:"p41",key:"rec_filter_a1_cloths",label:"     A",type:"textarea",sectionId:"   A",tabId:"tab-8",placeholder:"..."},{id:"p42",key:"rec_filter_a2_operator",label:"     A",type:"text",sectionId:"   A",tabId:"tab-8",placeholder:" ..."},{id:"p43",key:"rec_filter_a2_hours",label:"      A",type:"time",sectionId:"   A",tabId:"tab-8",placeholder:"00:00"},{id:"p44",key:"rec_filter_a2_cloths",label:"     A",type:"textarea",sectionId:"   A",tabId:"tab-8",placeholder:"..."},{id:"p45",key:"rec_filter_b1_operator",label:"     B",type:"text",sectionId:"   B",tabId:"tab-8",placeholder:" ..."},{id:"p46",key:"rec_filter_b1_hours",label:"      B",type:"time",sectionId:"   B",tabId:"tab-8",placeholder:"00:00"},{id:"p47",key:"rec_filter_b1_cloths",label:"     B",type:"textarea",sectionId:"   B",tabId:"tab-8",placeholder:"..."},{id:"p48",key:"rec_filter_b2_operator",label:"     B",type:"text",sectionId:"   B",tabId:"tab-8",placeholder:" ..."},{id:"p49",key:"rec_filter_b2_hours",label:"      B",type:"time",sectionId:"   B",tabId:"tab-8",placeholder:"00:00"},{id:"p50",key:"rec_filter_b2_cloths",label:"     B",type:"textarea",sectionId:"   B",tabId:"tab-8",placeholder:"..."},{id:"p51",key:"recovery_filter_summary",label:"  ",type:"textarea",sectionId:" ",tabId:"tab-8",width:2,placeholder:"   ..."},{id:"p52",key:"line_a_time_pair",label:"/  A",type:"time_pair",sectionId:" ",tabId:"tab-9",timePairConfig:{requireReasonWhenStop:!0,reasonLabel:"   A"},validation:{totalMustEqualField:"shift_duration"}},{id:"p53",key:"line_b_time_pair",label:"/  B",type:"time_pair",sectionId:" ",tabId:"tab-9",timePairConfig:{requireReasonWhenStop:!0,reasonLabel:"   B"},validation:{totalMustEqualField:"shift_duration"}},{id:"p54",key:"downtime_matrix",label:" ",type:"matrix",sectionId:" ",tabId:"tab-9",width:2,matrixConfig:{rows:[" A"," B"],columns:["","",""],defaultValue:"0",enforceNumeric:!0}},{id:"p55",key:"pump_process_active",label:"  ",type:"text",sectionId:"",tabId:"tab-9",placeholder:"   ..."},{id:"p56",key:"pump_clean_water_active",label:"   ",type:"text",sectionId:"",tabId:"tab-9",placeholder:"   ..."},{id:"p57",key:"pumps_summary",label:" ",type:"textarea",sectionId:"",tabId:"tab-9",width:2,placeholder:"   ..."},{id:"p58",key:"shift_descriptions",label:" ",type:"repeatable_list",sectionId:" ",tabId:"tab-9",width:2,repeatableListConfig:{placeholder:"...",minItems:1}},{id:"p59",key:"next_actions",label:"  ",type:"repeatable_list",sectionId:" ",tabId:"tab-9",width:2,repeatableListConfig:{placeholder:" ...",minItems:1}},{id:"p60",key:"general_notes",label:" ",type:"textarea",sectionId:" ",tabId:"tab-9",width:2}],Rj=[{id:"d1",key:"line_a_time_pair",label:"/  A",type:"time_pair",sectionId:" ",tabId:"downtime",timePairConfig:{requireReasonWhenStop:!0,reasonLabel:"   A"},validation:{totalMustEqualField:"shift_duration"}},{id:"d2",key:"line_b_time_pair",label:"/  B",type:"time_pair",sectionId:" ",tabId:"downtime",timePairConfig:{requireReasonWhenStop:!0,reasonLabel:"   B"},validation:{totalMustEqualField:"shift_duration"}},{id:"d4",key:"downtime_matrix_ab",label:"   A/B",type:"matrix",sectionId:" ",tabId:"downtime",width:2,matrixConfig:{rows:[" A"," B"],columns:["","",""],defaultValue:"0",enforceNumeric:!0}}],Ih=[{id:"clipboard",label:"",Icon:sl},{id:"clipboardcheck",label:"",Icon:au},{id:"file",label:"",Icon:$a},{id:"filecheck",label:" ",Icon:Ig},{id:"folder",label:"",Icon:Kf},{id:"book",label:"",Icon:Vf},{id:"inbox",label:"",Icon:Xf},{id:"layers",label:"",Icon:Pi},{id:"tag",label:"",Icon:ax},{id:"bookmark",label:"",Icon:gg},{id:"users",label:"",Icon:Ya},{id:"userplus",label:" ",Icon:xx},{id:"usercheck",label:" ",Icon:l0},{id:"userx",label:" ",Icon:c0},{id:"graduation",label:"",Icon:Jf},{id:"factory",label:"",Icon:ou},{id:"warehouse",label:"",Icon:Cc},{id:"construction",label:"",Icon:Sg},{id:"hardhat",label:"HSE",Icon:Yf},{id:"hammer",label:"",Icon:Dg},{id:"wrench",label:"",Icon:u0},{id:"magnet",label:"",Icon:Tc},{id:"cog",label:"",Icon:Wf},{id:"building",label:"",Icon:xg},{id:"home",label:"",Icon:Ug},{id:"door",label:"",Icon:Cg},{id:"flame",label:"",Icon:Pg},{id:"thermometer",label:"",Icon:lx},{id:"droplets",label:"",Icon:Ng},{id:"zap",label:"",Icon:_x},{id:"gauge",label:"",Icon:Fg},{id:"plug",label:"",Icon:Jg},{id:"battery",label:"",Icon:pg},{id:"sun",label:"",Icon:o0},{id:"moon",label:"",Icon:Zf},{id:"cloud",label:"",Icon:bg},{id:"cloudrain",label:"",Icon:kg},{id:"wind",label:"",Icon:yx},{id:"umbrella",label:"",Icon:px},{id:"snowflake",label:"",Icon:rx},{id:"tree",label:"",Icon:ux},{id:"leaf",label:"",Icon:$g},{id:"recycle",label:"",Icon:n0},{id:"flask",label:"",Icon:qf},{id:"pipette",label:"",Icon:qg},{id:"testtube",label:" ",Icon:ox},{id:"microscope",label:"",Icon:Wg},{id:"stethoscope",label:"",Icon:sx},{id:"heartpulse",label:" ",Icon:Lg},{id:"activity",label:"",Icon:Uf},{id:"database",label:" ",Icon:Ec},{id:"monitor",label:"",Icon:Qf},{id:"cpu",label:"",Icon:Eg},{id:"wifi",label:"",Icon:vx},{id:"radio",label:"",Icon:Yg},{id:"truck",label:"",Icon:hx},{id:"car",label:"",Icon:yg},{id:"bike",label:"",Icon:mg},{id:"ship",label:"",Icon:ex},{id:"plane",label:"",Icon:Kg},{id:"rocket",label:"",Icon:Xg},{id:"dollar",label:"",Icon:wg},{id:"banknote",label:"",Icon:hg},{id:"creditcard",label:" ",Icon:Tg},{id:"chart",label:"",Icon:jf},{id:"piechart",label:"",Icon:t0},{id:"trending",label:" ",Icon:dx},{id:"target",label:"",Icon:ix},{id:"phone",label:"",Icon:zg},{id:"mail",label:"",Icon:Hg},{id:"send",label:"",Icon:a0},{id:"message",label:"",Icon:lu},{id:"bell",label:"",Icon:$f},{id:"shield",label:"",Icon:i0},{id:"shieldalert",label:" ",Icon:Zg},{id:"lock",label:"",Icon:Vg},{id:"unlock",label:"",Icon:mx},{id:"key",label:"",Icon:jg},{id:"alert",label:"",Icon:nl},{id:"siren",label:"",Icon:tx},{id:"search",label:"",Icon:Ss},{id:"filter",label:"",Icon:zf},{id:"refresh",label:"",Icon:al},{id:"download",label:"",Icon:Ag},{id:"upload",label:"",Icon:gx},{id:"printer",label:"",Icon:r0},{id:"camera",label:"",Icon:vg},{id:"image",label:"",Icon:Bg},{id:"clock",label:"",Icon:iu},{id:"settings",label:"",Icon:Qg},{id:"package",label:"",Icon:e0},{id:"scale",label:"",Icon:s0},{id:"mappin",label:"",Icon:Gg},{id:"globe",label:" ",Icon:Mg},{id:"star",label:"",Icon:nx},{id:"heart",label:"",Icon:Og},{id:"flag",label:"",Icon:Rg},{id:"award",label:"",Icon:Bf},{id:"trophy",label:"",Icon:fx}],Pj=[{id:"text",title:"",Icon:$a},{id:"number",title:"",Icon:P4},{id:"date",title:"",Icon:Hf},{id:"time",title:"",Icon:iu},{id:"select",title:" ",Icon:eS},{id:"textarea",title:" ",Icon:sl},{id:"checkbox",title:"",Icon:_g},{id:"attendance",title:"  ",Icon:Ya},{id:"repeatable_list",title:" ",Icon:Pi},{id:"time_pair",title:" ",Icon:cx},{id:"matrix",title:"",Icon:Zb}],Tl=({title:e,color:t,children:r})=>d.jsxs("div",{className:"rounded-lg border-2 p-3 space-y-2",style:{borderColor:`${t}40`,backgroundColor:`${t}08`},children:[d.jsx("h4",{className:"text-xs font-bold px-1",style:{color:t},children:e}),r]}),qn=({text:e})=>{const[t,r]=V.useState(!1),[n,s]=V.useState({top:0,left:0}),a=V.useRef(null);return V.useEffect(()=>{if(!t||!a.current)return;const i=a.current.getBoundingClientRect();s({top:i.bottom+4,left:i.left})},[t]),d.jsxs("span",{className:"relative inline-flex items-center",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[d.jsx("span",{ref:a,className:"inline-flex items-center justify-center w-4 h-4 rounded-full text-gray-500 hover:text-primary hover:bg-primary/10 cursor-help","aria-label":"",children:d.jsx(F4,{className:"w-3.5 h-3.5"})}),t&&typeof document<"u"&&Lb.createPortal(d.jsx("span",{className:"fixed z-[9999] w-72 max-w-[90vw] p-3 text-[11px] leading-5 rounded-lg border bg-white dark:bg-gray-800 shadow-xl text-gray-600 dark:text-gray-300",style:{top:n.top,left:n.left},children:e}),document.body)]})},Cl=({index:e,title:t,help:r})=>d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"w-6 h-6 rounded-full bg-primary/10 text-primary text-xs font-bold inline-flex items-center justify-center",children:e}),d.jsx("h3",{className:"font-bold text-sm",children:t}),r?d.jsx(qn,{text:r}):null]}),G_=({user:e})=>{var ee,se,ne,ue,ae,Se,Ue,We,Ie,$e,ut,Ot,Ut,or;const[t,r]=V.useState([]),[n,s]=V.useState(!1),[a,i]=V.useState("LIST"),[o,l]=V.useState(null),[c,u]=V.useState({}),[h,p]=V.useState([]),[g,v]=V.useState(null),[x,y]=V.useState(""),[w,k]=V.useState(""),[_,b]=V.useState(""),[T,E]=V.useState(""),[S,M]=V.useState(""),[F,z]=V.useState(!1),[Y,U]=V.useState(null),re=V.useRef(null),[B,fe]=V.useState([{id:"main",label:"",color:"#800020",icon:"clipboard"}]),[we,J]=V.useState(null),[X,W]=V.useState([]),[pe,Ee]=V.useState("#800020"),[I,L]=V.useState([{...lo(),label:"  1"}]),[G,q]=V.useState("main"),[ce,ye]=V.useState(null),[ge,ve]=V.useState(null),[H,he]=V.useState(null),[D,Ce]=V.useState(1),[Ae,Ve]=V.useState({shift:!0,shiftType:!0,shiftDuration:!0,date:!0,weekday:!0,supervisor:!0,attendance:!0}),[Pe,Z]=V.useState({}),[Te,He]=V.useState([]),[qe,je]=V.useState(!1),[At,Nt]=V.useState(!1),[Be,_e]=V.useState(!1),[mt,er]=V.useState(!0),[Lt,Ir]=V.useState(!1),[ct,Xe]=V.useState(!1),[gt,yt]=V.useState(!1),[Gt,de]=V.useState([]),[Le,Qe]=V.useState([]),at=V.useRef(!1),bt=V.useRef(null);V.useEffect(()=>{if(a==="FORM")return bt.current=setTimeout(()=>{if(at.current){at.current=!1;return}de(j=>[...j.slice(-49),{fields:JSON.parse(JSON.stringify(I)),tabs:JSON.parse(JSON.stringify(B)),groups:JSON.parse(JSON.stringify(X))}]),Qe([])},400),()=>{bt.current&&clearTimeout(bt.current)}},[I,B,X,a]);const Rr=()=>{if(Gt.length===0)return;const j=Gt[Gt.length-1];at.current=!0,de(K=>K.slice(0,-1)),Qe(K=>[{fields:JSON.parse(JSON.stringify(I)),tabs:JSON.parse(JSON.stringify(B)),groups:JSON.parse(JSON.stringify(X))},...K].slice(0,40)),L(j.fields),fe(j.tabs),W(j.groups)},ls=()=>{if(Le.length===0)return;const j=Le[0];at.current=!0,Qe(K=>K.slice(1)),de(K=>[...K.slice(-49),{fields:JSON.parse(JSON.stringify(I)),tabs:JSON.parse(JSON.stringify(B)),groups:JSON.parse(JSON.stringify(X))}]),L(j.fields),fe(j.tabs),W(j.groups)},Ur=async()=>{s(!0);const j=await RS();return r(j),s(!1),j},cs=async()=>{const j=await Ur();if(g){const K=j.find(te=>te.id===g);K&&Me(K)}};V.useEffect(()=>{Ur()},[]);const ti=V.useRef(Rr),fa=V.useRef(ls);ti.current=Rr,fa.current=ls,V.useEffect(()=>{if(a!=="FORM")return;const j=K=>{(K.ctrlKey||K.metaKey)&&K.key==="z"&&(K.preventDefault(),K.shiftKey?fa.current():ti.current()),(K.ctrlKey||K.metaKey)&&K.key==="y"&&(K.preventDefault(),fa.current())};return window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[a]),V.useEffect(()=>{a==="FORM"&&SS("personnel").then(j=>{const K=Array.isArray(j)?j:[];He(K.map(te=>({id:te.id,full_name:te.full_name??te.fullName??te.name??""})))})},[a]);const Rs=V.useMemo(()=>{const j=[];return Np.forEach(K=>{const te=Array.isArray(K.submenu)?K.submenu:[];if(te.length){const Q=te.filter(ie=>typeof ie.path=="string"&&ie.path.startsWith("/")&&ie.path!=="/report-form-design").map(ie=>({id:String(ie.id),title:String(ie.title),path:String(ie.path)}));Q.length&&j.push({id:String(K.id),title:String(K.title),items:Q})}}),j},[]),hr=V.useMemo(()=>Rs.find(j=>j.id===T)||null,[Rs,T]),us=V.useMemo(()=>(hr==null?void 0:hr.items.find(j=>j.id===S))||null,[hr,S]),ha=()=>{v(null),y(""),k(""),b(""),E(""),M(""),z(!1),fe([{id:"main",label:"",color:"#800020",icon:"clipboard"}]),Ee("#800020"),L([{...lo(),label:"  1"}]),q("main"),Ve({shift:!0,shiftType:!0,shiftDuration:!0,date:!0,weekday:!0,supervisor:!0,attendance:!0}),Z({}),Nt(!1),W([]),de([]),Qe([])},Yi=V.useMemo(()=>[{header:"",accessor:j=>j.title,sortKey:"title"},{header:"slug",accessor:j=>d.jsx("span",{className:"font-mono",children:j.slug}),sortKey:"slug"},{header:"",accessor:j=>j.category,sortKey:"category"},{header:"",accessor:j=>j.version,sortKey:"version"},{header:" ",accessor:j=>j.published_version||0,sortKey:"published_version"},{header:"",accessor:j=>j.is_active?d.jsx("span",{className:"text-green-700 bg-green-50 px-2 py-1 rounded",children:""}):d.jsx("span",{className:"text-gray-500",children:""}),sortKey:"is_active"}],[]),pa=async()=>{var j,K,te,Q;try{if((!T||!S)&&!g){alert("       .");return}if(!F&&!g){alert("             /slug    .");return}if(!x.trim()||!w.trim()){alert("  slug  .");return}const ie=I.filter(rt=>(rt.key||"").trim()||(rt.label||"").trim());if(!ie.length){alert("      .");return}if(ie.some(rt=>!(rt.key||"").trim())){alert("      .");return}const ke=ie.map(rt=>(rt.key||"").trim()),Fe=ke.find((rt,qt)=>ke.indexOf(rt)!==qt);if(Fe){alert(`     : ${Fe}`);return}for(const rt of ie){if(rt.type==="select"&&(!rt.options||!rt.options.length)){alert(`  ${rt.label||rt.key}      .`);return}if(rt.type==="matrix"&&(!((K=(j=rt.matrixConfig)==null?void 0:j.rows)!=null&&K.length)||!((Q=(te=rt.matrixConfig)==null?void 0:te.columns)!=null&&Q.length))){alert(`   ${rt.label||rt.key}     .`);return}}const et=ie.map(rt=>({key:(rt.key||"").trim(),label:rt.label||"",visible:!0})),Ye=await HP({id:g||void 0,title:x.trim(),slug:w.trim(),category:((hr==null?void 0:hr.title)||_||"").trim(),form_schema:{tabs:B,fields:ie,groups:X,sections:Array.from(new Set(ie.map(rt=>rt.sectionId).filter(Boolean))).map((rt,qt)=>({id:`s-${qt+1}`,title:rt,fieldKeys:ie.filter(St=>St.sectionId===rt).map(St=>(St.key||"").trim())}))},list_schema:{columns:et},template_schema:{moduleId:S==="__new__"?w.replace(/-/g,""):S||w.trim(),modulePath:S==="__new__"?"/"+w:(us==null?void 0:us.path)||""}});L(ie),alert(Ye.usedFallback?`    .  : ${Ye.error||""}.  report_definitions  RLS  Supabase   .`:"   ."),await Ur(),i("LIST"),ha()}catch(ie){console.error("   :",ie),alert(`  : ${ie instanceof Error?ie.message:String(ie)}`)}},le=j=>{l(j),u({report_date:Tn(),supervisor_name:(e==null?void 0:e.fullName)??""})},Me=j=>{var Fe,et,Ye,rt,qt,St,vr;v(j.id),y(j.title),k(j.slug),b(j.category),z(!0);const K=String(((Fe=j==null?void 0:j.template_schema)==null?void 0:Fe.moduleId)||""),te=Rs.find(ri=>ri.title===j.category||ri.items.some(yu=>yu.id===K)),Q=(te==null?void 0:te.items.find(ri=>ri.id===K))||null;E((te==null?void 0:te.id)||""),M((Q==null?void 0:Q.id)||"");const ie=(Ye=(et=j.form_schema)==null?void 0:et.tabs)!=null&&Ye.length?j.form_schema.tabs:[{id:"main",label:"",color:"#800020",icon:"clipboard"}];fe(ie);const ke=String(((rt=ie[0])==null?void 0:rt.color)||"#800020");Ee(ke),L((((qt=j.form_schema)==null?void 0:qt.fields)||[]).length?j.form_schema.fields:[{...lo(),label:"  1"}]),W(((St=j.form_schema)==null?void 0:St.groups)||[]),q(((vr=ie[0])==null?void 0:vr.id)||"main"),Z({}),de([]),Qe([]),i("FORM")},Ze=j=>{var ie,ke,Fe;const K=j.map(et=>({...et,id:`f-${Date.now()}-${Math.random().toString(36).slice(2,6)}`,key:et.key,label:et.label}));fe(In);const te=((ie=In[0])==null?void 0:ie.color)||"#2563eb";Ee(te),L(K),q(((ke=In[0])==null?void 0:ke.id)||"tab-1"),((Fe=j[0])==null?void 0:Fe.key)==="shift_name"&&Ve({shift:!0,shiftType:!0,shiftDuration:!0,date:!0,weekday:!0,supervisor:!0,attendance:!0});const Q=Tn();Z({report_date:Q,shift_duration:"12:00",weekday:Ip(Q),supervisor_name:(e==null?void 0:e.fullName)||""})},st=V.useCallback(j=>{var te;if(j==="tabs"){fe(Q=>{if(In.every(ke=>Q.some(Fe=>Fe.id===ke.id))){const ke=[{id:"main",label:"",color:pe,icon:"clipboard"}];return queueMicrotask(()=>{L(Fe=>Fe.map(et=>({...et,tabId:ke[0].id}))),q(ke[0].id)}),ke}return q(In[0].id),Ee(In[0].color||pe),In});return}const K=G||((te=B[0])==null?void 0:te.id)||"main";L(Q=>{const ie=Fe=>Q.some(et=>et.key===Fe),ke=Fe=>({...Fe,id:`f-${Date.now()}-${Math.random().toString(36).slice(2,6)}`,tabId:K});return j==="shift"?ie("shift_name")?Q.filter(Fe=>Fe.key!=="shift_name"):[...Q,ke({key:"shift_name",label:"",type:"select",required:!0,sectionId:" ",options:[{label:" A",value:"A"},{label:" B",value:"B"},{label:" C",value:"C"}]})]:j==="shiftType"?ie("shift_type")?Q.filter(Fe=>Fe.key!=="shift_type"):[...Q,ke({key:"shift_type",label:" ",type:"select",required:!0,sectionId:" ",options:[{label:" ",value:"Day1"},{label:" ",value:"Day2"},{label:" ",value:"Night1"},{label:" ",value:"Night2"}]})]:j==="shiftDuration"?ie("shift_duration")?Q.filter(Fe=>Fe.key!=="shift_duration"):[...Q,ke({key:"shift_duration",label:" ",type:"time",required:!0,sectionId:" ",defaultValue:"12:00"})]:j==="date"?ie("report_date")?Q.filter(Fe=>Fe.key!=="report_date"):[...Q,ke({key:"report_date",label:"",type:"date",required:!0,sectionId:" "})]:j==="weekday"?ie("weekday")?Q.filter(Fe=>Fe.key!=="weekday"):[...Q,ke({key:"weekday",label:" ",type:"text",required:!0,sectionId:" ",readOnly:!0})]:j==="supervisor"?ie("supervisor_name")?Q.filter(Fe=>Fe.key!=="supervisor_name"):[...Q,ke({key:"supervisor_name",label:"  ",type:"text",required:!0,sectionId:" ",readOnly:!0})]:j==="attendance"?ie("present_count")||ie("leave_count")||ie("absent_count")||ie("attendance_widget")||ie("personnel_attendance")?Q.filter(et=>!["present_count","leave_count","absent_count","attendance_widget","personnel_attendance"].includes(et.key)):[...Q,ke({key:"personnel_attendance",label:"    ",type:"attendance",required:!0,sectionId:"    ",width:2})]:Q}),yt(!0)},[G,B,pe]),C=j=>{Ee(j),fe(K=>K.map(te=>({...te,color:j})))},P=j=>String(j||"").split(`
`).map(K=>K.trim()).filter(Boolean).map(K=>{const te=K.indexOf(":"),[Q,ie]=te>=0?[K.slice(0,te),K.slice(te+1)]:[K,K];return{label:Q.trim(),value:(ie||Q).trim()}}),A=V.useMemo(()=>{const j=Cj(w),K=[],te=new Set(["id","tracking_code","report_date","created_at","updated_at"]);return I.forEach(Q=>{if(Q.type==="container")return;const ie=ac(Q.key);if(!ie||te.has(ie))return;te.add(ie);const ke=Q.required?" not null":"";K.push(`  ${ie} ${Nj(Q.type)}${ke}`)}),`-- Suggested SQL for form: ${x||"New Report Form"}
create extension if not exists pgcrypto;

create table if not exists public.${j} (
  id uuid primary key default gen_random_uuid(),
  definition_slug text not null default '${ac(w)||"new_form"}',
  tracking_code text,
  report_date text,
${K.join(`,
`)}${K.length?`,
`:""}  payload jsonb not null default '{}'::jsonb,
  created_at timestamptz not null default now(),
  updated_at timestamptz not null default now()
);

create index if not exists ix_${j}_report_date on public.${j}(report_date);
create index if not exists ix_${j}_created_at on public.${j}(created_at desc);

alter table public.${j} enable row level security;

do $$
begin
  if not exists (
    select 1 from pg_policies
    where schemaname='public' and tablename='${j}' and policyname='${j}_select_open'
  ) then
    create policy ${j}_select_open on public.${j}
      for select to anon, authenticated using (true);
  end if;
  if not exists (
    select 1 from pg_policies
    where schemaname='public' and tablename='${j}' and policyname='${j}_insert_open'
  ) then
    create policy ${j}_insert_open on public.${j}
      for insert to anon, authenticated with check (true);
  end if;
  if not exists (
    select 1 from pg_policies
    where schemaname='public' and tablename='${j}' and policyname='${j}_update_open'
  ) then
    create policy ${j}_update_open on public.${j}
      for update to anon, authenticated using (true) with check (true);
  end if;
end $$;

grant select, insert, update on public.${j} to anon, authenticated;`},[w,I,x]);V.useEffect(()=>{var j;B.some(K=>K.id===G)||q(((j=B[0])==null?void 0:j.id)||"main")},[B,G]);const R=V.useMemo(()=>I.map((j,K)=>({field:j,index:K})).filter(j=>{var K;return j.field.type==="container"&&(j.field.tabId||((K=B[0])==null?void 0:K.id)||"main")===G}),[I,G,B]);V.useEffect(()=>{var K,te;const j=new Set(R.map(({field:Q})=>Q.sectionId??""));ce&&!j.has(ce)&&ye(((te=(K=R[0])==null?void 0:K.field)==null?void 0:te.sectionId)??null)},[G,R,ce]);const O=V.useMemo(()=>I.map((j,K)=>({field:j,index:K})).filter(j=>{var K;return j.field.type!=="container"&&(j.field.tabId||((K=B[0])==null?void 0:K.id)||"main")===G}),[I,G,B]),N=V.useMemo(()=>ce?O.filter(({field:j})=>j.sectionId===ce):O,[O,ce]);if(V.useEffect(()=>{var K,te;const j=N.some(({field:Q})=>Q.id===ge);ge&&!j&&ve(((te=(K=N[0])==null?void 0:K.field)==null?void 0:te.id)??null)},[N,ge]),o){const j=o.form_schema,K=(j==null?void 0:j.tabs)||[],te=(j==null?void 0:j.fields)||[],Q=(j==null?void 0:j.groups)||[],ie=In.length>0&&K.length>=9&&In.every(ke=>K.some(Fe=>Fe.id===ke.id));return d.jsxs("div",{className:"h-[calc(100vh-64px)] flex flex-col bg-gray-100 dark:bg-gray-900 overflow-hidden",children:[d.jsxs("div",{className:"flex-none bg-white dark:bg-gray-800 border-b px-4 py-3 flex items-center gap-2",children:[d.jsx(Ap,{className:"w-6 h-6 text-primary"}),d.jsx("h1",{className:"text-xl font-bold",children:o.title}),d.jsx("button",{type:"button",onClick:()=>l(null),className:"mr-auto px-3 py-2 rounded-lg bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600",children:""})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:j&&(ie?(()=>{const ke=K.map(Ye=>({id:Ye.id,label:Ye.label,icon:Ye.icon,color:Ye.color})),Fe=new Set(te.filter(Ye=>Ye.type==="container").map(Ye=>Ye.sectionId).filter(Boolean)),et=te.filter(Ye=>Ye.type==="container"||Ye.sectionId&&Fe.has(Ye.sectionId)).map(Ye=>({id:Ye.id,key:Ye.key,label:Ye.label,type:Ye.type,tabId:Ye.tabId,sectionId:Ye.sectionId??"",placeholder:Ye.placeholder,options:Ye.options,defaultValue:Ye.defaultValue,readOnly:Ye.readOnly,required:Ye.required,width:Ye.width,color:Ye.color,helpText:Ye.helpText,validation:Ye.validation,repeatableListConfig:Ye.repeatableListConfig,timePairConfig:Ye.timePairConfig,matrixConfig:Ye.matrixConfig}));return d.jsx("div",{className:"max-w-4xl mx-auto border border-gray-200 dark:border-gray-600 rounded-xl overflow-hidden bg-white dark:bg-gray-800",children:d.jsx(em,{embed:!0,readOnly:!0,personnel:Te,showNavButtons:!0,showSubmitButton:!1,initialValue:{shiftInfo:{supervisorName:(e==null?void 0:e.fullName)??""},feedLinesActive:{lineA:!1,lineB:!1}},dynamicFeedColumns:!1,customBoxes:et,customBoxValue:c,designTabs:ke})})})():d.jsx("div",{className:"max-w-4xl mx-auto border border-gray-200 dark:border-gray-600 rounded-xl overflow-hidden bg-white dark:bg-gray-800 p-4",children:d.jsx(Qp,{fields:te,tabs:K,groups:Q,value:c,onChange:()=>{},readOnly:!0,personnel:Te})}))})]})}return a==="FORM"?d.jsxs("div",{className:"h-[calc(100vh-64px)] flex flex-col bg-gray-100 dark:bg-gray-900 overflow-hidden",children:[d.jsxs("div",{className:"flex-none bg-white dark:bg-gray-800 border-b px-4 py-3 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(yd,{className:"w-7 h-7 text-primary"}),d.jsx("h1",{className:"text-xl font-bold",children:"  "})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("div",{className:"flex items-center gap-1 mr-2 border-r border-gray-200 dark:border-gray-600 pr-2",children:[d.jsx("button",{type:"button",onClick:Rr,disabled:Gt.length===0,className:"p-2 rounded-lg bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 disabled:opacity-40 disabled:cursor-not-allowed transition-colors",title:" (Undo)",children:d.jsx(J4,{className:"w-4 h-4"})}),d.jsx("button",{type:"button",onClick:ls,disabled:Le.length===0,className:"p-2 rounded-lg bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 disabled:opacity-40 disabled:cursor-not-allowed transition-colors",title:"  (Redo)",children:d.jsx($4,{className:"w-4 h-4"})})]}),d.jsx("button",{type:"button",onClick:cs,disabled:n,className:"p-2 rounded-lg bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 disabled:opacity-40 transition-colors",title:"    ",children:d.jsx(al,{className:`w-4 h-4 ${n?"animate-spin":""}`})}),d.jsxs("button",{type:"button",onClick:pa,className:"px-3 py-2 rounded-lg bg-green-600 hover:bg-green-700 text-white flex items-center gap-2",title:" ",children:[d.jsx(Zv,{className:"w-4 h-4"})," "]}),d.jsx("button",{onClick:()=>{i("LIST"),ha()},className:"px-3 py-2 rounded-lg bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600",children:""})]})]}),d.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[d.jsxs("div",{className:"w-[max(280px,32%)] max-w-[420px] flex-shrink-0 overflow-y-auto p-4 space-y-4",children:[d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border p-4 space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(Cl,{index:1,title:"   ",help:"         .              .    slug ( )         .      ."}),d.jsx("button",{type:"button",className:"inline-flex items-center justify-center w-7 h-7 rounded-full border border-gray-200 bg-gray-50 hover:bg-gray-100 text-gray-500",onClick:()=>_e(j=>!j),"aria-label":Be?"   ":"  ",children:Be?d.jsx(Qi,{className:"w-4 h-4"}):d.jsx(li,{className:"w-4 h-4"})})]}),Be&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsxs("div",{className:"text-xs font-bold text-gray-500 flex items-center gap-1",children:["  ",d.jsx("span",{className:"text-red-500",children:"*"}),d.jsx(qn,{text:"       (   HSE).        (    )      .  +           ."})]}),d.jsxs("select",{className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-700",value:T,onChange:j=>{const K=j.target.value;E(K),M(""),z(!1);const te=Rs.find(Q=>Q.id===K);b((te==null?void 0:te.title)||"")},children:[d.jsx("option",{value:"",children:" ..."}),Rs.map(j=>d.jsx("option",{value:j.id,children:j.title},j.id))]})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs("div",{className:"text-xs font-bold text-gray-500 flex items-center gap-1",children:["   ",d.jsx("span",{className:"text-red-500",children:"*"}),d.jsx(qn,{text:"        .      (Route)    .  +                 slug           ."})]}),d.jsxs("select",{className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-700",value:S,onChange:j=>{const K=j.target.value;if(K==="__new__"){M(""),z(!0);const Q=(hr==null?void 0:hr.title)||"";y(Q?Q+" -  ":""),k(Q?ac(Q).replace(/_/g,"-")+"-new":"");return}M(K),z(!0);const te=((hr==null?void 0:hr.items)||[]).find(Q=>Q.id===K);te&&(y(te.title+" -  "),k(Aj(te.id,te.path)))},disabled:!T,children:[d.jsx("option",{value:"",children:T?" ...":"    "}),((hr==null?void 0:hr.items)||[]).map(j=>d.jsx("option",{value:j.id,children:j.title},j.id)),d.jsx("option",{value:"__new__",children:"+ "})]})]})]}),F&&d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 pt-2 border-t",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsxs("div",{className:"text-xs font-bold text-gray-500 flex items-center gap-1",children:["  ",d.jsx("span",{className:"text-red-500",children:"*"}),d.jsx(qn,{text:"             . :     .          ."})]}),d.jsx("input",{className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-700",placeholder:":     ",value:x,onChange:j=>y(j.target.value)})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs("div",{className:"text-xs font-bold text-gray-500 flex items-center gap-1",children:["ID  (slug) ",d.jsx("span",{className:"text-red-500",children:"*"}),d.jsx(qn,{text:"     .    ( /shift-report)           .         . : shift-furnace-1-report"})]}),d.jsx("input",{className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-700 font-mono",placeholder:": shift-furnace-1-report",value:w,onChange:j=>k(j.target.value)})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs("div",{className:"text-xs font-bold text-gray-500 flex items-center gap-1",children:["  ",d.jsx(qn,{text:"    .   slug     (  ).  +    slug         ."})]}),d.jsx("input",{className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-gray-900/40 font-mono",value:S==="__new__"?w.replace(/-/g,""):S||"",placeholder:"  slug  ",readOnly:!0})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs("div",{className:"text-xs font-bold text-gray-500 flex items-center gap-1",children:["  ",d.jsx(qn,{text:"     (Route).  /shift-report.         .  +        slug  ."})]}),d.jsx("input",{className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-gray-900/40 font-mono",value:S==="__new__"?"/"+w:(us==null?void 0:us.path)||"",placeholder:"  slug  ",readOnly:!0})]})]})]})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border p-4 space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(Cl,{index:2,title:"SQL   ",help:" SQL        .     Supabase SQL Editor           .           Supabase  ."}),d.jsx("button",{type:"button",onClick:()=>Nt(j=>!j),className:"inline-flex items-center justify-center w-7 h-7 rounded-full border border-gray-200 bg-gray-50 hover:bg-gray-100 text-gray-500","aria-label":At?"  SQL":" SQL",children:At?d.jsx(Qi,{className:"w-4 h-4"}):d.jsx(li,{className:"w-4 h-4"})})]}),At&&d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"text-[11px] text-gray-500",children:"     SQL   Supabase       ."}),d.jsxs("div",{className:"relative",children:[d.jsx("textarea",{value:A,readOnly:!0,className:"w-full min-h-[220px] p-2 pr-12 text-xs font-mono border rounded bg-gray-50 dark:bg-gray-900/40"}),d.jsx("button",{type:"button",onClick:async()=>{try{await navigator.clipboard.writeText(A),je(!0),setTimeout(()=>je(!1),2e3)}catch{alert(" SQL  .   .")}},className:"absolute top-2 right-2 p-2 rounded-lg bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600 text-gray-600 dark:text-gray-300 hover:text-primary transition",title:qe?" ":" SQL",children:qe?d.jsx(w4,{className:"w-4 h-4 text-green-600"}):d.jsx(E4,{className:"w-4 h-4"})})]})]})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border p-4 space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(Cl,{index:3,title:" ",help:"  (     A/B/C)           (       ...)   .                   ."}),d.jsx("button",{type:"button",onClick:()=>er(j=>!j),className:"inline-flex items-center justify-center w-7 h-7 rounded-full border border-gray-200 bg-gray-50 hover:bg-gray-100 text-gray-500","aria-label":mt?"   ":"  ",children:mt?d.jsx(Qi,{className:"w-4 h-4"}):d.jsx(li,{className:"w-4 h-4"})})]}),mt&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[d.jsx("span",{className:"text-xs font-bold text-gray-600 dark:text-gray-400 uppercase tracking-wide sm:col-span-3",children:" "}),d.jsxs("button",{onClick:()=>Ze(Ij),className:"inline-flex items-center gap-2 px-3 py-2 text-sm rounded-xl bg-indigo-600 hover:bg-indigo-700 text-white shadow-sm hover:shadow transition-all",children:[d.jsx(ry,{className:"w-4 h-4"}),"   "]}),d.jsxs("button",{onClick:()=>{const j=Rj.map(K=>({...K,id:`f-${Date.now()}-${Math.random().toString(36).slice(2,6)}`}));fe(K=>K.some(te=>te.id==="downtime")?K:[...K,{id:"downtime",label:"",color:pe,icon:"clock"}]),L(K=>{const te=new Set(K.map(Q=>Q.key));return[...K,...j.filter(Q=>!te.has(Q.key))]}),q("downtime")},className:"inline-flex items-center gap-2 px-3 py-2 text-sm rounded-xl bg-amber-600 hover:bg-amber-700 text-white shadow-sm hover:shadow transition-all",children:[d.jsx(ry,{className:"w-4 h-4"}),"  "]}),d.jsxs("button",{onClick:()=>{var Fe,et,Ye;const K=B.length===9&&((Fe=B[0])==null?void 0:Fe.id)==="tab-1"&&((et=B[8])==null?void 0:et.id)==="tab-9"?`tab-${D}`:G||((Ye=B[0])==null?void 0:Ye.id)||"main",te=new Set(I.filter(rt=>{var qt;return(rt.tabId||((qt=B[0])==null?void 0:qt.id))===K}).map(rt=>rt.sectionId).filter(Boolean));let Q=1;for(;te.has(`  ${Q}`);)Q++;const ie=`  ${Q}`,ke=`box_${Date.now()}`;L(rt=>[...rt,{id:`f-${Date.now()}-${Math.random().toString(36).slice(2,6)}`,key:ke,label:" ",type:"container",sectionId:ie,tabId:K,width:4,color:"#6b7280"}]),he(ie),ye(ie),yt(!0)},className:"inline-flex items-center gap-2 px-3 py-2 text-sm rounded-xl bg-teal-600 hover:bg-teal-700 text-white shadow-sm hover:shadow transition-all",children:[d.jsx(Pi,{className:"w-4 h-4"}),"  "]}),d.jsxs("button",{onClick:()=>{var Fe,et,Ye,rt,qt;const K=B.length===9&&((Fe=B[0])==null?void 0:Fe.id)==="tab-1"&&((et=B[8])==null?void 0:et.id)==="tab-9"?`tab-${D}`:G||((Ye=B[0])==null?void 0:Ye.id)||"main",te=I.filter(St=>{var vr;return St.type==="container"&&(St.tabId||((vr=B[0])==null?void 0:vr.id))===K}),Q=new Set(te.map(St=>St.sectionId??"").filter(Boolean)),ie=te.length>0?(Q.has(ce??"")?ce:null)||(Q.has(H??"")?H:null)||((rt=te[0])==null?void 0:rt.sectionId)||"":((qt=I.filter(St=>{var vr;return(St.tabId||((vr=B[0])==null?void 0:vr.id))===K}).reverse().find(St=>St.sectionId))==null?void 0:qt.sectionId)??"",ke={...lo(),label:Nh(I),tabId:K,sectionId:ie};L(St=>[...St,ke]),he(ie||H||void 0),ve(ke.id),yt(!0)},className:"inline-flex items-center gap-2 px-3 py-2 text-sm rounded-xl bg-blue-600 hover:bg-blue-700 text-white shadow-sm hover:shadow transition-all",children:[d.jsx(Oa,{className:"w-4 h-4"}),"    "]})]}),d.jsxs("div",{className:"pt-3 border-t border-gray-200 dark:border-gray-600",children:[d.jsx("span",{className:"text-xs font-bold text-gray-600 dark:text-gray-400 uppercase tracking-wide block mb-2",children:" "}),d.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:[d.jsxs("button",{type:"button",onClick:()=>st("tabs"),className:"inline-flex items-center gap-2 px-3 py-2 text-sm rounded-xl border-0 text-white bg-violet-600 hover:bg-violet-700 shadow-sm transition-all",children:[d.jsx(yd,{className:"w-4 h-4"}),"  "]}),d.jsxs("button",{type:"button",onClick:()=>{var j,K;return B.length===9&&((j=B[0])==null?void 0:j.id)==="tab-1"&&((K=B[8])==null?void 0:K.id)==="tab-9"?Ve(te=>({...te,shift:!te.shift})):st("shift")},className:`inline-flex items-center gap-2 px-3 py-2 text-sm rounded-xl border-0 shadow-sm transition-all ${B.length===9&&((ee=B[0])==null?void 0:ee.id)==="tab-1"&&((se=B[8])==null?void 0:se.id)==="tab-9"&&!Ae.shift?"bg-gray-400 text-gray-200":"text-white bg-indigo-600 hover:bg-indigo-700"}`,children:[d.jsx(iu,{className:"w-4 h-4"})," "]}),d.jsxs("button",{type:"button",onClick:()=>{var j,K;return B.length===9&&((j=B[0])==null?void 0:j.id)==="tab-1"&&((K=B[8])==null?void 0:K.id)==="tab-9"?Ve(te=>({...te,shiftType:!te.shiftType})):st("shiftType")},className:`inline-flex items-center gap-2 px-3 py-2 text-sm rounded-xl border-0 shadow-sm transition-all ${B.length===9&&((ne=B[0])==null?void 0:ne.id)==="tab-1"&&((ue=B[8])==null?void 0:ue.id)==="tab-9"&&!Ae.shiftType?"bg-gray-400 text-gray-200":"text-white bg-blue-600 hover:bg-blue-700"}`,children:[d.jsx(V4,{className:"w-4 h-4"}),"  "]}),d.jsxs("button",{type:"button",onClick:()=>{var j,K;return B.length===9&&((j=B[0])==null?void 0:j.id)==="tab-1"&&((K=B[8])==null?void 0:K.id)==="tab-9"?Ve(te=>({...te,shiftDuration:!te.shiftDuration})):st("shiftDuration")},className:`inline-flex items-center gap-2 px-3 py-2 text-sm rounded-xl border-0 shadow-sm transition-all ${B.length===9&&((ae=B[0])==null?void 0:ae.id)==="tab-1"&&((Se=B[8])==null?void 0:Se.id)==="tab-9"&&!Ae.shiftDuration?"bg-gray-400 text-gray-200":"text-white bg-cyan-600 hover:bg-cyan-700"}`,children:[d.jsx(cx,{className:"w-4 h-4"}),"  "]}),d.jsxs("button",{type:"button",onClick:()=>{var j,K;return B.length===9&&((j=B[0])==null?void 0:j.id)==="tab-1"&&((K=B[8])==null?void 0:K.id)==="tab-9"?Ve(te=>({...te,date:!te.date})):st("date")},className:`inline-flex items-center gap-2 px-3 py-2 text-sm rounded-xl border-0 shadow-sm transition-all ${B.length===9&&((Ue=B[0])==null?void 0:Ue.id)==="tab-1"&&((We=B[8])==null?void 0:We.id)==="tab-9"&&!Ae.date?"bg-gray-400 text-gray-200":"text-white bg-emerald-600 hover:bg-emerald-700"}`,children:[d.jsx(Hf,{className:"w-4 h-4"})," "]}),d.jsxs("button",{type:"button",onClick:()=>{var j,K;return B.length===9&&((j=B[0])==null?void 0:j.id)==="tab-1"&&((K=B[8])==null?void 0:K.id)==="tab-9"?Ve(te=>({...te,weekday:!te.weekday})):st("weekday")},className:`inline-flex items-center gap-2 px-3 py-2 text-sm rounded-xl border-0 shadow-sm transition-all ${B.length===9&&((Ie=B[0])==null?void 0:Ie.id)==="tab-1"&&(($e=B[8])==null?void 0:$e.id)==="tab-9"&&!Ae.weekday?"bg-gray-400 text-gray-200":"text-white bg-teal-600 hover:bg-teal-700"}`,children:[d.jsx(v4,{className:"w-4 h-4"}),"  "]}),d.jsxs("button",{type:"button",onClick:()=>{var j,K;return B.length===9&&((j=B[0])==null?void 0:j.id)==="tab-1"&&((K=B[8])==null?void 0:K.id)==="tab-9"?Ve(te=>({...te,supervisor:!te.supervisor})):st("supervisor")},className:`inline-flex items-center gap-2 px-3 py-2 text-sm rounded-xl border-0 shadow-sm transition-all ${B.length===9&&((ut=B[0])==null?void 0:ut.id)==="tab-1"&&((Ot=B[8])==null?void 0:Ot.id)==="tab-9"&&!Ae.supervisor?"bg-gray-400 text-gray-200":"text-white bg-amber-600 hover:bg-amber-700"}`,children:[d.jsx(Ya,{className:"w-4 h-4"}),"   "]}),d.jsxs("button",{type:"button",onClick:()=>{var j,K;return B.length===9&&((j=B[0])==null?void 0:j.id)==="tab-1"&&((K=B[8])==null?void 0:K.id)==="tab-9"?Ve(te=>({...te,attendance:!te.attendance})):st("attendance")},className:`inline-flex items-center gap-2 px-3 py-2 text-sm rounded-xl border-0 shadow-sm transition-all ${B.length===9&&((Ut=B[0])==null?void 0:Ut.id)==="tab-1"&&((or=B[8])==null?void 0:or.id)==="tab-9"&&!Ae.attendance?"bg-gray-400 text-gray-200":"text-white bg-green-600 hover:bg-green-700"}`,children:[d.jsx(_g,{className:"w-4 h-4"}),"    "]}),d.jsxs("button",{type:"button",onClick:()=>{var Fe,et,Ye,rt,qt;const K=B.length===9&&((Fe=B[0])==null?void 0:Fe.id)==="tab-1"&&((et=B[8])==null?void 0:et.id)==="tab-9"?`tab-${D}`:G||((Ye=B[0])==null?void 0:Ye.id)||"main",te=I.filter(St=>{var vr;return St.type==="container"&&(St.tabId||((vr=B[0])==null?void 0:vr.id))===K}),Q=new Set(te.map(St=>St.sectionId??"").filter(Boolean)),ie=te.length>0?(Q.has(ce??"")?ce:null)||(Q.has(H??"")?H:null)||((rt=te[0])==null?void 0:rt.sectionId)||"":((qt=I.filter(St=>{var vr;return(St.tabId||((vr=B[0])==null?void 0:vr.id))===K}).reverse().find(St=>St.sectionId))==null?void 0:qt.sectionId)??"",ke={...lo(),label:Nh(I),tabId:K,sectionId:ie};L(St=>[...St,ke]),ve(ke.id),yt(!0)},className:"inline-flex items-center gap-2 px-3 py-2 text-sm rounded-xl border-0 text-white bg-blue-600 hover:bg-blue-700 shadow-sm transition-all",children:[d.jsx(Oa,{className:"w-4 h-4"}),"  "]})]})]})]})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border p-4 space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(Cl,{index:4,title:"   ",help:"       .         (    ).            .         .           ."}),d.jsx("button",{type:"button",onClick:()=>Ir(j=>!j),className:"inline-flex items-center justify-center w-7 h-7 rounded-full border border-gray-200 bg-gray-50 hover:bg-gray-100 text-gray-500","aria-label":Lt?"  ":" ",children:Lt?d.jsx(Qi,{className:"w-4 h-4"}):d.jsx(li,{className:"w-4 h-4"})})]}),Lt&&d.jsxs("div",{className:"border rounded-lg p-3 space-y-2",children:[d.jsx("div",{className:"flex items-center justify-end",children:d.jsx("button",{onClick:()=>fe(j=>[...j,Ej()]),className:"px-2 py-1 text-xs rounded bg-gray-800 text-white",children:"+  "})}),d.jsx("div",{className:"space-y-3",children:B.map((j,K)=>d.jsxs("div",{onDragOver:te=>{te.preventDefault(),te.dataTransfer.dropEffect="move"},onDrop:te=>{te.preventDefault();const Q=we,ie=K;if(Q==null||Q===ie){J(null);return}fe(ke=>{const Fe=[...ke],[et]=Fe.splice(Q,1);return Fe.splice(ie,0,et),Fe}),J(null)},className:`flex flex-col gap-2 p-3 rounded-lg border bg-gray-50 dark:bg-gray-900/40 transition-opacity ${we===K?"opacity-50":""}`,children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("div",{draggable:!0,onDragStart:te=>{J(K),te.dataTransfer.effectAllowed="move",te.dataTransfer.setData("text/plain",String(K))},onDragEnd:()=>J(null),className:"cursor-grab active:cursor-grabbing p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",title:"    ",children:d.jsx(R4,{className:"w-4 h-4"})}),d.jsx("div",{className:"flex-1 min-w-0"}),d.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[d.jsx("span",{className:"text-[10px] text-gray-400",children:":"}),d.jsx("input",{type:"number",min:1,max:B.length,className:"w-12 p-1 text-xs border rounded bg-white dark:bg-gray-700 text-center",value:K+1,onChange:te=>{const Q=parseInt(te.target.value,10);if(!Number.isNaN(Q)&&Q>=1&&Q<=B.length){const ie=Q-1;ie!==K&&fe(ke=>{const Fe=[...ke],[et]=Fe.splice(K,1);return Fe.splice(ie,0,et),Fe})}},title:"   "})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("div",{className:"text-[11px] text-gray-500",children:" "}),d.jsx("input",{className:"w-full p-2 border rounded bg-white dark:bg-gray-700",placeholder:"  ()",value:j.id,onChange:te=>fe(Q=>Q.map((ie,ke)=>ke===K?{...ie,id:te.target.value}:ie))})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("div",{className:"text-[11px] text-gray-500",children:" "}),d.jsx("input",{className:"w-full p-2 border rounded bg-white dark:bg-gray-700",placeholder:"  ()",value:j.label,onChange:te=>fe(Q=>Q.map((ie,ke)=>ke===K?{...ie,label:te.target.value}:ie))})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("div",{className:"text-[11px] text-gray-500",children:""}),d.jsxs("div",{className:"flex items-center gap-2 p-1 border rounded bg-white dark:bg-gray-700",children:[d.jsx("input",{type:"color",className:"w-9 h-8 p-0 border-0 bg-transparent cursor-pointer",value:j.color||"#800020",onChange:te=>fe(Q=>Q.map((ie,ke)=>ke===K?{...ie,color:te.target.value}:ie))}),d.jsx("input",{className:"flex-1 min-w-0 p-1 text-xs border rounded bg-white dark:bg-gray-700",value:j.color||"#800020",onChange:te=>fe(Q=>Q.map((ie,ke)=>ke===K?{...ie,color:te.target.value}:ie))})]})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("div",{className:"text-[11px] text-gray-500",children:""}),d.jsx("div",{className:"p-2 border rounded bg-white dark:bg-gray-700",children:(()=>{const te=Ih.find(ie=>ie.id===(j.icon||"clipboard"))||Ih[0],Q=te.Icon;return d.jsxs("button",{type:"button",onClick:()=>{U(j.id),re.current={tabId:j.id,tabIndex:K}},className:"w-full px-2 py-1.5 text-xs rounded border flex items-center gap-2 bg-white dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-600",children:[d.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 rounded border bg-gray-50 dark:bg-gray-900/40",children:d.jsx(Q,{className:"w-3.5 h-3.5"})}),d.jsx("span",{className:"font-medium",children:" "}),d.jsx("span",{className:"mr-auto text-[10px] text-gray-400 truncate max-w-[120px]",children:te.label})]})})()})]})]}),d.jsx("div",{className:"flex justify-end",children:d.jsxs("button",{type:"button",className:"text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 p-2 rounded border",onClick:()=>fe(te=>{if(te.length<=1)return te;const Q=te[K],ie=te.filter((ke,Fe)=>Fe!==K);return L(ke=>ke.map(Fe=>Fe.tabId===Q.id?{...Fe,tabId:ie[0].id}:Fe)),G===Q.id&&q(ie[0].id),ie}),children:[d.jsx(hn,{className:"w-4 h-4"}),"  "]})})]},j.id))}),d.jsxs("div",{className:"border-t pt-3 mt-2",children:[d.jsx("h4",{className:"text-xs font-bold text-gray-500 mb-2",children:"  "}),d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded bg-white dark:bg-gray-700",children:[d.jsx("input",{type:"color",className:"w-10 h-8 p-0 border-0 bg-transparent cursor-pointer",value:pe,onChange:j=>C(j.target.value)}),d.jsx("input",{className:"w-28 p-1 text-xs border rounded bg-white dark:bg-gray-700 font-mono",value:pe,onChange:j=>{const K=j.target.value;Ee(K),/^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(K)&&C(K)}})]}),d.jsx("div",{className:"flex flex-wrap gap-2",children:Tj.map(j=>d.jsx("button",{type:"button",title:j,onClick:()=>C(j),className:`w-7 h-7 rounded-full border-2 ${pe.toLowerCase()===j.toLowerCase()?"border-gray-900 dark:border-white":"border-transparent"}`,style:{backgroundColor:j}},j))})]}),d.jsx("p",{className:"text-[11px] text-gray-500 mt-2",children:"        ."})]}),X.length>0&&d.jsxs("div",{className:"border-t pt-3 mt-2",children:[d.jsx("h4",{className:"text-xs font-bold text-gray-500 mb-2",children:"  "}),d.jsx("p",{className:"text-[11px] text-gray-500 mb-2",children:"        .              .       ."}),d.jsx("div",{className:"space-y-2",children:X.map((j,K)=>d.jsxs("div",{className:"flex flex-wrap items-center gap-2 p-2 rounded-lg border bg-white dark:bg-gray-800",children:[d.jsx("input",{type:"color",className:"w-8 h-8 p-0 border-0 bg-transparent cursor-pointer",value:j.color,onChange:te=>W(Q=>Q.map((ie,ke)=>ke===K?{...ie,color:te.target.value}:ie))}),d.jsx("input",{className:"flex-1 min-w-[80px] p-2 text-xs border rounded bg-white dark:bg-gray-700",placeholder:" ",value:j.title,onChange:te=>W(Q=>Q.map((ie,ke)=>ke===K?{...ie,title:te.target.value}:ie))}),d.jsxs("select",{className:"p-2 text-xs border rounded bg-white dark:bg-gray-700",value:j.width??1,onChange:te=>W(Q=>Q.map((ie,ke)=>ke===K?{...ie,width:Number(te.target.value)}:ie)),children:[d.jsx("option",{value:1,children:""}),d.jsx("option",{value:2,children:""}),d.jsx("option",{value:3,children:""})]}),d.jsx("span",{className:"text-[10px] font-mono text-gray-400",children:j.id}),d.jsx("button",{type:"button",className:"p-2 text-red-600 hover:bg-red-50 rounded",onClick:()=>{W(te=>te.filter((Q,ie)=>ie!==K)),L(te=>te.map(Q=>Q.groupId===j.id?{...Q,groupId:void 0}:Q))},children:d.jsx(hn,{className:"w-4 h-4"})})]},j.id))})]})]})]}),d.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border p-4 space-y-3",children:d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(Cl,{index:5,title:"",help:"     .             .          .               ."}),d.jsx("button",{type:"button",className:"inline-flex items-center justify-center w-7 h-7 rounded-full border border-gray-200 bg-gray-50 hover:bg-gray-100 text-gray-500",onClick:()=>yt(j=>!j),"aria-label":gt?"  ":" ",children:gt?d.jsx(Qi,{className:"w-4 h-4"}):d.jsx(li,{className:"w-4 h-4"})})]}),gt&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"rounded-xl border p-3 bg-gray-50 dark:bg-gray-900/40 space-y-2",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("span",{className:"text-xs font-bold text-gray-500",children:"    :"}),d.jsx(qn,{text:"                 (   )  .             ."})]}),d.jsx("div",{className:"flex flex-wrap gap-2",children:B.map(j=>d.jsx("button",{type:"button",onClick:()=>q(j.id),className:`px-2.5 py-1.5 rounded-lg text-xs border transition ${G===j.id?"bg-primary text-white border-primary":"bg-white dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:j.label},j.id))})]}),d.jsxs("div",{className:"rounded-xl border p-3 bg-teal-50 dark:bg-teal-900/20 space-y-2",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("span",{className:"text-xs font-bold text-gray-600 dark:text-gray-400",children:"    :"}),d.jsx(qn,{text:"                ."})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("div",{className:"text-[11px] text-gray-500",children:"    "}),d.jsxs("select",{className:"w-full p-2 border rounded bg-white dark:bg-gray-700 text-sm",value:ce||"",onChange:j=>ye(j.target.value||null),children:[d.jsx("option",{value:"",children:"   "}),R.map(({field:j})=>d.jsx("option",{value:j.sectionId??"",children:j.sectionId||j.key||"  "},j.id))]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("span",{className:"text-xs text-gray-500",children:[R.length,"    "]}),d.jsxs("button",{type:"button",className:"inline-flex items-center gap-1 px-2 py-1 text-xs rounded border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700",onClick:()=>Xe(j=>!j),children:[ct?d.jsx(Qi,{className:"w-3.5 h-3.5"}):d.jsx(li,{className:"w-3.5 h-3.5"}),ct?"  ":"  "]})]}),ct&&d.jsx("div",{className:"space-y-2 pt-2",children:R.length===0?d.jsx("p",{className:"text-xs text-gray-500 py-2",children:"     .         ."}):R.map(({field:j,index:K})=>{var te;return d.jsxs("div",{className:"rounded-lg border border-teal-200 dark:border-teal-800 p-3 bg-white dark:bg-gray-800 space-y-2",children:[d.jsxs("div",{className:"flex items-center gap-2 text-xs text-teal-700 dark:text-teal-300 font-bold",children:[d.jsx(Pi,{className:"w-4 h-4"})," "]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsxs("div",{className:"col-span-2 space-y-1",children:[d.jsx("div",{className:"text-[11px] text-gray-500",children:"  ()"}),d.jsx("input",{type:"text",autoComplete:"off",className:"w-full p-2 border rounded bg-white dark:bg-gray-700",placeholder:":   ",value:j.sectionId??"",onChange:Q=>{const ie=Q.target.value,ke=j.sectionId??"";L(Fe=>Fe.map((et,Ye)=>Ye===K?{...et,sectionId:ie}:et.sectionId===ke?{...et,sectionId:ie}:et)),ce===ke&&ye(ie),H===ke&&he(ie)}})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("div",{className:"text-[11px] text-gray-500",children:" "}),d.jsx("select",{className:"w-full p-2 border rounded bg-white dark:bg-gray-700",value:j.tabId||((te=B[0])==null?void 0:te.id)||"",onChange:Q=>{const ie=Q.target.value,ke=j.sectionId??"";L(Fe=>Fe.map((et,Ye)=>Ye===K?{...et,tabId:ie}:et.sectionId===ke?{...et,tabId:ie}:et))},children:B.map(Q=>d.jsx("option",{value:Q.id,children:Q.label},Q.id))})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("div",{className:"text-[11px] text-gray-500",children:" "}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"color",className:"w-9 h-8 p-0 border rounded bg-white dark:bg-gray-700 cursor-pointer",value:j.color||"#6b7280",onChange:Q=>L(ie=>ie.map((ke,Fe)=>Fe===K?{...ke,color:Q.target.value}:ke))}),d.jsx("input",{className:"flex-1 min-w-0 p-1.5 text-xs border rounded bg-white dark:bg-gray-700 font-mono",value:j.color||"",onChange:Q=>L(ie=>ie.map((ke,Fe)=>Fe===K?{...ke,color:Q.target.value}:ke)),placeholder:"#6b7280"})]})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("div",{className:"text-[11px] text-gray-500",children:"  (key)"}),d.jsx("input",{className:"w-full p-2 border rounded bg-white dark:bg-gray-700 font-mono text-xs",placeholder:"box_xxx",value:j.key||"",onChange:Q=>L(ie=>ie.map((ke,Fe)=>Fe===K?{...ke,key:Q.target.value}:ke)),readOnly:!0})]}),d.jsx("div",{className:"col-span-2",children:d.jsxs("button",{type:"button",className:"text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 p-2 rounded border text-xs",onClick:()=>L(Q=>Q.filter((ie,ke)=>ke!==K)),children:[d.jsx(hn,{className:"w-3.5 h-3.5 inline mr-1"})," "]})})]})]},j.id)})})]}),d.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[d.jsxs("span",{className:"text-xs text-gray-500",children:["   : ",ce?O.filter(({field:j})=>j.sectionId===ce).length:R.length>0?" (  )":0]}),d.jsxs("button",{type:"button",onClick:()=>{var ke,Fe,et,Ye,rt,qt;const K=B.length===9&&((ke=B[0])==null?void 0:ke.id)==="tab-1"&&((Fe=B[8])==null?void 0:Fe.id)==="tab-9"?`tab-${D}`:G||((et=B[0])==null?void 0:et.id)||"main",te=new Set(R.map(({field:St})=>St.sectionId??"").filter(Boolean)),Q=R.length>0?(te.has(ce??"")?ce:null)||(te.has(H??"")?H:null)||((rt=(Ye=R[0])==null?void 0:Ye.field)==null?void 0:rt.sectionId)||"":((qt=I.filter(St=>{var vr;return(St.tabId||((vr=B[0])==null?void 0:vr.id))===K}).reverse().find(St=>St.sectionId))==null?void 0:qt.sectionId)??"",ie={...lo(),label:Nh(I),tabId:K,sectionId:Q};L(St=>[...St,ie]),ve(ie.id)},className:"inline-flex items-center gap-2 px-3 py-2 text-sm rounded-xl bg-blue-600 hover:bg-blue-700 text-white shadow-sm",children:[d.jsx(Oa,{className:"w-4 h-4"}),"  "]})]}),O.length===0&&d.jsx("div",{className:"text-center py-8 rounded-xl border border-dashed text-gray-500 text-sm",children:d.jsx("p",{children:"       .             ."})}),O.length>0&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("div",{className:"text-[11px] text-gray-500",children:"   "}),d.jsxs("select",{className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 font-medium",value:ge??"",onChange:j=>ve(j.target.value||null),children:[d.jsx("option",{value:"",children:"     "}),N.map(({field:j,index:K})=>d.jsxs("option",{value:j.id,children:[j.label||j.key||` ${K+1}`," (",j.key||`field_${K+1}`,")"]},j.id))]})]}),ge&&(()=>{var Q,ie,ke,Fe,et,Ye,rt,qt,St,vr,ri,yu,b1,S1,E1,T1,C1,A1,N1,I1;const j=O.find(({field:Re})=>Re.id===ge);if(!j)return null;const{field:K,index:te}=j;return d.jsxs("div",{className:"space-y-4 border rounded-lg p-3 bg-white/50 dark:bg-gray-800/50",children:[d.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[d.jsx("span",{className:"font-bold",children:" "}),d.jsx("span",{className:"font-mono",children:K.key||`field_${te+1}`}),d.jsx(qn,{text:"  (key)       SQL     .              ."})]}),d.jsx(Tl,{title:" ",color:"#2563eb",children:d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsxs("div",{className:"text-[11px] text-gray-500",children:["  (key) ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("input",{className:"w-full p-2 border rounded bg-white dark:bg-gray-700 font-mono",placeholder:": shift_name",value:K.key,onChange:Re=>L(ze=>ze.map((xe,Ke)=>Ke===te?{...xe,key:Re.target.value}:xe))})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs("div",{className:"text-[11px] text-gray-500 flex items-center gap-1",children:["  (  ) ",d.jsx(qn,{text:"               .   ."})]}),d.jsx("input",{type:"text",autoComplete:"off",className:"w-full p-2 border rounded bg-white dark:bg-gray-700",placeholder:":   ( =  )",value:K.label??"",onChange:Re=>L(ze=>ze.map((xe,Ke)=>Ke===te?{...xe,label:Re.target.value}:xe))})]}),d.jsxs("div",{className:"space-y-1 col-span-2",children:[d.jsxs("div",{className:"text-[11px] text-gray-500 flex items-center gap-1",children:["  ",d.jsx(qn,{text:"     .           ."})]}),d.jsxs("select",{className:"w-full p-2 border rounded bg-white dark:bg-gray-700",value:(()=>{var xe;const ze=I.filter(Ke=>Ke.type==="container").find(Ke=>{var Kt,qr;return(Ke.tabId||((Kt=B[0])==null?void 0:Kt.id))===(K.tabId||((qr=B[0])==null?void 0:qr.id))&&(Ke.sectionId??"")===(K.sectionId??"")});return ze?`${ze.tabId||((xe=B[0])==null?void 0:xe.id)}::${ze.sectionId??""}`:""})(),onChange:Re=>{const ze=Re.target.value;if(!ze){L(Kt=>Kt.map((qr,I0)=>{var pl;return I0===te?{...qr,tabId:G||((pl=B[0])==null?void 0:pl.id),sectionId:"__default__"}:qr}));return}const[xe,Ke]=ze.split("::");L(Kt=>Kt.map((qr,I0)=>{var pl;return I0===te?{...qr,tabId:xe||((pl=B[0])==null?void 0:pl.id),sectionId:Ke||"__default__"}:qr}))},children:[d.jsx("option",{value:"",children:"   "}),I.filter(Re=>Re.type==="container").map(Re=>{var xe;const ze=B.find(Ke=>{var Kt;return Ke.id===(Re.tabId||((Kt=B[0])==null?void 0:Kt.id))});return d.jsxs("option",{value:`${Re.tabId||((xe=B[0])==null?void 0:xe.id)}::${Re.sectionId??""}`,children:[(ze==null?void 0:ze.label)||Re.tabId,"  ",Re.sectionId||"  "]},`${Re.tabId}::${Re.sectionId}`)})]})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("div",{className:"text-[11px] text-gray-500",children:""}),d.jsxs("select",{className:"w-full p-2 border rounded bg-white dark:bg-gray-700",value:K.width||2,onChange:Re=>L(ze=>ze.map((xe,Ke)=>Ke===te?{...xe,width:Number(Re.target.value)}:xe)),children:[d.jsx("option",{value:1,children:"/"}),d.jsx("option",{value:2,children:"/"}),d.jsx("option",{value:3,children:"/"}),d.jsx("option",{value:4,children:" ()"})]})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("div",{className:"text-[11px] text-gray-500",children:" "}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"color",className:"w-9 h-8 p-0 border rounded bg-white dark:bg-gray-700 cursor-pointer",value:K.color||"#6b7280",onChange:Re=>L(ze=>ze.map((xe,Ke)=>Ke===te?{...xe,color:Re.target.value}:xe))}),d.jsx("input",{className:"flex-1 min-w-0 p-1.5 text-xs border rounded bg-white dark:bg-gray-700 font-mono",value:K.color||"",onChange:Re=>L(ze=>ze.map((xe,Ke)=>Ke===te?{...xe,color:Re.target.value}:xe)),placeholder:"#6b7280"})]})]})]})}),d.jsx(Tl,{title:" ",color:"#16a34a",children:d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:Pj.map(Re=>{const ze=Re.Icon,xe=K.type===Re.id;return d.jsxs("button",{type:"button",onClick:()=>L(Ke=>Ke.map((Kt,qr)=>qr===te?{...Kt,type:Re.id}:Kt)),className:`inline-flex items-center gap-1 px-2 py-1.5 text-xs rounded border transition ${xe?"bg-primary text-white border-primary":"bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 border-gray-200 dark:border-gray-600"}`,children:[d.jsx(ze,{className:"w-3.5 h-3.5"}),Re.title]},`${K.id}-${Re.id}`)})})}),d.jsx(Tl,{title:"  ",color:"#9333ea",children:d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsxs("label",{className:"text-xs flex items-center gap-1 p-2 border rounded bg-white dark:bg-gray-700",children:[d.jsx("input",{type:"checkbox",checked:!!K.required,onChange:Re=>L(ze=>ze.map((xe,Ke)=>Ke===te?{...xe,required:Re.target.checked}:xe))})," "]}),d.jsxs("label",{className:"text-xs flex items-center gap-1 p-2 border rounded bg-white dark:bg-gray-700",children:[d.jsx("input",{type:"checkbox",checked:!!K.readOnly,onChange:Re=>L(ze=>ze.map((xe,Ke)=>Ke===te?{...xe,readOnly:Re.target.checked}:xe))}),"  "]}),d.jsxs("div",{className:"space-y-1 col-span-2",children:[d.jsx("div",{className:"text-[11px] text-gray-500",children:"   "}),d.jsx("input",{className:"w-full p-2 border rounded bg-white dark:bg-gray-700",placeholder:"placeholder",value:K.placeholder||"",onChange:Re=>L(ze=>ze.map((xe,Ke)=>Ke===te?{...xe,placeholder:Re.target.value}:xe))})]}),d.jsxs("div",{className:"space-y-1 col-span-2",children:[d.jsx("div",{className:"text-[11px] text-gray-500",children:" "}),d.jsx("input",{className:"w-full p-2 border rounded bg-white dark:bg-gray-700",placeholder:":   ...",value:K.helpText||"",onChange:Re=>L(ze=>ze.map((xe,Ke)=>Ke===te?{...xe,helpText:Re.target.value}:xe))})]})]})}),d.jsx(Tl,{title:"",color:"#d97706",children:d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[K.type==="number"&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("div",{className:"text-[11px] text-gray-500",children:" "}),d.jsx("input",{className:"w-full p-2 border rounded bg-white dark:bg-gray-700",placeholder:"min",value:((Q=K.validation)==null?void 0:Q.min)??"",onChange:Re=>L(ze=>ze.map((xe,Ke)=>Ke===te?{...xe,validation:{...xe.validation||{},min:Re.target.value===""?void 0:Number(Re.target.value)}}:xe))})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("div",{className:"text-[11px] text-gray-500",children:" "}),d.jsx("input",{className:"w-full p-2 border rounded bg-white dark:bg-gray-700",placeholder:"max",value:((ie=K.validation)==null?void 0:ie.max)??"",onChange:Re=>L(ze=>ze.map((xe,Ke)=>Ke===te?{...xe,validation:{...xe.validation||{},max:Re.target.value===""?void 0:Number(Re.target.value)}}:xe))})]})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("div",{className:"text-[11px] text-gray-500",children:"  "}),d.jsx("input",{className:"w-full p-2 border rounded bg-white dark:bg-gray-700 font-mono text-xs",placeholder:": ^[-]+$",value:((ke=K.validation)==null?void 0:ke.regex)||"",onChange:Re=>L(ze=>ze.map((xe,Ke)=>Ke===te?{...xe,validation:{...xe.validation||{},regex:Re.target.value||void 0}}:xe))})]}),(K.type==="date"||K.type==="time")&&d.jsxs("div",{className:"space-y-1",children:[d.jsx("div",{className:"text-[11px] text-gray-500",children:"      "}),d.jsx("input",{className:"w-full p-2 border rounded bg-white dark:bg-gray-700 font-mono text-xs",placeholder:K.type==="date"?": report_date":": end_time",value:((Fe=K.validation)==null?void 0:Fe.mustBeLessOrEqualField)||"",onChange:Re=>L(ze=>ze.map((xe,Ke)=>{var Kt;return Ke===te?{...xe,validation:{...xe.validation||{},mustBeLessOrEqualField:((Kt=Re.target.value)==null?void 0:Kt.trim())||void 0}}:xe}))})]})]})}),d.jsx(Tl,{title:"  ",color:"#64748b",children:d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("div",{className:"text-[11px] text-gray-500",children:"  -   "}),d.jsx("input",{className:"w-full p-2 border rounded bg-white dark:bg-gray-700",placeholder:": shift_type",value:((Ye=(et=K.validation)==null?void 0:et.dependsOn)==null?void 0:Ye.field)||"",onChange:Re=>L(ze=>ze.map((xe,Ke)=>{var Kt,qr;return Ke===te?{...xe,validation:{...xe.validation||{},dependsOn:Re.target.value?{field:Re.target.value,equals:((qr=(Kt=xe.validation)==null?void 0:Kt.dependsOn)==null?void 0:qr.equals)??""}:void 0}}:xe}))})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("div",{className:"text-[11px] text-gray-500",children:"  -   "}),d.jsx("input",{className:"w-full p-2 border rounded bg-white dark:bg-gray-700",placeholder:": Day1",value:((qt=(rt=K.validation)==null?void 0:rt.dependsOn)==null?void 0:qt.equals)??"",onChange:Re=>L(ze=>ze.map((xe,Ke)=>{var Kt,qr;return Ke===te?{...xe,validation:{...xe.validation||{},dependsOn:(qr=(Kt=xe.validation)==null?void 0:Kt.dependsOn)!=null&&qr.field?{field:xe.validation.dependsOn.field,equals:Re.target.value}:void 0}}:xe}))})]}),K.type==="select"&&d.jsxs("div",{className:"col-span-2 space-y-1",children:[d.jsx("div",{className:"text-[11px] text-gray-500",children:"  ( : label:value)"}),d.jsx("textarea",{className:"w-full p-2 border rounded bg-white dark:bg-gray-700 min-h-[60px]",placeholder:` ( : label:value)
:
 A:A
 B:B`,value:(K.options||[]).map(Re=>`${Re.label}:${Re.value}`).join(`
`),onChange:Re=>L(ze=>ze.map((xe,Ke)=>Ke===te?{...xe,options:P(Re.target.value)}:xe))})]}),(K.type==="time_pair"||K.type==="matrix")&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("div",{className:"text-[11px] text-gray-500",children:"    "}),d.jsx("input",{className:"w-full p-2 border rounded bg-white dark:bg-gray-700",placeholder:": shift_duration",value:((St=K.validation)==null?void 0:St.totalMustEqualField)||"",onChange:Re=>L(ze=>ze.map((xe,Ke)=>Ke===te?{...xe,validation:{...xe.validation||{},totalMustEqualField:Re.target.value||void 0}}:xe))})]}),K.type==="time_pair"&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"space-y-1 col-span-2",children:[d.jsx("div",{className:"text-[11px] text-gray-500",children:"  "}),d.jsx("input",{className:"w-full p-2 border rounded bg-white dark:bg-gray-700",placeholder:" ",value:((vr=K.timePairConfig)==null?void 0:vr.workLabel)||"",onChange:Re=>L(ze=>ze.map((xe,Ke)=>Ke===te?{...xe,timePairConfig:{...xe.timePairConfig||{},workLabel:Re.target.value}}:xe))})]}),d.jsxs("div",{className:"space-y-1 col-span-2",children:[d.jsx("div",{className:"text-[11px] text-gray-500",children:"  "}),d.jsx("input",{className:"w-full p-2 border rounded bg-white dark:bg-gray-700",placeholder:" ",value:((ri=K.timePairConfig)==null?void 0:ri.stopLabel)||"",onChange:Re=>L(ze=>ze.map((xe,Ke)=>Ke===te?{...xe,timePairConfig:{...xe.timePairConfig||{},stopLabel:Re.target.value}}:xe))})]}),d.jsxs("label",{className:"text-xs flex items-center gap-1 p-2 border rounded bg-white dark:bg-gray-700 col-span-2",children:[d.jsx("input",{type:"checkbox",checked:!!((yu=K.timePairConfig)!=null&&yu.requireReasonWhenStop),onChange:Re=>L(ze=>ze.map((xe,Ke)=>Ke===te?{...xe,timePairConfig:{...xe.timePairConfig||{},requireReasonWhenStop:Re.target.checked}}:xe))}),"  "]}),d.jsx("input",{className:"col-span-2 p-2 border rounded bg-white dark:bg-gray-700",placeholder:"  ",value:((b1=K.timePairConfig)==null?void 0:b1.reasonLabel)||"",onChange:Re=>L(ze=>ze.map((xe,Ke)=>Ke===te?{...xe,timePairConfig:{...xe.timePairConfig||{},reasonLabel:Re.target.value}}:xe))})]})]}),K.type==="repeatable_list"&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("div",{className:"text-[11px] text-gray-500",children:"placeholder "}),d.jsx("input",{className:"w-full p-2 border rounded bg-white dark:bg-gray-700",placeholder:"placeholder ",value:((S1=K.repeatableListConfig)==null?void 0:S1.placeholder)||"",onChange:Re=>L(ze=>ze.map((xe,Ke)=>Ke===te?{...xe,repeatableListConfig:{...xe.repeatableListConfig||{},placeholder:Re.target.value}}:xe))})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("div",{className:"text-[11px] text-gray-500",children:"minItems"}),d.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-white dark:bg-gray-700",placeholder:"minItems",value:((E1=K.repeatableListConfig)==null?void 0:E1.minItems)??"",onChange:Re=>L(ze=>ze.map((xe,Ke)=>Ke===te?{...xe,repeatableListConfig:{...xe.repeatableListConfig||{},minItems:Re.target.value===""?void 0:Number(Re.target.value)}}:xe))})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("div",{className:"text-[11px] text-gray-500",children:"maxItems"}),d.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-white dark:bg-gray-700",placeholder:"maxItems",value:((T1=K.repeatableListConfig)==null?void 0:T1.maxItems)??"",onChange:Re=>L(ze=>ze.map((xe,Ke)=>Ke===te?{...xe,repeatableListConfig:{...xe.repeatableListConfig||{},maxItems:Re.target.value===""?void 0:Number(Re.target.value)}}:xe))})]})]}),K.type==="matrix"&&d.jsxs("div",{className:"col-span-2 space-y-2",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("div",{className:"text-[11px] text-gray-500",children:"  (   )"}),d.jsx("textarea",{className:"w-full p-2 border rounded bg-white dark:bg-gray-700 min-h-[70px]",placeholder:`rows (   )
 A
 B`,value:(((C1=K.matrixConfig)==null?void 0:C1.rows)||[]).join(`
`),onChange:Re=>L(ze=>ze.map((xe,Ke)=>Ke===te?{...xe,matrixConfig:{...xe.matrixConfig||{rows:[],columns:[]},rows:Re.target.value.split(`
`).map(Kt=>Kt.trim()).filter(Boolean)}}:xe))})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("div",{className:"text-[11px] text-gray-500",children:"  (   )"}),d.jsx("textarea",{className:"w-full p-2 border rounded bg-white dark:bg-gray-700 min-h-[70px]",placeholder:`
`,value:(((A1=K.matrixConfig)==null?void 0:A1.columns)||[]).join(`
`),onChange:Re=>L(ze=>ze.map((xe,Ke)=>Ke===te?{...xe,matrixConfig:{...xe.matrixConfig||{rows:[],columns:[]},columns:Re.target.value.split(`
`).map(Kt=>Kt.trim()).filter(Boolean)}}:xe))})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("div",{className:"text-[11px] text-gray-500",children:" "}),d.jsx("input",{className:"w-full p-2 border rounded bg-white dark:bg-gray-700",placeholder:"defaultValue",value:((N1=K.matrixConfig)==null?void 0:N1.defaultValue)||"",onChange:Re=>L(ze=>ze.map((xe,Ke)=>Ke===te?{...xe,matrixConfig:{...xe.matrixConfig||{rows:[],columns:[]},defaultValue:Re.target.value}}:xe))})]}),d.jsxs("label",{className:"block text-xs flex items-center gap-1 p-2 border rounded bg-white dark:bg-gray-700",children:[d.jsx("input",{type:"checkbox",checked:!!((I1=K.matrixConfig)!=null&&I1.enforceNumeric),onChange:Re=>L(ze=>ze.map((xe,Ke)=>Ke===te?{...xe,matrixConfig:{...xe.matrixConfig||{rows:[],columns:[]},enforceNumeric:Re.target.checked}}:xe))}),"    +    "]})]})]})}),d.jsxs("button",{type:"button",className:"w-full text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 p-2 rounded border col-span-2",onClick:()=>L(Re=>Re.length>1?Re.filter((ze,xe)=>xe!==te):Re),children:[d.jsx(hn,{className:"w-4 h-4 inline mr-1"})," "]})]},K.id)})()]})]})]})}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("button",{type:"button",onClick:pa,className:"px-4 py-2 rounded-lg bg-primary text-white flex items-center gap-2",children:[d.jsx(Zv,{className:"w-4 h-4"}),"  "]}),d.jsxs("button",{type:"button",onClick:async()=>{await pa();const j=w.trim();j&&(await GP(j),alert("  ."),await Ur())},className:"px-4 py-2 rounded-lg bg-green-600 text-white flex items-center gap-2",children:[d.jsx(Y4,{className:"w-4 h-4"}),"   "]})]})]}),d.jsxs("div",{className:"flex-1 min-w-[min(480px,45%)] border-r border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 overflow-y-auto",children:[d.jsxs("div",{className:"sticky top-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4 py-3 flex items-center gap-2 z-10",children:[d.jsx(Ap,{className:"w-5 h-5 text-primary"}),d.jsx("span",{className:"font-bold text-sm",children:""})]}),d.jsxs("div",{className:"p-4",children:[d.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"      ."}),In.every(j=>B.some(K=>K.id===j.id))?(()=>{const j=B.map(Q=>({id:Q.id,label:Q.label,icon:Q.icon,color:Q.color})),K=j.findIndex(Q=>Q.id===G),te=K>=0?K+1:1;return d.jsx("div",{className:"border border-gray-200 dark:border-gray-600 rounded-xl overflow-hidden",children:d.jsx(em,{embed:!0,readOnly:!1,personnel:Te,showNavButtons:!0,showSubmitButton:!1,initialValue:{shiftInfo:{supervisorName:(e==null?void 0:e.fullName)??""},feedLinesActive:{lineA:!1,lineB:!1}},dynamicFeedColumns:!0,customBoxes:(()=>{const Q=new Set(I.filter(ie=>ie.type==="container").map(ie=>ie.sectionId).filter(Boolean));return I.filter(ie=>ie.type==="container"||ie.sectionId&&Q.has(ie.sectionId)).map(ie=>({id:ie.id,key:ie.key,label:ie.label,type:ie.type,tabId:ie.tabId,sectionId:ie.sectionId??"",placeholder:ie.placeholder,options:ie.options,defaultValue:ie.defaultValue,readOnly:ie.readOnly,required:ie.required,width:ie.width,color:ie.color,helpText:ie.helpText,validation:ie.validation,repeatableListConfig:ie.repeatableListConfig,timePairConfig:ie.timePairConfig,matrixConfig:ie.matrixConfig}))})(),customBoxValue:Pe,onCustomBoxChange:(Q,ie)=>Z(ke=>({...ke,[Q]:ie})),onPreviewTabChange:Q=>{var ie;Ce(Q),q(((ie=j[Q-1])==null?void 0:ie.id)??`tab-${Q}`)},controlledActiveTab:te,visibleTools:Ae,designTabs:j})})})():d.jsx(Qp,{fields:I,tabs:B,groups:X,value:Pe,onChange:Z,activeTabId:G,onTabChange:q,personnel:Te})]})]})]}),Y&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:()=>{U(null),re.current=null},children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-2xl w-full mx-4 max-h-[80vh] overflow-hidden flex flex-col",onClick:j=>j.stopPropagation(),children:[d.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-600 flex items-center justify-between",children:[d.jsx("h3",{className:"font-bold",children:"  "}),d.jsx("button",{type:"button",onClick:()=>{U(null),re.current=null},className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500",children:""})]}),d.jsx("div",{className:"p-4 overflow-y-auto flex-1",children:d.jsx("div",{className:"grid grid-cols-6 sm:grid-cols-8 gap-2",children:Ih.map(j=>{var ke;const K=j.Icon,te=re.current,Q=te?te.tabIndex:B.findIndex(Fe=>Fe.id===Y),ie=Q>=0&&(((ke=B[Q])==null?void 0:ke.icon)||"clipboard")===j.id;return d.jsxs("button",{type:"button",title:j.label,onClick:Fe=>{Fe.stopPropagation(),Fe.preventDefault();const et=re.current,Ye=j.id;et&&(fe(rt=>rt.map(qt=>qt.id===et.tabId?{...qt,icon:Ye}:qt)),U(null),re.current=null)},className:`flex flex-col items-center gap-1 p-3 rounded-xl border-2 transition ${ie?"border-primary bg-primary/10 text-primary":"border-transparent hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[d.jsx(K,{className:"w-6 h-6"}),d.jsx("span",{className:"text-[10px] truncate w-full text-center",children:j.label})]},j.id)})})})]})})]}):d.jsx(VT,{title:"  ",icon:yd,data:t,columns:Yi,isLoading:n,selectedIds:h,onSelect:p,onAdd:()=>{ha(),i("FORM")},onReload:Ur,onEdit:Me,onViewDetails:le,exportName:"ReportFormDefinitions"})},Fj=Object.freeze(Object.defineProperty({__proto__:null,ReportFormDesign:G_,SHIFT_TABS_PRESET:In,default:G_},Symbol.toStringTag,{value:"Module"})),d1=e=>`report_records_fallback_${e}`,f1=(e,t)=>{if(!e)return t;try{return JSON.parse(e)}catch{return t}},Mj=async e=>{try{const{data:t,error:r}=await It.from("report_records").select("*").eq("definition_id",e).order("created_at",{ascending:!1});if(r)throw r;return t||[]}catch{return f1(localStorage.getItem(d1(e)),[])}},Dj=async e=>{try{const{data:t,error:r}=await It.from("report_records").upsert([e]).select("*").single();if(r)throw r;return t}catch{const t=d1(e.definition_id),r=f1(localStorage.getItem(t),[]),n=new Date().toISOString(),s={id:e.id||`local-${Date.now()}`,definition_id:e.definition_id,tracking_code:e.tracking_code||null,report_date:e.report_date||null,payload:e.payload,payload_version:e.payload_version||1,created_at:e.id?void 0:n,updated_at:n},a=r.findIndex(i=>i.id===s.id);return a>=0?r[a]={...r[a],...s}:r.unshift(s),localStorage.setItem(t,JSON.stringify(r)),s}},Lj=async(e,t)=>{try{const{error:r}=await It.from("report_records").delete().eq("definition_id",e).in("id",t);if(r)throw r}catch{const r=d1(e),n=f1(localStorage.getItem(r),[]);localStorage.setItem(r,JSON.stringify(n.filter(s=>!t.includes(s.id))))}},Oj=(e,t,r,n)=>{e("/report-template-preview",{state:{moduleId:t,record:r,userRoles:[],runtimeParams:{}}})},Uj=new Set(["report_date","shift_name","shift","supervisor_name"]),Al=e=>{const t=String(e||"");if(!t.includes(":"))return 0;const[r,n]=t.split(":").map(Number);return Number.isNaN(r)||Number.isNaN(n)?0:r*60+n},tm=({user:e,slug:t,initialDefinition:r})=>{var ve;const{slug:n=""}=HI(),s=t??n,a=fg(),[i,o]=V.useState(r??null),[l,c]=V.useState([]),[u,h]=V.useState([]),[p,g]=V.useState(!0),[v,x]=V.useState("LIST"),[y,w]=V.useState(null),[k,_]=V.useState({}),[b,T]=V.useState([]),[E,S]=V.useState(""),[M,F]=V.useState(""),[z,Y]=V.useState("ALL"),U=async()=>{g(!0);try{const H=r??await bx(s);if(o(H),H){const he=await Mj(H.id);c(he)}else c([])}finally{g(!1)}};V.useEffect(()=>{r&&o(r)},[r==null?void 0:r.id]),V.useEffect(()=>{U()},[s]),V.useEffect(()=>{SS("personnel").then(H=>T(H||[])).catch(()=>T([]))},[]),V.useEffect(()=>{const H=k.report_date||k.date;if(!H)return;const he=es(H);if(!he)return;const Ce=["","","","","","",""][he.getDay()]||"";_(Ae=>Ae.weekday===Ce?Ae:{...Ae,weekday:Ce})},[k.report_date,k.date]);const re=()=>{var he;const H={};if(i){const D=((he=i.form_schema)==null?void 0:he.fields)||[];e&&D.some(Ce=>Ce.key==="supervisor_name")&&(H.supervisor_name=e.fullName),D.some(Ce=>Ce.key==="report_date")?H.report_date=Tn():D.some(Ce=>Ce.key==="date")&&(H.date=Tn())}return H},B=V.useMemo(()=>{var Ve,Pe;if(!i)return[];const H=((Ve=i.template_schema)==null?void 0:Ve.modulePath)==="/control-room",he={header:" ",accessor:Z=>{var Te;return Z.tracking_code??((Te=Z.payload)==null?void 0:Te.tracking_code)??"-"},sortKey:"tracking_code"},Ae=(((Pe=i.list_schema)==null?void 0:Pe.columns)||[]).filter(Z=>!((Z.key||"").toLowerCase()==="tracking_code"||H&&!Uj.has((Z.key||"").trim()))).map(Z=>({header:Z.label,accessor:Te=>{var He;return((He=Te.payload)==null?void 0:He[Z.key])??Te[Z.key]??"-"},sortKey:`payload.${Z.key}`}));return[he,...Ae]},[i]),fe=((ve=i==null?void 0:i.template_schema)==null?void 0:ve.modulePath)==="/control-room",we=fe?"  ":((i==null?void 0:i.title)||"").replace(/\s*-\s* \s*$/i,"").trim()||(i==null?void 0:i.title)||"",J=V.useMemo(()=>{if(!fe)return l;let H=l;const he=Ce=>{var Ae;return Ce.report_date??((Ae=Ce.payload)==null?void 0:Ae.report_date)??""},D=Ce=>{var Ae,Ve;return((Ae=Ce.payload)==null?void 0:Ae.shift_name)??((Ve=Ce.payload)==null?void 0:Ve.shift)??""};return E&&(H=H.filter(Ce=>he(Ce)>=E)),M&&(H=H.filter(Ce=>he(Ce)<=M)),z!=="ALL"&&(H=H.filter(Ce=>D(Ce)===z)),H},[l,fe,E,M,z]),X=fe?d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsx(Ua,{label:" ",value:E,onChange:S}),d.jsx(Ua,{label:" ",value:M,onChange:F}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:""}),d.jsxs("select",{className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-800",value:z,onChange:H=>Y(H.target.value),children:[d.jsx("option",{value:"ALL",children:""}),d.jsx("option",{value:"A",children:" A"}),d.jsx("option",{value:"B",children:" B"}),d.jsx("option",{value:"C",children:" C"})]})]})]}):null,W=i==null?void 0:i.form_schema,pe=(W==null?void 0:W.tabs)||[],Ee=(W==null?void 0:W.fields)||[],I=(W==null?void 0:W.groups)||[],L=i!=null&&In.length>0&&pe.length>=9&&In.every(H=>pe.some(he=>he.id===H.id)),G=V.useMemo(()=>{if(!L||!Ee.length)return[];const H=new Set(Ee.filter(he=>he.type==="container").map(he=>he.sectionId).filter(Boolean));return Ee.filter(he=>he.type==="container"||he.sectionId&&H.has(he.sectionId)).map(he=>({id:he.id,key:he.key,label:he.label,type:he.type,tabId:he.tabId,sectionId:he.sectionId??"",placeholder:he.placeholder,options:he.options,defaultValue:he.defaultValue,readOnly:he.readOnly,required:he.required,width:he.width,color:he.color,helpText:he.helpText,validation:he.validation,repeatableListConfig:he.repeatableListConfig,timePairConfig:he.timePairConfig,matrixConfig:he.matrixConfig}))},[L,Ee]),q=()=>{var he,D,Ce,Ae,Ve,Pe,Z,Te,He,qe,je,At,Nt;if(!i)return!1;const H=((he=i.form_schema)==null?void 0:he.fields)||[];for(const Be of H){const _e=k[Be.key],mt=_e==null||String(_e).trim()==="",er=Be.type==="repeatable_list"&&(!Array.isArray(_e)||_e.filter(Xe=>String(Xe||"").trim()).length===0),Lt=Be.type==="time_pair"&&(!_e||!String(_e.workTime||"").trim()&&!String(_e.stopTime||"").trim()),Ir=Be.type==="matrix"&&(!_e||!Object.values(_e).some(Xe=>Xe&&Object.values(Xe).some(gt=>String(gt||"").trim()!==""))),ct=Be.type==="attendance"&&(!_e||!Object.values(((D=_e[Be.key])==null?void 0:D.attendanceMap)||{}).some(Xe=>Xe==="PRESENT"||Xe==="LEAVE"||Xe==="ABSENT"));if(Be.required&&(mt||er||Lt||Ir||ct))return alert(` ${Be.label}  .`),!1;if(Be.type==="number"&&_e!==""&&_e!==void 0){const Xe=Number(_e);if(Number.isNaN(Xe))return alert(` ${Be.label}   .`),!1;if(((Ce=Be.validation)==null?void 0:Ce.min)!==void 0&&Xe<Be.validation.min)return alert(`  ${Be.label}  ${Be.validation.min} .`),!1;if(((Ae=Be.validation)==null?void 0:Ae.max)!==void 0&&Xe>Be.validation.max)return alert(`  ${Be.label}  ${Be.validation.max} .`),!1}if((Be.type==="date"||Be.type==="time")&&((Ve=Be.validation)!=null&&Ve.mustBeLessOrEqualField)&&_e){const Xe=Be.validation.mustBeLessOrEqualField,gt=k[Xe];if(gt!=null&&String(gt).trim()!==""){const yt=H.find(de=>de.key===Xe),Gt=(yt==null?void 0:yt.label)||Xe;if(Be.type==="date"){const de=es(String(_e)),Le=es(String(gt));if(de&&Le&&de.getTime()>Le.getTime())return alert(` ${Be.label}    ${Gt} .`),!1}else if(Be.type==="time"){const de=Al(_e),Le=Al(gt);if(de>Le)return alert(` ${Be.label}    ${Gt} .`),!1}}}if((Pe=Be.validation)!=null&&Pe.regex&&_e&&!new RegExp(Be.validation.regex).test(String(_e)))return alert(Be.validation.regexMessage||`  ${Be.label}  .`),!1;if(Be.type==="time_pair"){const Xe=_e||{},gt=Al(Xe.stopTime);if((Z=Be.timePairConfig)!=null&&Z.requireReasonWhenStop&&gt>0&&!String(Xe.reason||"").trim())return alert(` ${Be.label}        .`),!1;if((Te=Be.validation)!=null&&Te.totalMustEqualField){const yt=Al(k[Be.validation.totalMustEqualField]);if(yt>0&&Al(Xe.workTime)+gt!==yt)return alert(` ${Be.label}       ${Be.validation.totalMustEqualField}  .`),!1}}if(Be.type==="repeatable_list"){const Xe=Array.isArray(_e)?_e.map(Gt=>String(Gt||"").trim()).filter(Boolean):[],gt=(He=Be.repeatableListConfig)==null?void 0:He.minItems,yt=(qe=Be.repeatableListConfig)==null?void 0:qe.maxItems;if(gt!==void 0&&Xe.length<gt)return alert(`  ${Be.label}   ${gt} .`),!1;if(yt!==void 0&&Xe.length>yt)return alert(`  ${Be.label}    ${yt} .`),!1}if(Be.type==="matrix"){const Xe=_e||{};if((je=Be.matrixConfig)!=null&&je.enforceNumeric)for(const gt of Object.keys(Xe))for(const yt of Object.keys(Xe[gt]||{})){const Gt=String(((At=Xe[gt])==null?void 0:At[yt])??"").trim();if(Gt&&Number.isNaN(Number(Gt)))return alert(` ${Be.label}   ${gt} / ${yt}   .`),!1}if((Nt=Be.validation)!=null&&Nt.totalMustEqualField){const gt=Number(k[Be.validation.totalMustEqualField]);if(!Number.isNaN(gt)&&gt>0&&Object.values(Xe).reduce((Gt,de)=>{const Le=Object.values(de||{}).reduce((Qe,at)=>{const bt=Number(at);return Number.isNaN(bt)?Qe:Qe+bt},0);return Gt+Le},0)!==gt)return alert(` ${Be.label}     ${Be.validation.totalMustEqualField}  .`),!1}}}return!0},ce=async()=>{var D;if(!i||!q())return;const H=`${i.slug.slice(0,3).toUpperCase()}-`,he=y?(D=l.find(Ce=>Ce.id===y))==null?void 0:D.tracking_code:await ES(H);await Dj({id:y||void 0,definition_id:i.id,tracking_code:he||null,report_date:k.report_date||k.date||null,payload:k,payload_version:i.published_version||i.version||1}),alert("   ."),x("LIST"),w(null),_({}),await U()},ye=H=>{var D,Ce;w(H.id);const he={...H.payload||{}};e&&((Ce=(D=i==null?void 0:i.form_schema)==null?void 0:D.fields)!=null&&Ce.some(Ae=>Ae.key==="supervisor_name"))&&(he.supervisor_name=e.fullName),_(he),x("FORM")},ge=async H=>{i&&(await Lj(i.id,H),h([]),await U())};return i?v==="FORM"?d.jsxs("div",{className:L?"max-w-7xl mx-auto pb-24":"max-w-5xl mx-auto pb-20 space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6 sticky top-0 bg-gray-50 dark:bg-gray-900 z-20 py-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx($a,{className:"w-7 h-7 text-primary"}),d.jsx("h1",{className:"text-2xl font-bold",children:we})]}),d.jsx("button",{className:"px-3 py-2 rounded-lg bg-gray-100 hover:bg-gray-200",onClick:()=>x("LIST"),children:""})]}),d.jsxs("div",{className:L?"":"bg-white dark:bg-gray-800 rounded-xl border p-4",children:[L?d.jsx("div",{className:"border border-gray-200 dark:border-gray-600 rounded-xl overflow-hidden",children:d.jsx(em,{embed:!0,readOnly:!1,personnel:b,showNavButtons:!0,showSubmitButton:!1,initialValue:(()=>{var he,D,Ce,Ae,Ve,Pe;const H=k;return{...H,shiftInfo:{name:((he=H.shiftInfo)==null?void 0:he.name)??"A",type:((D=H.shiftInfo)==null?void 0:D.type)??"Day1",date:((Ce=H.shiftInfo)==null?void 0:Ce.date)??H.report_date??Tn(),shiftDuration:((Ae=H.shiftInfo)==null?void 0:Ae.shiftDuration)??H.shift_duration??"12:00",supervisor:((Ve=H.shiftInfo)==null?void 0:Ve.supervisor)??"",supervisorName:((Pe=H.shiftInfo)==null?void 0:Pe.supervisorName)??H.supervisor_name??(e==null?void 0:e.fullName)??""}}})(),dynamicFeedColumns:!0,customBoxes:G,customBoxValue:k,onCustomBoxChange:(H,he)=>_(D=>({...D,[H]:he})),onFullStateChange:_,designTabs:pe.map(H=>({id:H.id,label:H.label,icon:H.icon,color:H.color})),visibleTools:{shift:!0,shiftType:!0,shiftDuration:!0,date:!0,weekday:!0,supervisor:!0,attendance:!0}})}):d.jsx(Qp,{fields:Ee,tabs:pe,groups:I,value:k,onChange:_,personnel:b}),d.jsxs("div",{className:"pt-4 mt-4 border-t flex items-center gap-2",children:[d.jsx("button",{className:"px-4 py-2 rounded-lg bg-primary text-white",onClick:ce,children:" "}),d.jsx("button",{className:"px-4 py-2 rounded-lg bg-gray-100 hover:bg-gray-200",onClick:()=>x("LIST"),children:""})]})]})]}):d.jsx(VT,{title:we,icon:$a,data:J,columns:B,selectedIds:u,onSelect:h,isLoading:p,onAdd:()=>{w(null),_(re()),x("FORM")},onReload:U,onEdit:ye,onViewDetails:ye,onDelete:ge,onPrint:H=>Oj(a,i.slug,H),exportName:i.slug,filterContent:X}):p?d.jsx("div",{className:"max-w-3xl mx-auto py-16 text-center",children:d.jsx("div",{className:"animate-pulse text-gray-400",children:"  ..."})}):d.jsxs("div",{className:"max-w-3xl mx-auto py-16 text-center",children:[d.jsx("h2",{className:"text-xl font-bold mb-3",children:"   "}),d.jsx("p",{className:"text-gray-500 mb-4",children:"        / ."}),d.jsx("button",{className:"px-4 py-2 rounded bg-gray-100 hover:bg-gray-200",onClick:()=>a("/report-form-design"),children:"    "})]})},Bj=Object.freeze(Object.defineProperty({__proto__:null,DynamicReportRuntime:tm,default:tm},Symbol.toStringTag,{value:"Module"})),ai=({path:e,FallbackComponent:t,user:r})=>{const[n,s]=V.useState("loading");return V.useEffect(()=>{let a=!1;return $P(e).then(i=>{a||s(i??null)}),()=>{a=!0}},[e]),n==="loading"?d.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:d.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-primary border-t-transparent rounded-full"})}):n?d.jsx(tm,{user:r,slug:n.slug,initialDefinition:n}):d.jsx(t,{user:r})},jj=({enabled:e})=>{const[t,r]=V.useState([]);return V.useEffect(()=>{if(e){const n=Array.from({length:40}).map((s,a)=>({id:a,left:Math.random()*100+"vw",animationDuration:Math.random()*3+5+"s",animationDelay:Math.random()*5+"s",opacity:Math.random()*.5+.3,size:Math.random()*4+2+"px"}));r(n)}else r([])},[e]),e?d.jsxs("div",{className:"fixed inset-0 pointer-events-none z-[60] overflow-hidden",children:[d.jsx("style",{children:`
          @keyframes snowfall {
            0% { transform: translateY(-10px) translateX(0); }
            100% { transform: translateY(110vh) translateX(20px); }
          }
        `}),t.map(n=>d.jsx("div",{className:"absolute bg-white rounded-full drop-shadow-sm",style:{left:n.left,top:"-10px",width:n.size,height:n.size,opacity:n.opacity,animation:`snowfall ${n.animationDuration} linear infinite`,animationDelay:n.animationDelay}},n.id))]}):null};var $j={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Vj,Hj;function Gj(){return{geminiUrl:Vj,vertexUrl:Hj}}function Wj(e,t,r,n){var s,a;if(!(e!=null&&e.baseUrl)){const i=Gj();return t?(s=i.vertexUrl)!==null&&s!==void 0?s:r:(a=i.geminiUrl)!==null&&a!==void 0?a:n}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ua{}function Ge(e,t){const r=/\{([^}]+)\}/g;return e.replace(r,(n,s)=>{if(Object.prototype.hasOwnProperty.call(t,s)){const a=t[s];return a!=null?String(a):""}else throw new Error(`Key '${s}' not found in valueMap.`)})}function m(e,t,r){for(let a=0;a<t.length-1;a++){const i=t[a];if(i.endsWith("[]")){const o=i.slice(0,-2);if(!(o in e))if(Array.isArray(r))e[o]=Array.from({length:r.length},()=>({}));else throw new Error(`Value must be a list given an array path ${i}`);if(Array.isArray(e[o])){const l=e[o];if(Array.isArray(r))for(let c=0;c<l.length;c++){const u=l[c];m(u,t.slice(a+1),r[c])}else for(const c of l)m(c,t.slice(a+1),r)}return}else if(i.endsWith("[0]")){const o=i.slice(0,-3);o in e||(e[o]=[{}]);const l=e[o];m(l[0],t.slice(a+1),r);return}(!e[i]||typeof e[i]!="object")&&(e[i]={}),e=e[i]}const n=t[t.length-1],s=e[n];if(s!==void 0){if(!r||typeof r=="object"&&Object.keys(r).length===0||r===s)return;if(typeof s=="object"&&typeof r=="object"&&s!==null&&r!==null)Object.assign(s,r);else throw new Error(`Cannot set value for an existing key. Key: ${n}`)}else n==="_self"&&typeof r=="object"&&r!==null&&!Array.isArray(r)?Object.assign(e,r):e[n]=r}function f(e,t,r=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let n=0;n<t.length;n++){if(typeof e!="object"||e===null)return r;const s=t[n];if(s.endsWith("[]")){const a=s.slice(0,-2);if(a in e){const i=e[a];return Array.isArray(i)?i.map(o=>f(o,t.slice(n+1),r)):r}else return r}else e=e[s]}return e}catch(n){if(n instanceof TypeError)return r;throw n}}function zj(e,t){for(const[r,n]of Object.entries(t)){const s=r.split("."),a=n.split("."),i=new Set;let o=-1;for(let l=0;l<s.length;l++)if(s[l]==="*"){o=l;break}if(o!==-1&&a.length>o)for(let l=o;l<a.length;l++){const c=a[l];c!=="*"&&!c.endsWith("[]")&&!c.endsWith("[0]")&&i.add(c)}rm(e,s,a,0,i)}}function rm(e,t,r,n,s){if(n>=t.length||typeof e!="object"||e===null)return;const a=t[n];if(a.endsWith("[]")){const i=a.slice(0,-2),o=e;if(i in o&&Array.isArray(o[i]))for(const l of o[i])rm(l,t,r,n+1,s)}else if(a==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const i=e,o=Object.keys(i).filter(c=>!c.startsWith("_")&&!s.has(c)),l={};for(const c of o)l[c]=i[c];for(const[c,u]of Object.entries(l)){const h=[];for(const p of r.slice(n))p==="*"?h.push(c):h.push(p);m(i,h,u)}for(const c of o)delete i[c]}}else{const i=e;a in i&&rm(i[a],t,r,n+1,s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function h1(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qj(e){const t={},r=f(e,["operationName"]);r!=null&&m(t,["operationName"],r);const n=f(e,["resourceName"]);return n!=null&&m(t,["_url","resourceName"],n),t}function Kj(e){const t={},r=f(e,["name"]);r!=null&&m(t,["name"],r);const n=f(e,["metadata"]);n!=null&&m(t,["metadata"],n);const s=f(e,["done"]);s!=null&&m(t,["done"],s);const a=f(e,["error"]);a!=null&&m(t,["error"],a);const i=f(e,["response","generateVideoResponse"]);return i!=null&&m(t,["response"],Yj(i)),t}function Jj(e){const t={},r=f(e,["name"]);r!=null&&m(t,["name"],r);const n=f(e,["metadata"]);n!=null&&m(t,["metadata"],n);const s=f(e,["done"]);s!=null&&m(t,["done"],s);const a=f(e,["error"]);a!=null&&m(t,["error"],a);const i=f(e,["response"]);return i!=null&&m(t,["response"],Xj(i)),t}function Yj(e){const t={},r=f(e,["generatedSamples"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>Qj(i))),m(t,["generatedVideos"],a)}const n=f(e,["raiMediaFilteredCount"]);n!=null&&m(t,["raiMediaFilteredCount"],n);const s=f(e,["raiMediaFilteredReasons"]);return s!=null&&m(t,["raiMediaFilteredReasons"],s),t}function Xj(e){const t={},r=f(e,["videos"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>Zj(i))),m(t,["generatedVideos"],a)}const n=f(e,["raiMediaFilteredCount"]);n!=null&&m(t,["raiMediaFilteredCount"],n);const s=f(e,["raiMediaFilteredReasons"]);return s!=null&&m(t,["raiMediaFilteredReasons"],s),t}function Qj(e){const t={},r=f(e,["video"]);return r!=null&&m(t,["video"],a$(r)),t}function Zj(e){const t={},r=f(e,["_self"]);return r!=null&&m(t,["video"],i$(r)),t}function e$(e){const t={},r=f(e,["operationName"]);return r!=null&&m(t,["_url","operationName"],r),t}function t$(e){const t={},r=f(e,["operationName"]);return r!=null&&m(t,["_url","operationName"],r),t}function r$(e){const t={},r=f(e,["name"]);r!=null&&m(t,["name"],r);const n=f(e,["metadata"]);n!=null&&m(t,["metadata"],n);const s=f(e,["done"]);s!=null&&m(t,["done"],s);const a=f(e,["error"]);a!=null&&m(t,["error"],a);const i=f(e,["response"]);return i!=null&&m(t,["response"],n$(i)),t}function n$(e){const t={},r=f(e,["sdkHttpResponse"]);r!=null&&m(t,["sdkHttpResponse"],r);const n=f(e,["parent"]);n!=null&&m(t,["parent"],n);const s=f(e,["documentName"]);return s!=null&&m(t,["documentName"],s),t}function WT(e){const t={},r=f(e,["name"]);r!=null&&m(t,["name"],r);const n=f(e,["metadata"]);n!=null&&m(t,["metadata"],n);const s=f(e,["done"]);s!=null&&m(t,["done"],s);const a=f(e,["error"]);a!=null&&m(t,["error"],a);const i=f(e,["response"]);return i!=null&&m(t,["response"],s$(i)),t}function s$(e){const t={},r=f(e,["sdkHttpResponse"]);r!=null&&m(t,["sdkHttpResponse"],r);const n=f(e,["parent"]);n!=null&&m(t,["parent"],n);const s=f(e,["documentName"]);return s!=null&&m(t,["documentName"],s),t}function a$(e){const t={},r=f(e,["uri"]);r!=null&&m(t,["uri"],r);const n=f(e,["encodedVideo"]);n!=null&&m(t,["videoBytes"],h1(n));const s=f(e,["encoding"]);return s!=null&&m(t,["mimeType"],s),t}function i$(e){const t={},r=f(e,["gcsUri"]);r!=null&&m(t,["uri"],r);const n=f(e,["bytesBase64Encoded"]);n!=null&&m(t,["videoBytes"],h1(n));const s=f(e,["mimeType"]);return s!=null&&m(t,["mimeType"],s),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var W_;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(W_||(W_={}));var z_;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(z_||(z_={}));var q_;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(q_||(q_={}));var Aa;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(Aa||(Aa={}));var K_;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(K_||(K_={}));var J_;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(J_||(J_={}));var Y_;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Y_||(Y_={}));var X_;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(X_||(X_={}));var Q_;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(Q_||(Q_={}));var Z_;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Z_||(Z_={}));var ew;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(ew||(ew={}));var tw;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(tw||(tw={}));var rw;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(rw||(rw={}));var nw;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(nw||(nw={}));var sw;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(sw||(sw={}));var aw;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(aw||(aw={}));var iw;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(iw||(iw={}));var ow;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(ow||(ow={}));var lw;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(lw||(lw={}));var cw;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(cw||(cw={}));var uw;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(uw||(uw={}));var hf;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(hf||(hf={}));var dw;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(dw||(dw={}));var fw;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(fw||(fw={}));var hw;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(hw||(hw={}));var nm;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(nm||(nm={}));var pw;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(pw||(pw={}));var mw;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(mw||(mw={}));var sm;(function(e){e.COLLECTION="COLLECTION"})(sm||(sm={}));var gw;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(gw||(gw={}));var xw;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(xw||(xw={}));var vw;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(vw||(vw={}));var yw;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(yw||(yw={}));var _w;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(_w||(_w={}));var ww;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(ww||(ww={}));var kw;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(kw||(kw={}));var bw;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(bw||(bw={}));var Sw;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Sw||(Sw={}));var Ew;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(Ew||(Ew={}));var Tw;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(Tw||(Tw={}));var Cw;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(Cw||(Cw={}));var Aw;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(Aw||(Aw={}));var Nw;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING",e.DISTILLATION="DISTILLATION"})(Nw||(Nw={}));var Iw;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(Iw||(Iw={}));var Rw;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(Rw||(Rw={}));var Pw;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED",e.REGISTERED="REGISTERED"})(Pw||(Pw={}));var Fw;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Fw||(Fw={}));var Mw;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(Mw||(Mw={}));var Dw;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Dw||(Dw={}));var Lw;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.ACTIVITY_START="ACTIVITY_START",e.ACTIVITY_END="ACTIVITY_END"})(Lw||(Lw={}));var Ow;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Ow||(Ow={}));var Uw;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Uw||(Uw={}));var Bw;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(Bw||(Bw={}));var jw;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(jw||(jw={}));var $w;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})($w||($w={}));var Vw;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(Vw||(Vw={}));var No;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(No||(No={}));class am{constructor(t){const r={};for(const n of t.headers.entries())r[n[0]]=n[1];this.headers=r,this.responseInternal=t}json(){return this.responseInternal.json()}}class Nl{get text(){var t,r,n,s,a,i,o,l;if(((s=(n=(r=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",u=!1;const h=[];for(const p of(l=(o=(i=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[g,v]of Object.entries(p))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(v!==null||v!==void 0)&&h.push(g);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;u=!0,c+=p.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?c:void 0}get data(){var t,r,n,s,a,i,o,l;if(((s=(n=(r=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const u=[];for(const h of(l=(o=(i=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[p,g]of Object.entries(h))p!=="inlineData"&&(g!==null||g!==void 0)&&u.push(p);h.inlineData&&typeof h.inlineData.data=="string"&&(c+=atob(h.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var t,r,n,s,a,i,o,l;if(((s=(n=(r=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(l=(o=(i=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(u=>u.functionCall).map(u=>u.functionCall).filter(u=>u!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var t,r,n,s,a,i,o,l,c;if(((s=(n=(r=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const u=(l=(o=(i=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if((u==null?void 0:u.length)!==0)return(c=u==null?void 0:u[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var t,r,n,s,a,i,o,l,c;if(((s=(n=(r=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const u=(l=(o=(i=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if((u==null?void 0:u.length)!==0)return(c=u==null?void 0:u[0])===null||c===void 0?void 0:c.output}}class Hw{}class Gw{}class o${}class l${}class c${}class u${}class Ww{}class zw{}class qw{}class d${}class pf{_fromAPIResponse({apiResponse:t,_isVertexAI:r}){const n=new pf;let s;const a=t;return r?s=Jj(a):s=Kj(a),Object.assign(n,s),n}}class Kw{}class Jw{}class Yw{}class Xw{}class f${}class h${}class p${}class p1{_fromAPIResponse({apiResponse:t,_isVertexAI:r}){const n=new p1,a=r$(t);return Object.assign(n,a),n}}class m${}class g${}class x${}class v${}class Qw{}class y${get text(){var t,r,n;let s="",a=!1;const i=[];for(const o of(n=(r=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&n!==void 0?n:[]){for(const[l,c]of Object.entries(o))l!=="text"&&l!=="thought"&&c!==null&&i.push(l);if(typeof o.text=="string"){if(typeof o.thought=="boolean"&&o.thought)continue;a=!0,s+=o.text}}return i.length>0&&console.warn(`there are non-text parts ${i} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?s:void 0}get data(){var t,r,n;let s="";const a=[];for(const i of(n=(r=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&n!==void 0?n:[]){for(const[o,l]of Object.entries(i))o!=="inlineData"&&l!==null&&a.push(o);i.inlineData&&typeof i.inlineData.data=="string"&&(s+=atob(i.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}}class _${get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class m1{_fromAPIResponse({apiResponse:t,_isVertexAI:r}){const n=new m1,a=WT(t);return Object.assign(n,a),n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dt(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const r=t.split("/",2);return`publishers/${r[0]}/models/${r[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function zT(e,t){const r=Dt(e,t);return r?r.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${r}`:r.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${r}`:r:""}function qT(e){return Array.isArray(e)?e.map(t=>mf(t)):[mf(e)]}function mf(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function KT(e){const t=mf(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function JT(e){const t=mf(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Zw(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function YT(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>Zw(t)):[Zw(e)]}function im(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function e2(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function t2(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function nn(e){if(e==null)throw new Error("ContentUnion is required");return im(e)?e:{role:"user",parts:YT(e)}}function g1(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(r=>{const n=nn(r);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]});if(e.isVertexAI()){const r=nn(t);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]}return Array.isArray(t)?t.map(r=>nn(r)):[nn(t)]}function rs(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(e2(e)||t2(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[nn(e)]}const t=[],r=[],n=im(e[0]);for(const s of e){const a=im(s);if(a!=n)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)t.push(s);else{if(e2(s)||t2(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(s)}}return n||t.push({role:"user",parts:YT(r)}),t}function w$(e,t){e.includes("null")&&(t.nullable=!0);const r=e.filter(n=>n!=="null");if(r.length===1)t.type=Object.values(Aa).includes(r[0].toUpperCase())?r[0].toUpperCase():Aa.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const n of r)t.anyOf.push({type:Object.values(Aa).includes(n.toUpperCase())?n.toUpperCase():Aa.TYPE_UNSPECIFIED})}}function Vo(e){const t={},r=["items"],n=["anyOf"],s=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=e.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(t.nullable=!0,e=a[1]):a[1].type==="null"&&(t.nullable=!0,e=a[0])),e.type instanceof Array&&w$(e.type,t);for(const[i,o]of Object.entries(e))if(o!=null)if(i=="type"){if(o==="null")throw new Error("type: null can not be the only possible type for the field.");if(o instanceof Array)continue;t.type=Object.values(Aa).includes(o.toUpperCase())?o.toUpperCase():Aa.TYPE_UNSPECIFIED}else if(r.includes(i))t[i]=Vo(o);else if(n.includes(i)){const l=[];for(const c of o){if(c.type=="null"){t.nullable=!0;continue}l.push(Vo(c))}t[i]=l}else if(s.includes(i)){const l={};for(const[c,u]of Object.entries(o))l[c]=Vo(u);t[i]=l}else{if(i==="additionalProperties")continue;t[i]=o}return t}function x1(e){return Vo(e)}function v1(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function y1(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function dl(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Vo(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Vo(t.response));return e}function fl(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const r of e)t.push(r);return t}function k$(e,t,r,n=1){const s=!t.startsWith(`${r}/`)&&t.split("/").length===n;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${r}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:s?`projects/${e.getProject()}/locations/${e.getLocation()}/${r}/${t}`:t:s?`${r}/${t}`:t}function da(e,t){if(typeof t!="string")throw new Error("name must be a string");return k$(e,t,"cachedContents")}function XT(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function ei(e){return h1(e)}function b$(e){return e!=null&&typeof e=="object"&&"name"in e}function S$(e){return e!=null&&typeof e=="object"&&"video"in e}function E$(e){return e!=null&&typeof e=="object"&&"uri"in e}function QT(e){var t;let r;if(b$(e)&&(r=e.name),!(E$(e)&&(r=e.uri,r===void 0))&&!(S$(e)&&(r=(t=e.video)===null||t===void 0?void 0:t.uri,r===void 0))){if(typeof e=="string"&&(r=e),r===void 0)throw new Error("Could not extract file name from the provided input.");if(r.startsWith("https://")){const s=r.split("files/")[1].match(/[a-z0-9]+/);if(s===null)throw new Error(`Could not extract file name from URI ${r}`);r=s[0]}else r.startsWith("files/")&&(r=r.split("files/")[1]);return r}}function ZT(e,t){let r;return e.isVertexAI()?r=t?"publishers/google/models":"models":r=t?"models":"tunedModels",r}function eC(e){for(const t of["models","tunedModels","publisherModels"])if(T$(e,t))return e[t];return[]}function T$(e,t){return e!==null&&typeof e=="object"&&t in e}function C$(e,t={}){const r=e,n={name:r.name,description:r.description,parametersJsonSchema:r.inputSchema};return r.outputSchema&&(n.responseJsonSchema=r.outputSchema),t.behavior&&(n.behavior=t.behavior),{functionDeclarations:[n]}}function A$(e,t={}){const r=[],n=new Set;for(const s of e){const a=s.name;if(n.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);n.add(a);const i=C$(s,t);i.functionDeclarations&&r.push(...i.functionDeclarations)}return{functionDeclarations:r}}function tC(e,t){let r;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))r={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))r={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))r={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");r={inlinedRequests:t}}else r=t;const n=[r.gcsUri,r.bigqueryUri].filter(Boolean).length,s=[r.inlinedRequests,r.fileName].filter(Boolean).length;if(e.isVertexAI()){if(s>0||n!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(n>0||s!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return r}function N$(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function rC(e){if(typeof e!="object"||e===null)return{};const t=e,r=t.inlinedResponses;if(typeof r!="object"||r===null)return e;const s=r.inlinedResponses;if(!Array.isArray(s)||s.length===0)return e;let a=!1;for(const i of s){if(typeof i!="object"||i===null)continue;const l=i.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){a=!0;break}}return a&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function hl(e,t){const r=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(r))return r.split("/").pop();throw new Error(`Invalid batch job name: ${r}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(r))return r.split("/").pop();if(/^\d+$/.test(r))return r;throw new Error(`Invalid batch job name: ${r}.`)}function nC(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function I$(e){const t={},r=f(e,["responsesFile"]);r!=null&&m(t,["fileName"],r);const n=f(e,["inlinedResponses","inlinedResponses"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(i=>uV(i))),m(t,["inlinedResponses"],a)}const s=f(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(i=>i)),m(t,["inlinedEmbedContentResponses"],a)}return t}function R$(e){const t={},r=f(e,["predictionsFormat"]);r!=null&&m(t,["format"],r);const n=f(e,["gcsDestination","outputUriPrefix"]);n!=null&&m(t,["gcsUri"],n);const s=f(e,["bigqueryDestination","outputUri"]);return s!=null&&m(t,["bigqueryUri"],s),t}function P$(e){const t={},r=f(e,["format"]);r!=null&&m(t,["predictionsFormat"],r);const n=f(e,["gcsUri"]);n!=null&&m(t,["gcsDestination","outputUriPrefix"],n);const s=f(e,["bigqueryUri"]);if(s!=null&&m(t,["bigqueryDestination","outputUri"],s),f(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(f(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function wd(e){const t={},r=f(e,["name"]);r!=null&&m(t,["name"],r);const n=f(e,["metadata","displayName"]);n!=null&&m(t,["displayName"],n);const s=f(e,["metadata","state"]);s!=null&&m(t,["state"],nC(s));const a=f(e,["metadata","createTime"]);a!=null&&m(t,["createTime"],a);const i=f(e,["metadata","endTime"]);i!=null&&m(t,["endTime"],i);const o=f(e,["metadata","updateTime"]);o!=null&&m(t,["updateTime"],o);const l=f(e,["metadata","model"]);l!=null&&m(t,["model"],l);const c=f(e,["metadata","output"]);return c!=null&&m(t,["dest"],I$(rC(c))),t}function om(e){const t={},r=f(e,["name"]);r!=null&&m(t,["name"],r);const n=f(e,["displayName"]);n!=null&&m(t,["displayName"],n);const s=f(e,["state"]);s!=null&&m(t,["state"],nC(s));const a=f(e,["error"]);a!=null&&m(t,["error"],a);const i=f(e,["createTime"]);i!=null&&m(t,["createTime"],i);const o=f(e,["startTime"]);o!=null&&m(t,["startTime"],o);const l=f(e,["endTime"]);l!=null&&m(t,["endTime"],l);const c=f(e,["updateTime"]);c!=null&&m(t,["updateTime"],c);const u=f(e,["model"]);u!=null&&m(t,["model"],u);const h=f(e,["inputConfig"]);h!=null&&m(t,["src"],F$(h));const p=f(e,["outputConfig"]);p!=null&&m(t,["dest"],R$(rC(p)));const g=f(e,["completionStats"]);return g!=null&&m(t,["completionStats"],g),t}function F$(e){const t={},r=f(e,["instancesFormat"]);r!=null&&m(t,["format"],r);const n=f(e,["gcsSource","uris"]);n!=null&&m(t,["gcsUri"],n);const s=f(e,["bigquerySource","inputUri"]);return s!=null&&m(t,["bigqueryUri"],s),t}function M$(e,t){const r={};if(f(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const n=f(t,["fileName"]);n!=null&&m(r,["fileName"],n);const s=f(t,["inlinedRequests"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(i=>cV(e,i))),m(r,["requests","requests"],a)}return r}function D$(e){const t={},r=f(e,["format"]);r!=null&&m(t,["instancesFormat"],r);const n=f(e,["gcsUri"]);n!=null&&m(t,["gcsSource","uris"],n);const s=f(e,["bigqueryUri"]);if(s!=null&&m(t,["bigquerySource","inputUri"],s),f(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function L$(e){const t={},r=f(e,["data"]);if(r!=null&&m(t,["data"],r),f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(e,["mimeType"]);return n!=null&&m(t,["mimeType"],n),t}function O$(e,t){const r={},n=f(t,["name"]);return n!=null&&m(r,["_url","name"],hl(e,n)),r}function U$(e,t){const r={},n=f(t,["name"]);return n!=null&&m(r,["_url","name"],hl(e,n)),r}function B$(e){const t={},r=f(e,["content"]);r!=null&&m(t,["content"],r);const n=f(e,["citationMetadata"]);n!=null&&m(t,["citationMetadata"],j$(n));const s=f(e,["tokenCount"]);s!=null&&m(t,["tokenCount"],s);const a=f(e,["finishReason"]);a!=null&&m(t,["finishReason"],a);const i=f(e,["avgLogprobs"]);i!=null&&m(t,["avgLogprobs"],i);const o=f(e,["groundingMetadata"]);o!=null&&m(t,["groundingMetadata"],o);const l=f(e,["index"]);l!=null&&m(t,["index"],l);const c=f(e,["logprobsResult"]);c!=null&&m(t,["logprobsResult"],c);const u=f(e,["safetyRatings"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(g=>g)),m(t,["safetyRatings"],p)}const h=f(e,["urlContextMetadata"]);return h!=null&&m(t,["urlContextMetadata"],h),t}function j$(e){const t={},r=f(e,["citationSources"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(s=>s)),m(t,["citations"],n)}return t}function sC(e){const t={},r=f(e,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>xV(a))),m(t,["parts"],s)}const n=f(e,["role"]);return n!=null&&m(t,["role"],n),t}function $$(e,t){const r={},n=f(e,["displayName"]);if(t!==void 0&&n!=null&&m(t,["batch","displayName"],n),f(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return r}function V$(e,t){const r={},n=f(e,["displayName"]);t!==void 0&&n!=null&&m(t,["displayName"],n);const s=f(e,["dest"]);return t!==void 0&&s!=null&&m(t,["outputConfig"],P$(N$(s))),r}function r2(e,t){const r={},n=f(t,["model"]);n!=null&&m(r,["_url","model"],Dt(e,n));const s=f(t,["src"]);s!=null&&m(r,["batch","inputConfig"],M$(e,tC(e,s)));const a=f(t,["config"]);return a!=null&&$$(a,r),r}function H$(e,t){const r={},n=f(t,["model"]);n!=null&&m(r,["model"],Dt(e,n));const s=f(t,["src"]);s!=null&&m(r,["inputConfig"],D$(tC(e,s)));const a=f(t,["config"]);return a!=null&&V$(a,r),r}function G$(e,t){const r={},n=f(e,["displayName"]);return t!==void 0&&n!=null&&m(t,["batch","displayName"],n),r}function W$(e,t){const r={},n=f(t,["model"]);n!=null&&m(r,["_url","model"],Dt(e,n));const s=f(t,["src"]);s!=null&&m(r,["batch","inputConfig"],Q$(e,s));const a=f(t,["config"]);return a!=null&&G$(a,r),r}function z$(e,t){const r={},n=f(t,["name"]);return n!=null&&m(r,["_url","name"],hl(e,n)),r}function q$(e,t){const r={},n=f(t,["name"]);return n!=null&&m(r,["_url","name"],hl(e,n)),r}function K$(e){const t={},r=f(e,["sdkHttpResponse"]);r!=null&&m(t,["sdkHttpResponse"],r);const n=f(e,["name"]);n!=null&&m(t,["name"],n);const s=f(e,["done"]);s!=null&&m(t,["done"],s);const a=f(e,["error"]);return a!=null&&m(t,["error"],a),t}function J$(e){const t={},r=f(e,["sdkHttpResponse"]);r!=null&&m(t,["sdkHttpResponse"],r);const n=f(e,["name"]);n!=null&&m(t,["name"],n);const s=f(e,["done"]);s!=null&&m(t,["done"],s);const a=f(e,["error"]);return a!=null&&m(t,["error"],a),t}function Y$(e,t){const r={},n=f(t,["contents"]);if(n!=null){let a=g1(e,n);Array.isArray(a)&&(a=a.map(i=>i)),m(r,["requests[]","request","content"],a)}const s=f(t,["config"]);return s!=null&&(m(r,["_self"],X$(s,r)),zj(r,{"requests[].*":"requests[].request.*"})),r}function X$(e,t){const r={},n=f(e,["taskType"]);t!==void 0&&n!=null&&m(t,["requests[]","taskType"],n);const s=f(e,["title"]);t!==void 0&&s!=null&&m(t,["requests[]","title"],s);const a=f(e,["outputDimensionality"]);if(t!==void 0&&a!=null&&m(t,["requests[]","outputDimensionality"],a),f(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function Q$(e,t){const r={},n=f(t,["fileName"]);n!=null&&m(r,["file_name"],n);const s=f(t,["inlinedRequests"]);return s!=null&&m(r,["requests"],Y$(e,s)),r}function Z$(e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(e,["fileUri"]);r!=null&&m(t,["fileUri"],r);const n=f(e,["mimeType"]);return n!=null&&m(t,["mimeType"],n),t}function eV(e){const t={},r=f(e,["id"]);r!=null&&m(t,["id"],r);const n=f(e,["args"]);n!=null&&m(t,["args"],n);const s=f(e,["name"]);if(s!=null&&m(t,["name"],s),f(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function tV(e){const t={},r=f(e,["allowedFunctionNames"]);r!=null&&m(t,["allowedFunctionNames"],r);const n=f(e,["mode"]);if(n!=null&&m(t,["mode"],n),f(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function rV(e,t,r){const n={},s=f(t,["systemInstruction"]);r!==void 0&&s!=null&&m(r,["systemInstruction"],sC(nn(s)));const a=f(t,["temperature"]);a!=null&&m(n,["temperature"],a);const i=f(t,["topP"]);i!=null&&m(n,["topP"],i);const o=f(t,["topK"]);o!=null&&m(n,["topK"],o);const l=f(t,["candidateCount"]);l!=null&&m(n,["candidateCount"],l);const c=f(t,["maxOutputTokens"]);c!=null&&m(n,["maxOutputTokens"],c);const u=f(t,["stopSequences"]);u!=null&&m(n,["stopSequences"],u);const h=f(t,["responseLogprobs"]);h!=null&&m(n,["responseLogprobs"],h);const p=f(t,["logprobs"]);p!=null&&m(n,["logprobs"],p);const g=f(t,["presencePenalty"]);g!=null&&m(n,["presencePenalty"],g);const v=f(t,["frequencyPenalty"]);v!=null&&m(n,["frequencyPenalty"],v);const x=f(t,["seed"]);x!=null&&m(n,["seed"],x);const y=f(t,["responseMimeType"]);y!=null&&m(n,["responseMimeType"],y);const w=f(t,["responseSchema"]);w!=null&&m(n,["responseSchema"],x1(w));const k=f(t,["responseJsonSchema"]);if(k!=null&&m(n,["responseJsonSchema"],k),f(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const _=f(t,["safetySettings"]);if(r!==void 0&&_!=null){let re=_;Array.isArray(re)&&(re=re.map(B=>vV(B))),m(r,["safetySettings"],re)}const b=f(t,["tools"]);if(r!==void 0&&b!=null){let re=fl(b);Array.isArray(re)&&(re=re.map(B=>_V(dl(B)))),m(r,["tools"],re)}const T=f(t,["toolConfig"]);if(r!==void 0&&T!=null&&m(r,["toolConfig"],yV(T)),f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=f(t,["cachedContent"]);r!==void 0&&E!=null&&m(r,["cachedContent"],da(e,E));const S=f(t,["responseModalities"]);S!=null&&m(n,["responseModalities"],S);const M=f(t,["mediaResolution"]);M!=null&&m(n,["mediaResolution"],M);const F=f(t,["speechConfig"]);if(F!=null&&m(n,["speechConfig"],v1(F)),f(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const z=f(t,["thinkingConfig"]);z!=null&&m(n,["thinkingConfig"],z);const Y=f(t,["imageConfig"]);Y!=null&&m(n,["imageConfig"],lV(Y));const U=f(t,["enableEnhancedCivicAnswers"]);if(U!=null&&m(n,["enableEnhancedCivicAnswers"],U),f(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return n}function nV(e){const t={},r=f(e,["sdkHttpResponse"]);r!=null&&m(t,["sdkHttpResponse"],r);const n=f(e,["candidates"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>B$(c))),m(t,["candidates"],l)}const s=f(e,["modelVersion"]);s!=null&&m(t,["modelVersion"],s);const a=f(e,["promptFeedback"]);a!=null&&m(t,["promptFeedback"],a);const i=f(e,["responseId"]);i!=null&&m(t,["responseId"],i);const o=f(e,["usageMetadata"]);return o!=null&&m(t,["usageMetadata"],o),t}function sV(e,t){const r={},n=f(t,["name"]);return n!=null&&m(r,["_url","name"],hl(e,n)),r}function aV(e,t){const r={},n=f(t,["name"]);return n!=null&&m(r,["_url","name"],hl(e,n)),r}function iV(e){const t={};if(f(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=f(e,["enableWidget"]);return r!=null&&m(t,["enableWidget"],r),t}function oV(e){const t={};if(f(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=f(e,["timeRangeFilter"]);return r!=null&&m(t,["timeRangeFilter"],r),t}function lV(e){const t={},r=f(e,["aspectRatio"]);r!=null&&m(t,["aspectRatio"],r);const n=f(e,["imageSize"]);if(n!=null&&m(t,["imageSize"],n),f(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(f(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function cV(e,t){const r={},n=f(t,["model"]);n!=null&&m(r,["request","model"],Dt(e,n));const s=f(t,["contents"]);if(s!=null){let o=rs(s);Array.isArray(o)&&(o=o.map(l=>sC(l))),m(r,["request","contents"],o)}const a=f(t,["metadata"]);a!=null&&m(r,["metadata"],a);const i=f(t,["config"]);return i!=null&&m(r,["request","generationConfig"],rV(e,i,f(r,["request"],{}))),r}function uV(e){const t={},r=f(e,["response"]);r!=null&&m(t,["response"],nV(r));const n=f(e,["metadata"]);n!=null&&m(t,["metadata"],n);const s=f(e,["error"]);return s!=null&&m(t,["error"],s),t}function dV(e,t){const r={},n=f(e,["pageSize"]);t!==void 0&&n!=null&&m(t,["_query","pageSize"],n);const s=f(e,["pageToken"]);if(t!==void 0&&s!=null&&m(t,["_query","pageToken"],s),f(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return r}function fV(e,t){const r={},n=f(e,["pageSize"]);t!==void 0&&n!=null&&m(t,["_query","pageSize"],n);const s=f(e,["pageToken"]);t!==void 0&&s!=null&&m(t,["_query","pageToken"],s);const a=f(e,["filter"]);return t!==void 0&&a!=null&&m(t,["_query","filter"],a),r}function hV(e){const t={},r=f(e,["config"]);return r!=null&&dV(r,t),t}function pV(e){const t={},r=f(e,["config"]);return r!=null&&fV(r,t),t}function mV(e){const t={},r=f(e,["sdkHttpResponse"]);r!=null&&m(t,["sdkHttpResponse"],r);const n=f(e,["nextPageToken"]);n!=null&&m(t,["nextPageToken"],n);const s=f(e,["operations"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(i=>wd(i))),m(t,["batchJobs"],a)}return t}function gV(e){const t={},r=f(e,["sdkHttpResponse"]);r!=null&&m(t,["sdkHttpResponse"],r);const n=f(e,["nextPageToken"]);n!=null&&m(t,["nextPageToken"],n);const s=f(e,["batchPredictionJobs"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(i=>om(i))),m(t,["batchJobs"],a)}return t}function xV(e){const t={},r=f(e,["mediaResolution"]);r!=null&&m(t,["mediaResolution"],r);const n=f(e,["codeExecutionResult"]);n!=null&&m(t,["codeExecutionResult"],n);const s=f(e,["executableCode"]);s!=null&&m(t,["executableCode"],s);const a=f(e,["fileData"]);a!=null&&m(t,["fileData"],Z$(a));const i=f(e,["functionCall"]);i!=null&&m(t,["functionCall"],eV(i));const o=f(e,["functionResponse"]);o!=null&&m(t,["functionResponse"],o);const l=f(e,["inlineData"]);l!=null&&m(t,["inlineData"],L$(l));const c=f(e,["text"]);c!=null&&m(t,["text"],c);const u=f(e,["thought"]);u!=null&&m(t,["thought"],u);const h=f(e,["thoughtSignature"]);h!=null&&m(t,["thoughtSignature"],h);const p=f(e,["videoMetadata"]);return p!=null&&m(t,["videoMetadata"],p),t}function vV(e){const t={},r=f(e,["category"]);if(r!=null&&m(t,["category"],r),f(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=f(e,["threshold"]);return n!=null&&m(t,["threshold"],n),t}function yV(e){const t={},r=f(e,["retrievalConfig"]);r!=null&&m(t,["retrievalConfig"],r);const n=f(e,["functionCallingConfig"]);return n!=null&&m(t,["functionCallingConfig"],tV(n)),t}function _V(e){const t={};if(f(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(e,["computerUse"]);r!=null&&m(t,["computerUse"],r);const n=f(e,["fileSearch"]);n!=null&&m(t,["fileSearch"],n);const s=f(e,["codeExecution"]);if(s!=null&&m(t,["codeExecution"],s),f(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=f(e,["functionDeclarations"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(h=>h)),m(t,["functionDeclarations"],u)}const i=f(e,["googleMaps"]);i!=null&&m(t,["googleMaps"],iV(i));const o=f(e,["googleSearch"]);o!=null&&m(t,["googleSearch"],oV(o));const l=f(e,["googleSearchRetrieval"]);l!=null&&m(t,["googleSearchRetrieval"],l);const c=f(e,["urlContext"]);return c!=null&&m(t,["urlContext"],c),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var sa;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(sa||(sa={}));class Ji{constructor(t,r,n,s){this.pageInternal=[],this.paramsInternal={},this.requestInternal=r,this.init(t,n,s)}init(t,r,n){var s,a;this.nameInternal=t,this.pageInternal=r[this.nameInternal]||[],this.sdkHttpResponseInternal=r==null?void 0:r.sdkHttpResponse,this.idxInternal=0;let i={config:{}};!n||Object.keys(n).length===0?i={config:{}}:typeof n=="object"?i=Object.assign({},n):i=n,i.config&&(i.config.pageToken=r.nextPageToken),this.paramsInternal=i,this.pageInternalSize=(a=(s=i.config)===null||s===void 0?void 0:s.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wV extends ua{constructor(t){super(),this.apiClient=t,this.list=async(r={})=>new Ji(sa.PAGED_ITEM_BATCH_JOBS,n=>this.listInternal(n),await this.listInternal(r),r),this.create=async r=>(this.apiClient.isVertexAI()&&(r.config=this.formatDestination(r.src,r.config)),this.createInternal(r)),this.createEmbeddings=async r=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(r)}}createInlinedGenerateContentRequest(t){const r=r2(this.apiClient,t),n=r._url,s=Ge("{model}:batchGenerateContent",n),o=r.batch.inputConfig.requests,l=o.requests,c=[];for(const u of l){const h=Object.assign({},u);if(h.systemInstruction){const p=h.systemInstruction;delete h.systemInstruction;const g=h.request;g.systemInstruction=p,h.request=g}c.push(h)}return o.requests=c,delete r.config,delete r._url,delete r._query,{path:s,body:r}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,r){const n=r?Object.assign({},r):{},s=Date.now().toString();if(n.displayName||(n.displayName=`genaiBatchJob_${s}`),n.dest===void 0){const a=this.getGcsUri(t),i=this.getBigqueryUri(t);if(a)a.endsWith(".jsonl")?n.dest=`${a.slice(0,-6)}/dest`:n.dest=`${a}_dest_${s}`;else if(i)n.dest=`${i}_dest_${s}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return n}async createInternal(t){var r,n,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=H$(this.apiClient,t);return o=Ge("batchPredictionJobs",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),i.then(u=>om(u))}else{const c=r2(this.apiClient,t);return o=Ge("{model}:batchGenerateContent",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),i.then(u=>wd(u))}}async createEmbeddingsInternal(t){var r,n;let s,a="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=W$(this.apiClient,t);return a=Ge("{model}:asyncBatchEmbedContent",o._url),i=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:a,queryParams:i,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),s.then(l=>wd(l))}}async get(t){var r,n,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=aV(this.apiClient,t);return o=Ge("batchPredictionJobs/{name}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),i.then(u=>om(u))}else{const c=sV(this.apiClient,t);return o=Ge("batches/{name}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),i.then(u=>wd(u))}}async cancel(t){var r,n,s,a;let i="",o={};if(this.apiClient.isVertexAI()){const l=U$(this.apiClient,t);i=Ge("batchPredictionJobs/{name}:cancel",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal})}else{const l=O$(this.apiClient,t);i=Ge("batches/{name}:cancel",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var r,n,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=pV(t);return o=Ge("batchPredictionJobs",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:u.headers},p})),i.then(u=>{const h=gV(u),p=new Qw;return Object.assign(p,h),p})}else{const c=hV(t);return o=Ge("batches",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:u.headers},p})),i.then(u=>{const h=mV(u),p=new Qw;return Object.assign(p,h),p})}}async delete(t){var r,n,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=q$(this.apiClient,t);return o=Ge("batchPredictionJobs/{name}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:u.headers},p})),i.then(u=>J$(u))}else{const c=z$(this.apiClient,t);return o=Ge("batches/{name}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:u.headers},p})),i.then(u=>K$(u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kV(e){const t={},r=f(e,["data"]);if(r!=null&&m(t,["data"],r),f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(e,["mimeType"]);return n!=null&&m(t,["mimeType"],n),t}function n2(e){const t={},r=f(e,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>WV(a))),m(t,["parts"],s)}const n=f(e,["role"]);return n!=null&&m(t,["role"],n),t}function bV(e,t){const r={},n=f(e,["ttl"]);t!==void 0&&n!=null&&m(t,["ttl"],n);const s=f(e,["expireTime"]);t!==void 0&&s!=null&&m(t,["expireTime"],s);const a=f(e,["displayName"]);t!==void 0&&a!=null&&m(t,["displayName"],a);const i=f(e,["contents"]);if(t!==void 0&&i!=null){let u=rs(i);Array.isArray(u)&&(u=u.map(h=>n2(h))),m(t,["contents"],u)}const o=f(e,["systemInstruction"]);t!==void 0&&o!=null&&m(t,["systemInstruction"],n2(nn(o)));const l=f(e,["tools"]);if(t!==void 0&&l!=null){let u=l;Array.isArray(u)&&(u=u.map(h=>qV(h))),m(t,["tools"],u)}const c=f(e,["toolConfig"]);if(t!==void 0&&c!=null&&m(t,["toolConfig"],zV(c)),f(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return r}function SV(e,t){const r={},n=f(e,["ttl"]);t!==void 0&&n!=null&&m(t,["ttl"],n);const s=f(e,["expireTime"]);t!==void 0&&s!=null&&m(t,["expireTime"],s);const a=f(e,["displayName"]);t!==void 0&&a!=null&&m(t,["displayName"],a);const i=f(e,["contents"]);if(t!==void 0&&i!=null){let h=rs(i);Array.isArray(h)&&(h=h.map(p=>p)),m(t,["contents"],h)}const o=f(e,["systemInstruction"]);t!==void 0&&o!=null&&m(t,["systemInstruction"],nn(o));const l=f(e,["tools"]);if(t!==void 0&&l!=null){let h=l;Array.isArray(h)&&(h=h.map(p=>KV(p))),m(t,["tools"],h)}const c=f(e,["toolConfig"]);t!==void 0&&c!=null&&m(t,["toolConfig"],c);const u=f(e,["kmsKeyName"]);return t!==void 0&&u!=null&&m(t,["encryption_spec","kmsKeyName"],u),r}function EV(e,t){const r={},n=f(t,["model"]);n!=null&&m(r,["model"],zT(e,n));const s=f(t,["config"]);return s!=null&&bV(s,r),r}function TV(e,t){const r={},n=f(t,["model"]);n!=null&&m(r,["model"],zT(e,n));const s=f(t,["config"]);return s!=null&&SV(s,r),r}function CV(e,t){const r={},n=f(t,["name"]);return n!=null&&m(r,["_url","name"],da(e,n)),r}function AV(e,t){const r={},n=f(t,["name"]);return n!=null&&m(r,["_url","name"],da(e,n)),r}function NV(e){const t={},r=f(e,["sdkHttpResponse"]);return r!=null&&m(t,["sdkHttpResponse"],r),t}function IV(e){const t={},r=f(e,["sdkHttpResponse"]);return r!=null&&m(t,["sdkHttpResponse"],r),t}function RV(e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(e,["fileUri"]);r!=null&&m(t,["fileUri"],r);const n=f(e,["mimeType"]);return n!=null&&m(t,["mimeType"],n),t}function PV(e){const t={},r=f(e,["id"]);r!=null&&m(t,["id"],r);const n=f(e,["args"]);n!=null&&m(t,["args"],n);const s=f(e,["name"]);if(s!=null&&m(t,["name"],s),f(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function FV(e){const t={},r=f(e,["allowedFunctionNames"]);r!=null&&m(t,["allowedFunctionNames"],r);const n=f(e,["mode"]);if(n!=null&&m(t,["mode"],n),f(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function MV(e){const t={},r=f(e,["description"]);r!=null&&m(t,["description"],r);const n=f(e,["name"]);n!=null&&m(t,["name"],n);const s=f(e,["parameters"]);s!=null&&m(t,["parameters"],s);const a=f(e,["parametersJsonSchema"]);a!=null&&m(t,["parametersJsonSchema"],a);const i=f(e,["response"]);i!=null&&m(t,["response"],i);const o=f(e,["responseJsonSchema"]);if(o!=null&&m(t,["responseJsonSchema"],o),f(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function DV(e,t){const r={},n=f(t,["name"]);return n!=null&&m(r,["_url","name"],da(e,n)),r}function LV(e,t){const r={},n=f(t,["name"]);return n!=null&&m(r,["_url","name"],da(e,n)),r}function OV(e){const t={};if(f(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=f(e,["enableWidget"]);return r!=null&&m(t,["enableWidget"],r),t}function UV(e){const t={};if(f(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=f(e,["timeRangeFilter"]);return r!=null&&m(t,["timeRangeFilter"],r),t}function BV(e,t){const r={},n=f(e,["pageSize"]);t!==void 0&&n!=null&&m(t,["_query","pageSize"],n);const s=f(e,["pageToken"]);return t!==void 0&&s!=null&&m(t,["_query","pageToken"],s),r}function jV(e,t){const r={},n=f(e,["pageSize"]);t!==void 0&&n!=null&&m(t,["_query","pageSize"],n);const s=f(e,["pageToken"]);return t!==void 0&&s!=null&&m(t,["_query","pageToken"],s),r}function $V(e){const t={},r=f(e,["config"]);return r!=null&&BV(r,t),t}function VV(e){const t={},r=f(e,["config"]);return r!=null&&jV(r,t),t}function HV(e){const t={},r=f(e,["sdkHttpResponse"]);r!=null&&m(t,["sdkHttpResponse"],r);const n=f(e,["nextPageToken"]);n!=null&&m(t,["nextPageToken"],n);const s=f(e,["cachedContents"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(i=>i)),m(t,["cachedContents"],a)}return t}function GV(e){const t={},r=f(e,["sdkHttpResponse"]);r!=null&&m(t,["sdkHttpResponse"],r);const n=f(e,["nextPageToken"]);n!=null&&m(t,["nextPageToken"],n);const s=f(e,["cachedContents"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(i=>i)),m(t,["cachedContents"],a)}return t}function WV(e){const t={},r=f(e,["mediaResolution"]);r!=null&&m(t,["mediaResolution"],r);const n=f(e,["codeExecutionResult"]);n!=null&&m(t,["codeExecutionResult"],n);const s=f(e,["executableCode"]);s!=null&&m(t,["executableCode"],s);const a=f(e,["fileData"]);a!=null&&m(t,["fileData"],RV(a));const i=f(e,["functionCall"]);i!=null&&m(t,["functionCall"],PV(i));const o=f(e,["functionResponse"]);o!=null&&m(t,["functionResponse"],o);const l=f(e,["inlineData"]);l!=null&&m(t,["inlineData"],kV(l));const c=f(e,["text"]);c!=null&&m(t,["text"],c);const u=f(e,["thought"]);u!=null&&m(t,["thought"],u);const h=f(e,["thoughtSignature"]);h!=null&&m(t,["thoughtSignature"],h);const p=f(e,["videoMetadata"]);return p!=null&&m(t,["videoMetadata"],p),t}function zV(e){const t={},r=f(e,["retrievalConfig"]);r!=null&&m(t,["retrievalConfig"],r);const n=f(e,["functionCallingConfig"]);return n!=null&&m(t,["functionCallingConfig"],FV(n)),t}function qV(e){const t={};if(f(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(e,["computerUse"]);r!=null&&m(t,["computerUse"],r);const n=f(e,["fileSearch"]);n!=null&&m(t,["fileSearch"],n);const s=f(e,["codeExecution"]);if(s!=null&&m(t,["codeExecution"],s),f(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=f(e,["functionDeclarations"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(h=>h)),m(t,["functionDeclarations"],u)}const i=f(e,["googleMaps"]);i!=null&&m(t,["googleMaps"],OV(i));const o=f(e,["googleSearch"]);o!=null&&m(t,["googleSearch"],UV(o));const l=f(e,["googleSearchRetrieval"]);l!=null&&m(t,["googleSearchRetrieval"],l);const c=f(e,["urlContext"]);return c!=null&&m(t,["urlContext"],c),t}function KV(e){const t={},r=f(e,["retrieval"]);r!=null&&m(t,["retrieval"],r);const n=f(e,["computerUse"]);if(n!=null&&m(t,["computerUse"],n),f(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=f(e,["codeExecution"]);s!=null&&m(t,["codeExecution"],s);const a=f(e,["enterpriseWebSearch"]);a!=null&&m(t,["enterpriseWebSearch"],a);const i=f(e,["functionDeclarations"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(p=>MV(p))),m(t,["functionDeclarations"],h)}const o=f(e,["googleMaps"]);o!=null&&m(t,["googleMaps"],o);const l=f(e,["googleSearch"]);l!=null&&m(t,["googleSearch"],l);const c=f(e,["googleSearchRetrieval"]);c!=null&&m(t,["googleSearchRetrieval"],c);const u=f(e,["urlContext"]);return u!=null&&m(t,["urlContext"],u),t}function JV(e,t){const r={},n=f(e,["ttl"]);t!==void 0&&n!=null&&m(t,["ttl"],n);const s=f(e,["expireTime"]);return t!==void 0&&s!=null&&m(t,["expireTime"],s),r}function YV(e,t){const r={},n=f(e,["ttl"]);t!==void 0&&n!=null&&m(t,["ttl"],n);const s=f(e,["expireTime"]);return t!==void 0&&s!=null&&m(t,["expireTime"],s),r}function XV(e,t){const r={},n=f(t,["name"]);n!=null&&m(r,["_url","name"],da(e,n));const s=f(t,["config"]);return s!=null&&JV(s,r),r}function QV(e,t){const r={},n=f(t,["name"]);n!=null&&m(r,["_url","name"],da(e,n));const s=f(t,["config"]);return s!=null&&YV(s,r),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZV extends ua{constructor(t){super(),this.apiClient=t,this.list=async(r={})=>new Ji(sa.PAGED_ITEM_CACHED_CONTENTS,n=>this.listInternal(n),await this.listInternal(r),r)}async create(t){var r,n,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=TV(this.apiClient,t);return o=Ge("cachedContents",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),i.then(u=>u)}else{const c=EV(this.apiClient,t);return o=Ge("cachedContents",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async get(t){var r,n,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=LV(this.apiClient,t);return o=Ge("{name}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),i.then(u=>u)}else{const c=DV(this.apiClient,t);return o=Ge("{name}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async delete(t){var r,n,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=AV(this.apiClient,t);return o=Ge("{name}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:u.headers},p})),i.then(u=>{const h=IV(u),p=new Yw;return Object.assign(p,h),p})}else{const c=CV(this.apiClient,t);return o=Ge("{name}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:u.headers},p})),i.then(u=>{const h=NV(u),p=new Yw;return Object.assign(p,h),p})}}async update(t){var r,n,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=QV(this.apiClient,t);return o=Ge("{name}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),i.then(u=>u)}else{const c=XV(this.apiClient,t);return o=Ge("{name}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async listInternal(t){var r,n,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=VV(t);return o=Ge("cachedContents",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:u.headers},p})),i.then(u=>{const h=GV(u),p=new Xw;return Object.assign(p,h),p})}else{const c=$V(t);return o=Ge("cachedContents",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:u.headers},p})),i.then(u=>{const h=HV(u),p=new Xw;return Object.assign(p,h),p})}}}function gf(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function s2(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function vt(e){return this instanceof vt?(this.v=e,this):new vt(e)}function Cs(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,a=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",i),s[Symbol.asyncIterator]=function(){return this},s;function i(g){return function(v){return Promise.resolve(v).then(g,h)}}function o(g,v){n[g]&&(s[g]=function(x){return new Promise(function(y,w){a.push([g,x,y,w])>1||l(g,x)})},v&&(s[g]=v(s[g])))}function l(g,v){try{c(n[g](v))}catch(x){p(a[0][3],x)}}function c(g){g.value instanceof vt?Promise.resolve(g.value.v).then(u,h):p(a[0][2],g)}function u(g){l("next",g)}function h(g){l("throw",g)}function p(g,v){g(v),a.shift(),a.length&&l(a[0][0],a[0][1])}}function As(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof s2=="function"?s2(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=e[a]&&function(i){return new Promise(function(o,l){i=e[a](i),s(o,l,i.done,i.value)})}}function s(a,i,o,l){Promise.resolve(l).then(function(c){a({value:c,done:o})},i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eH(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const r=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return r===void 0?!1:aC(r)}function aC(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function tH(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function a2(e){if(e===void 0||e.length===0)return[];const t=[],r=e.length;let n=0;for(;n<r;)if(e[n].role==="user")t.push(e[n]),n++;else{const s=[];let a=!0;for(;n<r&&e[n].role==="model";)s.push(e[n]),a&&!aC(e[n])&&(a=!1),n++;a?t.push(...s):t.pop()}return t}class rH{constructor(t,r){this.modelsModule=t,this.apiClient=r}create(t){return new nH(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class nH{constructor(t,r,n,s={},a=[]){this.apiClient=t,this.modelsModule=r,this.model=n,this.config=s,this.history=a,this.sendPromise=Promise.resolve(),tH(a)}async sendMessage(t){var r;await this.sendPromise;const n=nn(t.message),s=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(n),config:(r=t.config)!==null&&r!==void 0?r:this.config});return this.sendPromise=(async()=>{var a,i,o;const l=await s,c=(i=(a=l.candidates)===null||a===void 0?void 0:a[0])===null||i===void 0?void 0:i.content,u=l.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let p=[];u!=null&&(p=(o=u.slice(h))!==null&&o!==void 0?o:[]);const g=c?[c]:[];this.recordHistory(n,g,p)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),s}async sendMessageStream(t){var r;await this.sendPromise;const n=nn(t.message),s=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(n),config:(r=t.config)!==null&&r!==void 0?r:this.config});this.sendPromise=s.then(()=>{}).catch(()=>{});const a=await s;return this.processStreamResponse(a,n)}getHistory(t=!1){const r=t?a2(this.history):this.history;return structuredClone(r)}processStreamResponse(t,r){return Cs(this,arguments,function*(){var s,a,i,o,l,c;const u=[];try{for(var h=!0,p=As(t),g;g=yield vt(p.next()),s=g.done,!s;h=!0){o=g.value,h=!1;const v=o;if(eH(v)){const x=(c=(l=v.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content;x!==void 0&&u.push(x)}yield yield vt(v)}}catch(v){a={error:v}}finally{try{!h&&!s&&(i=p.return)&&(yield vt(i.call(p)))}finally{if(a)throw a.error}}this.recordHistory(r,u)})}recordHistory(t,r,n){let s=[];r.length>0&&r.every(a=>a.role!==void 0)?s=r:s.push({role:"model",parts:[]}),n&&n.length>0?this.history.push(...a2(n)):this.history.push(t),this.history.push(...s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yc extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Yc.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sH(e){const t={},r=f(e,["file"]);return r!=null&&m(t,["file"],r),t}function aH(e){const t={},r=f(e,["sdkHttpResponse"]);return r!=null&&m(t,["sdkHttpResponse"],r),t}function iH(e){const t={},r=f(e,["name"]);return r!=null&&m(t,["_url","file"],QT(r)),t}function oH(e){const t={},r=f(e,["sdkHttpResponse"]);return r!=null&&m(t,["sdkHttpResponse"],r),t}function lH(e){const t={},r=f(e,["name"]);return r!=null&&m(t,["_url","file"],QT(r)),t}function cH(e){const t={},r=f(e,["uris"]);return r!=null&&m(t,["uris"],r),t}function uH(e,t){const r={},n=f(e,["pageSize"]);t!==void 0&&n!=null&&m(t,["_query","pageSize"],n);const s=f(e,["pageToken"]);return t!==void 0&&s!=null&&m(t,["_query","pageToken"],s),r}function dH(e){const t={},r=f(e,["config"]);return r!=null&&uH(r,t),t}function fH(e){const t={},r=f(e,["sdkHttpResponse"]);r!=null&&m(t,["sdkHttpResponse"],r);const n=f(e,["nextPageToken"]);n!=null&&m(t,["nextPageToken"],n);const s=f(e,["files"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(i=>i)),m(t,["files"],a)}return t}function hH(e){const t={},r=f(e,["sdkHttpResponse"]);r!=null&&m(t,["sdkHttpResponse"],r);const n=f(e,["files"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>a)),m(t,["files"],s)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pH extends ua{constructor(t){super(),this.apiClient=t,this.list=async(r={})=>new Ji(sa.PAGED_ITEM_FILES,n=>this.listInternal(n),await this.listInternal(r),r)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(r=>r)}async download(t){await this.apiClient.downloadFile(t)}async registerFiles(t){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(t){return this.registerFilesInternal(t)}async listInternal(t){var r,n;let s,a="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=dH(t);return a=Ge("files",o._url),i=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:a,queryParams:i,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),s.then(l=>{const c=fH(l),u=new m$;return Object.assign(u,c),u})}}async createInternal(t){var r,n;let s,a="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=sH(t);return a=Ge("upload/v1beta/files",o._url),i=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:a,queryParams:i,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),s.then(l=>{const c=aH(l),u=new g$;return Object.assign(u,c),u})}}async get(t){var r,n;let s,a="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=lH(t);return a=Ge("files/{file}",o._url),i=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:a,queryParams:i,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),s.then(l=>l)}}async delete(t){var r,n;let s,a="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=iH(t);return a=Ge("files/{file}",o._url),i=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:a,queryParams:i,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),s.then(l=>{const c=oH(l),u=new x$;return Object.assign(u,c),u})}}async registerFilesInternal(t){var r,n;let s,a="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=cH(t);return a=Ge("files:register",o._url),i=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:a,queryParams:i,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),s.then(l=>{const c=hH(l),u=new v$;return Object.assign(u,c),u})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kd(e){const t={},r=f(e,["data"]);if(r!=null&&m(t,["data"],r),f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(e,["mimeType"]);return n!=null&&m(t,["mimeType"],n),t}function mH(e){const t={},r=f(e,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>RH(a))),m(t,["parts"],s)}const n=f(e,["role"]);return n!=null&&m(t,["role"],n),t}function gH(e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(e,["fileUri"]);r!=null&&m(t,["fileUri"],r);const n=f(e,["mimeType"]);return n!=null&&m(t,["mimeType"],n),t}function xH(e){const t={},r=f(e,["id"]);r!=null&&m(t,["id"],r);const n=f(e,["args"]);n!=null&&m(t,["args"],n);const s=f(e,["name"]);if(s!=null&&m(t,["name"],s),f(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function vH(e){const t={},r=f(e,["description"]);r!=null&&m(t,["description"],r);const n=f(e,["name"]);n!=null&&m(t,["name"],n);const s=f(e,["parameters"]);s!=null&&m(t,["parameters"],s);const a=f(e,["parametersJsonSchema"]);a!=null&&m(t,["parametersJsonSchema"],a);const i=f(e,["response"]);i!=null&&m(t,["response"],i);const o=f(e,["responseJsonSchema"]);if(o!=null&&m(t,["responseJsonSchema"],o),f(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function yH(e){const t={},r=f(e,["modelSelectionConfig"]);r!=null&&m(t,["modelConfig"],r);const n=f(e,["responseJsonSchema"]);n!=null&&m(t,["responseJsonSchema"],n);const s=f(e,["audioTimestamp"]);s!=null&&m(t,["audioTimestamp"],s);const a=f(e,["candidateCount"]);a!=null&&m(t,["candidateCount"],a);const i=f(e,["enableAffectiveDialog"]);i!=null&&m(t,["enableAffectiveDialog"],i);const o=f(e,["frequencyPenalty"]);o!=null&&m(t,["frequencyPenalty"],o);const l=f(e,["logprobs"]);l!=null&&m(t,["logprobs"],l);const c=f(e,["maxOutputTokens"]);c!=null&&m(t,["maxOutputTokens"],c);const u=f(e,["mediaResolution"]);u!=null&&m(t,["mediaResolution"],u);const h=f(e,["presencePenalty"]);h!=null&&m(t,["presencePenalty"],h);const p=f(e,["responseLogprobs"]);p!=null&&m(t,["responseLogprobs"],p);const g=f(e,["responseMimeType"]);g!=null&&m(t,["responseMimeType"],g);const v=f(e,["responseModalities"]);v!=null&&m(t,["responseModalities"],v);const x=f(e,["responseSchema"]);x!=null&&m(t,["responseSchema"],x);const y=f(e,["routingConfig"]);y!=null&&m(t,["routingConfig"],y);const w=f(e,["seed"]);w!=null&&m(t,["seed"],w);const k=f(e,["speechConfig"]);k!=null&&m(t,["speechConfig"],k);const _=f(e,["stopSequences"]);_!=null&&m(t,["stopSequences"],_);const b=f(e,["temperature"]);b!=null&&m(t,["temperature"],b);const T=f(e,["thinkingConfig"]);T!=null&&m(t,["thinkingConfig"],T);const E=f(e,["topK"]);E!=null&&m(t,["topK"],E);const S=f(e,["topP"]);if(S!=null&&m(t,["topP"],S),f(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function _H(e){const t={};if(f(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=f(e,["enableWidget"]);return r!=null&&m(t,["enableWidget"],r),t}function wH(e){const t={};if(f(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=f(e,["timeRangeFilter"]);return r!=null&&m(t,["timeRangeFilter"],r),t}function kH(e,t){const r={},n=f(e,["generationConfig"]);t!==void 0&&n!=null&&m(t,["setup","generationConfig"],n);const s=f(e,["responseModalities"]);t!==void 0&&s!=null&&m(t,["setup","generationConfig","responseModalities"],s);const a=f(e,["temperature"]);t!==void 0&&a!=null&&m(t,["setup","generationConfig","temperature"],a);const i=f(e,["topP"]);t!==void 0&&i!=null&&m(t,["setup","generationConfig","topP"],i);const o=f(e,["topK"]);t!==void 0&&o!=null&&m(t,["setup","generationConfig","topK"],o);const l=f(e,["maxOutputTokens"]);t!==void 0&&l!=null&&m(t,["setup","generationConfig","maxOutputTokens"],l);const c=f(e,["mediaResolution"]);t!==void 0&&c!=null&&m(t,["setup","generationConfig","mediaResolution"],c);const u=f(e,["seed"]);t!==void 0&&u!=null&&m(t,["setup","generationConfig","seed"],u);const h=f(e,["speechConfig"]);t!==void 0&&h!=null&&m(t,["setup","generationConfig","speechConfig"],y1(h));const p=f(e,["thinkingConfig"]);t!==void 0&&p!=null&&m(t,["setup","generationConfig","thinkingConfig"],p);const g=f(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&m(t,["setup","generationConfig","enableAffectiveDialog"],g);const v=f(e,["systemInstruction"]);t!==void 0&&v!=null&&m(t,["setup","systemInstruction"],mH(nn(v)));const x=f(e,["tools"]);if(t!==void 0&&x!=null){let E=fl(x);Array.isArray(E)&&(E=E.map(S=>FH(dl(S)))),m(t,["setup","tools"],E)}const y=f(e,["sessionResumption"]);t!==void 0&&y!=null&&m(t,["setup","sessionResumption"],PH(y));const w=f(e,["inputAudioTranscription"]);t!==void 0&&w!=null&&m(t,["setup","inputAudioTranscription"],w);const k=f(e,["outputAudioTranscription"]);t!==void 0&&k!=null&&m(t,["setup","outputAudioTranscription"],k);const _=f(e,["realtimeInputConfig"]);t!==void 0&&_!=null&&m(t,["setup","realtimeInputConfig"],_);const b=f(e,["contextWindowCompression"]);t!==void 0&&b!=null&&m(t,["setup","contextWindowCompression"],b);const T=f(e,["proactivity"]);if(t!==void 0&&T!=null&&m(t,["setup","proactivity"],T),f(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return r}function bH(e,t){const r={},n=f(e,["generationConfig"]);t!==void 0&&n!=null&&m(t,["setup","generationConfig"],yH(n));const s=f(e,["responseModalities"]);t!==void 0&&s!=null&&m(t,["setup","generationConfig","responseModalities"],s);const a=f(e,["temperature"]);t!==void 0&&a!=null&&m(t,["setup","generationConfig","temperature"],a);const i=f(e,["topP"]);t!==void 0&&i!=null&&m(t,["setup","generationConfig","topP"],i);const o=f(e,["topK"]);t!==void 0&&o!=null&&m(t,["setup","generationConfig","topK"],o);const l=f(e,["maxOutputTokens"]);t!==void 0&&l!=null&&m(t,["setup","generationConfig","maxOutputTokens"],l);const c=f(e,["mediaResolution"]);t!==void 0&&c!=null&&m(t,["setup","generationConfig","mediaResolution"],c);const u=f(e,["seed"]);t!==void 0&&u!=null&&m(t,["setup","generationConfig","seed"],u);const h=f(e,["speechConfig"]);t!==void 0&&h!=null&&m(t,["setup","generationConfig","speechConfig"],y1(h));const p=f(e,["thinkingConfig"]);t!==void 0&&p!=null&&m(t,["setup","generationConfig","thinkingConfig"],p);const g=f(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&m(t,["setup","generationConfig","enableAffectiveDialog"],g);const v=f(e,["systemInstruction"]);t!==void 0&&v!=null&&m(t,["setup","systemInstruction"],nn(v));const x=f(e,["tools"]);if(t!==void 0&&x!=null){let S=fl(x);Array.isArray(S)&&(S=S.map(M=>MH(dl(M)))),m(t,["setup","tools"],S)}const y=f(e,["sessionResumption"]);t!==void 0&&y!=null&&m(t,["setup","sessionResumption"],y);const w=f(e,["inputAudioTranscription"]);t!==void 0&&w!=null&&m(t,["setup","inputAudioTranscription"],w);const k=f(e,["outputAudioTranscription"]);t!==void 0&&k!=null&&m(t,["setup","outputAudioTranscription"],k);const _=f(e,["realtimeInputConfig"]);t!==void 0&&_!=null&&m(t,["setup","realtimeInputConfig"],_);const b=f(e,["contextWindowCompression"]);t!==void 0&&b!=null&&m(t,["setup","contextWindowCompression"],b);const T=f(e,["proactivity"]);t!==void 0&&T!=null&&m(t,["setup","proactivity"],T);const E=f(e,["explicitVadSignal"]);return t!==void 0&&E!=null&&m(t,["setup","explicitVadSignal"],E),r}function SH(e,t){const r={},n=f(t,["model"]);n!=null&&m(r,["setup","model"],Dt(e,n));const s=f(t,["config"]);return s!=null&&m(r,["config"],kH(s,r)),r}function EH(e,t){const r={},n=f(t,["model"]);n!=null&&m(r,["setup","model"],Dt(e,n));const s=f(t,["config"]);return s!=null&&m(r,["config"],bH(s,r)),r}function TH(e){const t={},r=f(e,["musicGenerationConfig"]);return r!=null&&m(t,["musicGenerationConfig"],r),t}function CH(e){const t={},r=f(e,["weightedPrompts"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(s=>s)),m(t,["weightedPrompts"],n)}return t}function AH(e){const t={},r=f(e,["media"]);if(r!=null){let c=qT(r);Array.isArray(c)&&(c=c.map(u=>kd(u))),m(t,["mediaChunks"],c)}const n=f(e,["audio"]);n!=null&&m(t,["audio"],kd(JT(n)));const s=f(e,["audioStreamEnd"]);s!=null&&m(t,["audioStreamEnd"],s);const a=f(e,["video"]);a!=null&&m(t,["video"],kd(KT(a)));const i=f(e,["text"]);i!=null&&m(t,["text"],i);const o=f(e,["activityStart"]);o!=null&&m(t,["activityStart"],o);const l=f(e,["activityEnd"]);return l!=null&&m(t,["activityEnd"],l),t}function NH(e){const t={},r=f(e,["media"]);if(r!=null){let c=qT(r);Array.isArray(c)&&(c=c.map(u=>u)),m(t,["mediaChunks"],c)}const n=f(e,["audio"]);n!=null&&m(t,["audio"],JT(n));const s=f(e,["audioStreamEnd"]);s!=null&&m(t,["audioStreamEnd"],s);const a=f(e,["video"]);a!=null&&m(t,["video"],KT(a));const i=f(e,["text"]);i!=null&&m(t,["text"],i);const o=f(e,["activityStart"]);o!=null&&m(t,["activityStart"],o);const l=f(e,["activityEnd"]);return l!=null&&m(t,["activityEnd"],l),t}function IH(e){const t={},r=f(e,["setupComplete"]);r!=null&&m(t,["setupComplete"],r);const n=f(e,["serverContent"]);n!=null&&m(t,["serverContent"],n);const s=f(e,["toolCall"]);s!=null&&m(t,["toolCall"],s);const a=f(e,["toolCallCancellation"]);a!=null&&m(t,["toolCallCancellation"],a);const i=f(e,["usageMetadata"]);i!=null&&m(t,["usageMetadata"],DH(i));const o=f(e,["goAway"]);o!=null&&m(t,["goAway"],o);const l=f(e,["sessionResumptionUpdate"]);l!=null&&m(t,["sessionResumptionUpdate"],l);const c=f(e,["voiceActivityDetectionSignal"]);c!=null&&m(t,["voiceActivityDetectionSignal"],c);const u=f(e,["voiceActivity"]);return u!=null&&m(t,["voiceActivity"],LH(u)),t}function RH(e){const t={},r=f(e,["mediaResolution"]);r!=null&&m(t,["mediaResolution"],r);const n=f(e,["codeExecutionResult"]);n!=null&&m(t,["codeExecutionResult"],n);const s=f(e,["executableCode"]);s!=null&&m(t,["executableCode"],s);const a=f(e,["fileData"]);a!=null&&m(t,["fileData"],gH(a));const i=f(e,["functionCall"]);i!=null&&m(t,["functionCall"],xH(i));const o=f(e,["functionResponse"]);o!=null&&m(t,["functionResponse"],o);const l=f(e,["inlineData"]);l!=null&&m(t,["inlineData"],kd(l));const c=f(e,["text"]);c!=null&&m(t,["text"],c);const u=f(e,["thought"]);u!=null&&m(t,["thought"],u);const h=f(e,["thoughtSignature"]);h!=null&&m(t,["thoughtSignature"],h);const p=f(e,["videoMetadata"]);return p!=null&&m(t,["videoMetadata"],p),t}function PH(e){const t={},r=f(e,["handle"]);if(r!=null&&m(t,["handle"],r),f(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function FH(e){const t={};if(f(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(e,["computerUse"]);r!=null&&m(t,["computerUse"],r);const n=f(e,["fileSearch"]);n!=null&&m(t,["fileSearch"],n);const s=f(e,["codeExecution"]);if(s!=null&&m(t,["codeExecution"],s),f(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=f(e,["functionDeclarations"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(h=>h)),m(t,["functionDeclarations"],u)}const i=f(e,["googleMaps"]);i!=null&&m(t,["googleMaps"],_H(i));const o=f(e,["googleSearch"]);o!=null&&m(t,["googleSearch"],wH(o));const l=f(e,["googleSearchRetrieval"]);l!=null&&m(t,["googleSearchRetrieval"],l);const c=f(e,["urlContext"]);return c!=null&&m(t,["urlContext"],c),t}function MH(e){const t={},r=f(e,["retrieval"]);r!=null&&m(t,["retrieval"],r);const n=f(e,["computerUse"]);if(n!=null&&m(t,["computerUse"],n),f(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=f(e,["codeExecution"]);s!=null&&m(t,["codeExecution"],s);const a=f(e,["enterpriseWebSearch"]);a!=null&&m(t,["enterpriseWebSearch"],a);const i=f(e,["functionDeclarations"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(p=>vH(p))),m(t,["functionDeclarations"],h)}const o=f(e,["googleMaps"]);o!=null&&m(t,["googleMaps"],o);const l=f(e,["googleSearch"]);l!=null&&m(t,["googleSearch"],l);const c=f(e,["googleSearchRetrieval"]);c!=null&&m(t,["googleSearchRetrieval"],c);const u=f(e,["urlContext"]);return u!=null&&m(t,["urlContext"],u),t}function DH(e){const t={},r=f(e,["promptTokenCount"]);r!=null&&m(t,["promptTokenCount"],r);const n=f(e,["cachedContentTokenCount"]);n!=null&&m(t,["cachedContentTokenCount"],n);const s=f(e,["candidatesTokenCount"]);s!=null&&m(t,["responseTokenCount"],s);const a=f(e,["toolUsePromptTokenCount"]);a!=null&&m(t,["toolUsePromptTokenCount"],a);const i=f(e,["thoughtsTokenCount"]);i!=null&&m(t,["thoughtsTokenCount"],i);const o=f(e,["totalTokenCount"]);o!=null&&m(t,["totalTokenCount"],o);const l=f(e,["promptTokensDetails"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(v=>v)),m(t,["promptTokensDetails"],g)}const c=f(e,["cacheTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(v=>v)),m(t,["cacheTokensDetails"],g)}const u=f(e,["candidatesTokensDetails"]);if(u!=null){let g=u;Array.isArray(g)&&(g=g.map(v=>v)),m(t,["responseTokensDetails"],g)}const h=f(e,["toolUsePromptTokensDetails"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(v=>v)),m(t,["toolUsePromptTokensDetails"],g)}const p=f(e,["trafficType"]);return p!=null&&m(t,["trafficType"],p),t}function LH(e){const t={},r=f(e,["type"]);return r!=null&&m(t,["voiceActivityType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OH(e,t){const r={},n=f(e,["data"]);if(n!=null&&m(r,["data"],n),f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=f(e,["mimeType"]);return s!=null&&m(r,["mimeType"],s),r}function UH(e,t){const r={},n=f(e,["content"]);n!=null&&m(r,["content"],n);const s=f(e,["citationMetadata"]);s!=null&&m(r,["citationMetadata"],BH(s));const a=f(e,["tokenCount"]);a!=null&&m(r,["tokenCount"],a);const i=f(e,["finishReason"]);i!=null&&m(r,["finishReason"],i);const o=f(e,["avgLogprobs"]);o!=null&&m(r,["avgLogprobs"],o);const l=f(e,["groundingMetadata"]);l!=null&&m(r,["groundingMetadata"],l);const c=f(e,["index"]);c!=null&&m(r,["index"],c);const u=f(e,["logprobsResult"]);u!=null&&m(r,["logprobsResult"],u);const h=f(e,["safetyRatings"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(v=>v)),m(r,["safetyRatings"],g)}const p=f(e,["urlContextMetadata"]);return p!=null&&m(r,["urlContextMetadata"],p),r}function BH(e,t){const r={},n=f(e,["citationSources"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>a)),m(r,["citations"],s)}return r}function jH(e,t,r){const n={},s=f(t,["model"]);s!=null&&m(n,["_url","model"],Dt(e,s));const a=f(t,["contents"]);if(a!=null){let i=rs(a);Array.isArray(i)&&(i=i.map(o=>o)),m(n,["contents"],i)}return n}function $H(e,t){const r={},n=f(e,["sdkHttpResponse"]);n!=null&&m(r,["sdkHttpResponse"],n);const s=f(e,["tokensInfo"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(i=>i)),m(r,["tokensInfo"],a)}return r}function VH(e,t){const r={},n=f(e,["values"]);n!=null&&m(r,["values"],n);const s=f(e,["statistics"]);return s!=null&&m(r,["statistics"],HH(s)),r}function HH(e,t){const r={},n=f(e,["truncated"]);n!=null&&m(r,["truncated"],n);const s=f(e,["token_count"]);return s!=null&&m(r,["tokenCount"],s),r}function S0(e,t){const r={},n=f(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(i=>QG(i))),m(r,["parts"],a)}const s=f(e,["role"]);return s!=null&&m(r,["role"],s),r}function GH(e,t){const r={},n=f(e,["controlType"]);n!=null&&m(r,["controlType"],n);const s=f(e,["enableControlImageComputation"]);return s!=null&&m(r,["computeControl"],s),r}function WH(e,t){const r={};if(f(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(f(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(f(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return r}function zH(e,t,r){const n={},s=f(e,["systemInstruction"]);t!==void 0&&s!=null&&m(t,["systemInstruction"],nn(s));const a=f(e,["tools"]);if(t!==void 0&&a!=null){let o=a;Array.isArray(o)&&(o=o.map(l=>cC(l))),m(t,["tools"],o)}const i=f(e,["generationConfig"]);return t!==void 0&&i!=null&&m(t,["generationConfig"],OG(i)),n}function qH(e,t,r){const n={},s=f(t,["model"]);s!=null&&m(n,["_url","model"],Dt(e,s));const a=f(t,["contents"]);if(a!=null){let o=rs(a);Array.isArray(o)&&(o=o.map(l=>S0(l))),m(n,["contents"],o)}const i=f(t,["config"]);return i!=null&&WH(i),n}function KH(e,t,r){const n={},s=f(t,["model"]);s!=null&&m(n,["_url","model"],Dt(e,s));const a=f(t,["contents"]);if(a!=null){let o=rs(a);Array.isArray(o)&&(o=o.map(l=>l)),m(n,["contents"],o)}const i=f(t,["config"]);return i!=null&&zH(i,n),n}function JH(e,t){const r={},n=f(e,["sdkHttpResponse"]);n!=null&&m(r,["sdkHttpResponse"],n);const s=f(e,["totalTokens"]);s!=null&&m(r,["totalTokens"],s);const a=f(e,["cachedContentTokenCount"]);return a!=null&&m(r,["cachedContentTokenCount"],a),r}function YH(e,t){const r={},n=f(e,["sdkHttpResponse"]);n!=null&&m(r,["sdkHttpResponse"],n);const s=f(e,["totalTokens"]);return s!=null&&m(r,["totalTokens"],s),r}function XH(e,t,r){const n={},s=f(t,["model"]);return s!=null&&m(n,["_url","name"],Dt(e,s)),n}function QH(e,t,r){const n={},s=f(t,["model"]);return s!=null&&m(n,["_url","name"],Dt(e,s)),n}function ZH(e,t){const r={},n=f(e,["sdkHttpResponse"]);return n!=null&&m(r,["sdkHttpResponse"],n),r}function eG(e,t){const r={},n=f(e,["sdkHttpResponse"]);return n!=null&&m(r,["sdkHttpResponse"],n),r}function tG(e,t,r){const n={},s=f(e,["outputGcsUri"]);t!==void 0&&s!=null&&m(t,["parameters","storageUri"],s);const a=f(e,["negativePrompt"]);t!==void 0&&a!=null&&m(t,["parameters","negativePrompt"],a);const i=f(e,["numberOfImages"]);t!==void 0&&i!=null&&m(t,["parameters","sampleCount"],i);const o=f(e,["aspectRatio"]);t!==void 0&&o!=null&&m(t,["parameters","aspectRatio"],o);const l=f(e,["guidanceScale"]);t!==void 0&&l!=null&&m(t,["parameters","guidanceScale"],l);const c=f(e,["seed"]);t!==void 0&&c!=null&&m(t,["parameters","seed"],c);const u=f(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&m(t,["parameters","safetySetting"],u);const h=f(e,["personGeneration"]);t!==void 0&&h!=null&&m(t,["parameters","personGeneration"],h);const p=f(e,["includeSafetyAttributes"]);t!==void 0&&p!=null&&m(t,["parameters","includeSafetyAttributes"],p);const g=f(e,["includeRaiReason"]);t!==void 0&&g!=null&&m(t,["parameters","includeRaiReason"],g);const v=f(e,["language"]);t!==void 0&&v!=null&&m(t,["parameters","language"],v);const x=f(e,["outputMimeType"]);t!==void 0&&x!=null&&m(t,["parameters","outputOptions","mimeType"],x);const y=f(e,["outputCompressionQuality"]);t!==void 0&&y!=null&&m(t,["parameters","outputOptions","compressionQuality"],y);const w=f(e,["addWatermark"]);t!==void 0&&w!=null&&m(t,["parameters","addWatermark"],w);const k=f(e,["labels"]);t!==void 0&&k!=null&&m(t,["labels"],k);const _=f(e,["editMode"]);t!==void 0&&_!=null&&m(t,["parameters","editMode"],_);const b=f(e,["baseSteps"]);return t!==void 0&&b!=null&&m(t,["parameters","editConfig","baseSteps"],b),n}function rG(e,t,r){const n={},s=f(t,["model"]);s!=null&&m(n,["_url","model"],Dt(e,s));const a=f(t,["prompt"]);a!=null&&m(n,["instances[0]","prompt"],a);const i=f(t,["referenceImages"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>sW(c))),m(n,["instances[0]","referenceImages"],l)}const o=f(t,["config"]);return o!=null&&tG(o,n),n}function nG(e,t){const r={},n=f(e,["sdkHttpResponse"]);n!=null&&m(r,["sdkHttpResponse"],n);const s=f(e,["predictions"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(i=>E0(i))),m(r,["generatedImages"],a)}return r}function sG(e,t,r){const n={},s=f(e,["taskType"]);t!==void 0&&s!=null&&m(t,["requests[]","taskType"],s);const a=f(e,["title"]);t!==void 0&&a!=null&&m(t,["requests[]","title"],a);const i=f(e,["outputDimensionality"]);if(t!==void 0&&i!=null&&m(t,["requests[]","outputDimensionality"],i),f(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function aG(e,t,r){const n={},s=f(e,["taskType"]);t!==void 0&&s!=null&&m(t,["instances[]","task_type"],s);const a=f(e,["title"]);t!==void 0&&a!=null&&m(t,["instances[]","title"],a);const i=f(e,["outputDimensionality"]);t!==void 0&&i!=null&&m(t,["parameters","outputDimensionality"],i);const o=f(e,["mimeType"]);t!==void 0&&o!=null&&m(t,["instances[]","mimeType"],o);const l=f(e,["autoTruncate"]);return t!==void 0&&l!=null&&m(t,["parameters","autoTruncate"],l),n}function iG(e,t,r){const n={},s=f(t,["model"]);s!=null&&m(n,["_url","model"],Dt(e,s));const a=f(t,["contents"]);if(a!=null){let l=g1(e,a);Array.isArray(l)&&(l=l.map(c=>c)),m(n,["requests[]","content"],l)}const i=f(t,["config"]);i!=null&&sG(i,n);const o=f(t,["model"]);return o!==void 0&&m(n,["requests[]","model"],Dt(e,o)),n}function oG(e,t,r){const n={},s=f(t,["model"]);s!=null&&m(n,["_url","model"],Dt(e,s));const a=f(t,["contents"]);if(a!=null){let o=g1(e,a);Array.isArray(o)&&(o=o.map(l=>l)),m(n,["instances[]","content"],o)}const i=f(t,["config"]);return i!=null&&aG(i,n),n}function lG(e,t){const r={},n=f(e,["sdkHttpResponse"]);n!=null&&m(r,["sdkHttpResponse"],n);const s=f(e,["embeddings"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>o)),m(r,["embeddings"],i)}const a=f(e,["metadata"]);return a!=null&&m(r,["metadata"],a),r}function cG(e,t){const r={},n=f(e,["sdkHttpResponse"]);n!=null&&m(r,["sdkHttpResponse"],n);const s=f(e,["predictions[]","embeddings"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>VH(o))),m(r,["embeddings"],i)}const a=f(e,["metadata"]);return a!=null&&m(r,["metadata"],a),r}function uG(e,t){const r={},n=f(e,["endpoint"]);n!=null&&m(r,["name"],n);const s=f(e,["deployedModelId"]);return s!=null&&m(r,["deployedModelId"],s),r}function dG(e,t){const r={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(e,["fileUri"]);n!=null&&m(r,["fileUri"],n);const s=f(e,["mimeType"]);return s!=null&&m(r,["mimeType"],s),r}function fG(e,t){const r={},n=f(e,["id"]);n!=null&&m(r,["id"],n);const s=f(e,["args"]);s!=null&&m(r,["args"],s);const a=f(e,["name"]);if(a!=null&&m(r,["name"],a),f(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return r}function hG(e,t){const r={},n=f(e,["allowedFunctionNames"]);n!=null&&m(r,["allowedFunctionNames"],n);const s=f(e,["mode"]);if(s!=null&&m(r,["mode"],s),f(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return r}function pG(e,t){const r={},n=f(e,["description"]);n!=null&&m(r,["description"],n);const s=f(e,["name"]);s!=null&&m(r,["name"],s);const a=f(e,["parameters"]);a!=null&&m(r,["parameters"],a);const i=f(e,["parametersJsonSchema"]);i!=null&&m(r,["parametersJsonSchema"],i);const o=f(e,["response"]);o!=null&&m(r,["response"],o);const l=f(e,["responseJsonSchema"]);if(l!=null&&m(r,["responseJsonSchema"],l),f(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return r}function mG(e,t,r,n){const s={},a=f(t,["systemInstruction"]);r!==void 0&&a!=null&&m(r,["systemInstruction"],S0(nn(a)));const i=f(t,["temperature"]);i!=null&&m(s,["temperature"],i);const o=f(t,["topP"]);o!=null&&m(s,["topP"],o);const l=f(t,["topK"]);l!=null&&m(s,["topK"],l);const c=f(t,["candidateCount"]);c!=null&&m(s,["candidateCount"],c);const u=f(t,["maxOutputTokens"]);u!=null&&m(s,["maxOutputTokens"],u);const h=f(t,["stopSequences"]);h!=null&&m(s,["stopSequences"],h);const p=f(t,["responseLogprobs"]);p!=null&&m(s,["responseLogprobs"],p);const g=f(t,["logprobs"]);g!=null&&m(s,["logprobs"],g);const v=f(t,["presencePenalty"]);v!=null&&m(s,["presencePenalty"],v);const x=f(t,["frequencyPenalty"]);x!=null&&m(s,["frequencyPenalty"],x);const y=f(t,["seed"]);y!=null&&m(s,["seed"],y);const w=f(t,["responseMimeType"]);w!=null&&m(s,["responseMimeType"],w);const k=f(t,["responseSchema"]);k!=null&&m(s,["responseSchema"],x1(k));const _=f(t,["responseJsonSchema"]);if(_!=null&&m(s,["responseJsonSchema"],_),f(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const b=f(t,["safetySettings"]);if(r!==void 0&&b!=null){let B=b;Array.isArray(B)&&(B=B.map(fe=>aW(fe))),m(r,["safetySettings"],B)}const T=f(t,["tools"]);if(r!==void 0&&T!=null){let B=fl(T);Array.isArray(B)&&(B=B.map(fe=>fW(dl(fe)))),m(r,["tools"],B)}const E=f(t,["toolConfig"]);if(r!==void 0&&E!=null&&m(r,["toolConfig"],dW(E)),f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const S=f(t,["cachedContent"]);r!==void 0&&S!=null&&m(r,["cachedContent"],da(e,S));const M=f(t,["responseModalities"]);M!=null&&m(s,["responseModalities"],M);const F=f(t,["mediaResolution"]);F!=null&&m(s,["mediaResolution"],F);const z=f(t,["speechConfig"]);if(z!=null&&m(s,["speechConfig"],v1(z)),f(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Y=f(t,["thinkingConfig"]);Y!=null&&m(s,["thinkingConfig"],Y);const U=f(t,["imageConfig"]);U!=null&&m(s,["imageConfig"],VG(U));const re=f(t,["enableEnhancedCivicAnswers"]);if(re!=null&&m(s,["enableEnhancedCivicAnswers"],re),f(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return s}function gG(e,t,r,n){const s={},a=f(t,["systemInstruction"]);r!==void 0&&a!=null&&m(r,["systemInstruction"],nn(a));const i=f(t,["temperature"]);i!=null&&m(s,["temperature"],i);const o=f(t,["topP"]);o!=null&&m(s,["topP"],o);const l=f(t,["topK"]);l!=null&&m(s,["topK"],l);const c=f(t,["candidateCount"]);c!=null&&m(s,["candidateCount"],c);const u=f(t,["maxOutputTokens"]);u!=null&&m(s,["maxOutputTokens"],u);const h=f(t,["stopSequences"]);h!=null&&m(s,["stopSequences"],h);const p=f(t,["responseLogprobs"]);p!=null&&m(s,["responseLogprobs"],p);const g=f(t,["logprobs"]);g!=null&&m(s,["logprobs"],g);const v=f(t,["presencePenalty"]);v!=null&&m(s,["presencePenalty"],v);const x=f(t,["frequencyPenalty"]);x!=null&&m(s,["frequencyPenalty"],x);const y=f(t,["seed"]);y!=null&&m(s,["seed"],y);const w=f(t,["responseMimeType"]);w!=null&&m(s,["responseMimeType"],w);const k=f(t,["responseSchema"]);k!=null&&m(s,["responseSchema"],x1(k));const _=f(t,["responseJsonSchema"]);_!=null&&m(s,["responseJsonSchema"],_);const b=f(t,["routingConfig"]);b!=null&&m(s,["routingConfig"],b);const T=f(t,["modelSelectionConfig"]);T!=null&&m(s,["modelConfig"],T);const E=f(t,["safetySettings"]);if(r!==void 0&&E!=null){let X=E;Array.isArray(X)&&(X=X.map(W=>W)),m(r,["safetySettings"],X)}const S=f(t,["tools"]);if(r!==void 0&&S!=null){let X=fl(S);Array.isArray(X)&&(X=X.map(W=>cC(dl(W)))),m(r,["tools"],X)}const M=f(t,["toolConfig"]);r!==void 0&&M!=null&&m(r,["toolConfig"],M);const F=f(t,["labels"]);r!==void 0&&F!=null&&m(r,["labels"],F);const z=f(t,["cachedContent"]);r!==void 0&&z!=null&&m(r,["cachedContent"],da(e,z));const Y=f(t,["responseModalities"]);Y!=null&&m(s,["responseModalities"],Y);const U=f(t,["mediaResolution"]);U!=null&&m(s,["mediaResolution"],U);const re=f(t,["speechConfig"]);re!=null&&m(s,["speechConfig"],v1(re));const B=f(t,["audioTimestamp"]);B!=null&&m(s,["audioTimestamp"],B);const fe=f(t,["thinkingConfig"]);fe!=null&&m(s,["thinkingConfig"],fe);const we=f(t,["imageConfig"]);if(we!=null&&m(s,["imageConfig"],HG(we)),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const J=f(t,["modelArmorConfig"]);return r!==void 0&&J!=null&&m(r,["modelArmorConfig"],J),s}function i2(e,t,r){const n={},s=f(t,["model"]);s!=null&&m(n,["_url","model"],Dt(e,s));const a=f(t,["contents"]);if(a!=null){let o=rs(a);Array.isArray(o)&&(o=o.map(l=>S0(l))),m(n,["contents"],o)}const i=f(t,["config"]);return i!=null&&m(n,["generationConfig"],mG(e,i,n)),n}function o2(e,t,r){const n={},s=f(t,["model"]);s!=null&&m(n,["_url","model"],Dt(e,s));const a=f(t,["contents"]);if(a!=null){let o=rs(a);Array.isArray(o)&&(o=o.map(l=>l)),m(n,["contents"],o)}const i=f(t,["config"]);return i!=null&&m(n,["generationConfig"],gG(e,i,n)),n}function l2(e,t){const r={},n=f(e,["sdkHttpResponse"]);n!=null&&m(r,["sdkHttpResponse"],n);const s=f(e,["candidates"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(u=>UH(u))),m(r,["candidates"],c)}const a=f(e,["modelVersion"]);a!=null&&m(r,["modelVersion"],a);const i=f(e,["promptFeedback"]);i!=null&&m(r,["promptFeedback"],i);const o=f(e,["responseId"]);o!=null&&m(r,["responseId"],o);const l=f(e,["usageMetadata"]);return l!=null&&m(r,["usageMetadata"],l),r}function c2(e,t){const r={},n=f(e,["sdkHttpResponse"]);n!=null&&m(r,["sdkHttpResponse"],n);const s=f(e,["candidates"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(h=>h)),m(r,["candidates"],u)}const a=f(e,["createTime"]);a!=null&&m(r,["createTime"],a);const i=f(e,["modelVersion"]);i!=null&&m(r,["modelVersion"],i);const o=f(e,["promptFeedback"]);o!=null&&m(r,["promptFeedback"],o);const l=f(e,["responseId"]);l!=null&&m(r,["responseId"],l);const c=f(e,["usageMetadata"]);return c!=null&&m(r,["usageMetadata"],c),r}function xG(e,t,r){const n={};if(f(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=f(e,["numberOfImages"]);t!==void 0&&s!=null&&m(t,["parameters","sampleCount"],s);const a=f(e,["aspectRatio"]);t!==void 0&&a!=null&&m(t,["parameters","aspectRatio"],a);const i=f(e,["guidanceScale"]);if(t!==void 0&&i!=null&&m(t,["parameters","guidanceScale"],i),f(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=f(e,["safetyFilterLevel"]);t!==void 0&&o!=null&&m(t,["parameters","safetySetting"],o);const l=f(e,["personGeneration"]);t!==void 0&&l!=null&&m(t,["parameters","personGeneration"],l);const c=f(e,["includeSafetyAttributes"]);t!==void 0&&c!=null&&m(t,["parameters","includeSafetyAttributes"],c);const u=f(e,["includeRaiReason"]);t!==void 0&&u!=null&&m(t,["parameters","includeRaiReason"],u);const h=f(e,["language"]);t!==void 0&&h!=null&&m(t,["parameters","language"],h);const p=f(e,["outputMimeType"]);t!==void 0&&p!=null&&m(t,["parameters","outputOptions","mimeType"],p);const g=f(e,["outputCompressionQuality"]);if(t!==void 0&&g!=null&&m(t,["parameters","outputOptions","compressionQuality"],g),f(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const v=f(e,["imageSize"]);if(t!==void 0&&v!=null&&m(t,["parameters","sampleImageSize"],v),f(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function vG(e,t,r){const n={},s=f(e,["outputGcsUri"]);t!==void 0&&s!=null&&m(t,["parameters","storageUri"],s);const a=f(e,["negativePrompt"]);t!==void 0&&a!=null&&m(t,["parameters","negativePrompt"],a);const i=f(e,["numberOfImages"]);t!==void 0&&i!=null&&m(t,["parameters","sampleCount"],i);const o=f(e,["aspectRatio"]);t!==void 0&&o!=null&&m(t,["parameters","aspectRatio"],o);const l=f(e,["guidanceScale"]);t!==void 0&&l!=null&&m(t,["parameters","guidanceScale"],l);const c=f(e,["seed"]);t!==void 0&&c!=null&&m(t,["parameters","seed"],c);const u=f(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&m(t,["parameters","safetySetting"],u);const h=f(e,["personGeneration"]);t!==void 0&&h!=null&&m(t,["parameters","personGeneration"],h);const p=f(e,["includeSafetyAttributes"]);t!==void 0&&p!=null&&m(t,["parameters","includeSafetyAttributes"],p);const g=f(e,["includeRaiReason"]);t!==void 0&&g!=null&&m(t,["parameters","includeRaiReason"],g);const v=f(e,["language"]);t!==void 0&&v!=null&&m(t,["parameters","language"],v);const x=f(e,["outputMimeType"]);t!==void 0&&x!=null&&m(t,["parameters","outputOptions","mimeType"],x);const y=f(e,["outputCompressionQuality"]);t!==void 0&&y!=null&&m(t,["parameters","outputOptions","compressionQuality"],y);const w=f(e,["addWatermark"]);t!==void 0&&w!=null&&m(t,["parameters","addWatermark"],w);const k=f(e,["labels"]);t!==void 0&&k!=null&&m(t,["labels"],k);const _=f(e,["imageSize"]);t!==void 0&&_!=null&&m(t,["parameters","sampleImageSize"],_);const b=f(e,["enhancePrompt"]);return t!==void 0&&b!=null&&m(t,["parameters","enhancePrompt"],b),n}function yG(e,t,r){const n={},s=f(t,["model"]);s!=null&&m(n,["_url","model"],Dt(e,s));const a=f(t,["prompt"]);a!=null&&m(n,["instances[0]","prompt"],a);const i=f(t,["config"]);return i!=null&&xG(i,n),n}function _G(e,t,r){const n={},s=f(t,["model"]);s!=null&&m(n,["_url","model"],Dt(e,s));const a=f(t,["prompt"]);a!=null&&m(n,["instances[0]","prompt"],a);const i=f(t,["config"]);return i!=null&&vG(i,n),n}function wG(e,t){const r={},n=f(e,["sdkHttpResponse"]);n!=null&&m(r,["sdkHttpResponse"],n);const s=f(e,["predictions"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>FG(o))),m(r,["generatedImages"],i)}const a=f(e,["positivePromptSafetyAttributes"]);return a!=null&&m(r,["positivePromptSafetyAttributes"],oC(a)),r}function kG(e,t){const r={},n=f(e,["sdkHttpResponse"]);n!=null&&m(r,["sdkHttpResponse"],n);const s=f(e,["predictions"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>E0(o))),m(r,["generatedImages"],i)}const a=f(e,["positivePromptSafetyAttributes"]);return a!=null&&m(r,["positivePromptSafetyAttributes"],lC(a)),r}function bG(e,t,r){const n={},s=f(e,["numberOfVideos"]);if(t!==void 0&&s!=null&&m(t,["parameters","sampleCount"],s),f(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=f(e,["durationSeconds"]);if(t!==void 0&&a!=null&&m(t,["parameters","durationSeconds"],a),f(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const i=f(e,["aspectRatio"]);t!==void 0&&i!=null&&m(t,["parameters","aspectRatio"],i);const o=f(e,["resolution"]);t!==void 0&&o!=null&&m(t,["parameters","resolution"],o);const l=f(e,["personGeneration"]);if(t!==void 0&&l!=null&&m(t,["parameters","personGeneration"],l),f(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=f(e,["negativePrompt"]);t!==void 0&&c!=null&&m(t,["parameters","negativePrompt"],c);const u=f(e,["enhancePrompt"]);if(t!==void 0&&u!=null&&m(t,["parameters","enhancePrompt"],u),f(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=f(e,["lastFrame"]);t!==void 0&&h!=null&&m(t,["instances[0]","lastFrame"],T0(h));const p=f(e,["referenceImages"]);if(t!==void 0&&p!=null){let g=p;Array.isArray(g)&&(g=g.map(v=>EW(v))),m(t,["instances[0]","referenceImages"],g)}if(f(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(f(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function SG(e,t,r){const n={},s=f(e,["numberOfVideos"]);t!==void 0&&s!=null&&m(t,["parameters","sampleCount"],s);const a=f(e,["outputGcsUri"]);t!==void 0&&a!=null&&m(t,["parameters","storageUri"],a);const i=f(e,["fps"]);t!==void 0&&i!=null&&m(t,["parameters","fps"],i);const o=f(e,["durationSeconds"]);t!==void 0&&o!=null&&m(t,["parameters","durationSeconds"],o);const l=f(e,["seed"]);t!==void 0&&l!=null&&m(t,["parameters","seed"],l);const c=f(e,["aspectRatio"]);t!==void 0&&c!=null&&m(t,["parameters","aspectRatio"],c);const u=f(e,["resolution"]);t!==void 0&&u!=null&&m(t,["parameters","resolution"],u);const h=f(e,["personGeneration"]);t!==void 0&&h!=null&&m(t,["parameters","personGeneration"],h);const p=f(e,["pubsubTopic"]);t!==void 0&&p!=null&&m(t,["parameters","pubsubTopic"],p);const g=f(e,["negativePrompt"]);t!==void 0&&g!=null&&m(t,["parameters","negativePrompt"],g);const v=f(e,["enhancePrompt"]);t!==void 0&&v!=null&&m(t,["parameters","enhancePrompt"],v);const x=f(e,["generateAudio"]);t!==void 0&&x!=null&&m(t,["parameters","generateAudio"],x);const y=f(e,["lastFrame"]);t!==void 0&&y!=null&&m(t,["instances[0]","lastFrame"],Is(y));const w=f(e,["referenceImages"]);if(t!==void 0&&w!=null){let b=w;Array.isArray(b)&&(b=b.map(T=>TW(T))),m(t,["instances[0]","referenceImages"],b)}const k=f(e,["mask"]);t!==void 0&&k!=null&&m(t,["instances[0]","mask"],SW(k));const _=f(e,["compressionQuality"]);return t!==void 0&&_!=null&&m(t,["parameters","compressionQuality"],_),n}function EG(e,t){const r={},n=f(e,["name"]);n!=null&&m(r,["name"],n);const s=f(e,["metadata"]);s!=null&&m(r,["metadata"],s);const a=f(e,["done"]);a!=null&&m(r,["done"],a);const i=f(e,["error"]);i!=null&&m(r,["error"],i);const o=f(e,["response","generateVideoResponse"]);return o!=null&&m(r,["response"],NG(o)),r}function TG(e,t){const r={},n=f(e,["name"]);n!=null&&m(r,["name"],n);const s=f(e,["metadata"]);s!=null&&m(r,["metadata"],s);const a=f(e,["done"]);a!=null&&m(r,["done"],a);const i=f(e,["error"]);i!=null&&m(r,["error"],i);const o=f(e,["response"]);return o!=null&&m(r,["response"],IG(o)),r}function CG(e,t,r){const n={},s=f(t,["model"]);s!=null&&m(n,["_url","model"],Dt(e,s));const a=f(t,["prompt"]);a!=null&&m(n,["instances[0]","prompt"],a);const i=f(t,["image"]);i!=null&&m(n,["instances[0]","image"],T0(i));const o=f(t,["video"]);o!=null&&m(n,["instances[0]","video"],uC(o));const l=f(t,["source"]);l!=null&&RG(l,n);const c=f(t,["config"]);return c!=null&&bG(c,n),n}function AG(e,t,r){const n={},s=f(t,["model"]);s!=null&&m(n,["_url","model"],Dt(e,s));const a=f(t,["prompt"]);a!=null&&m(n,["instances[0]","prompt"],a);const i=f(t,["image"]);i!=null&&m(n,["instances[0]","image"],Is(i));const o=f(t,["video"]);o!=null&&m(n,["instances[0]","video"],dC(o));const l=f(t,["source"]);l!=null&&PG(l,n);const c=f(t,["config"]);return c!=null&&SG(c,n),n}function NG(e,t){const r={},n=f(e,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>DG(o))),m(r,["generatedVideos"],i)}const s=f(e,["raiMediaFilteredCount"]);s!=null&&m(r,["raiMediaFilteredCount"],s);const a=f(e,["raiMediaFilteredReasons"]);return a!=null&&m(r,["raiMediaFilteredReasons"],a),r}function IG(e,t){const r={},n=f(e,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>LG(o))),m(r,["generatedVideos"],i)}const s=f(e,["raiMediaFilteredCount"]);s!=null&&m(r,["raiMediaFilteredCount"],s);const a=f(e,["raiMediaFilteredReasons"]);return a!=null&&m(r,["raiMediaFilteredReasons"],a),r}function RG(e,t,r){const n={},s=f(e,["prompt"]);t!==void 0&&s!=null&&m(t,["instances[0]","prompt"],s);const a=f(e,["image"]);t!==void 0&&a!=null&&m(t,["instances[0]","image"],T0(a));const i=f(e,["video"]);return t!==void 0&&i!=null&&m(t,["instances[0]","video"],uC(i)),n}function PG(e,t,r){const n={},s=f(e,["prompt"]);t!==void 0&&s!=null&&m(t,["instances[0]","prompt"],s);const a=f(e,["image"]);t!==void 0&&a!=null&&m(t,["instances[0]","image"],Is(a));const i=f(e,["video"]);return t!==void 0&&i!=null&&m(t,["instances[0]","video"],dC(i)),n}function FG(e,t){const r={},n=f(e,["_self"]);n!=null&&m(r,["image"],GG(n));const s=f(e,["raiFilteredReason"]);s!=null&&m(r,["raiFilteredReason"],s);const a=f(e,["_self"]);return a!=null&&m(r,["safetyAttributes"],oC(a)),r}function E0(e,t){const r={},n=f(e,["_self"]);n!=null&&m(r,["image"],iC(n));const s=f(e,["raiFilteredReason"]);s!=null&&m(r,["raiFilteredReason"],s);const a=f(e,["_self"]);a!=null&&m(r,["safetyAttributes"],lC(a));const i=f(e,["prompt"]);return i!=null&&m(r,["enhancedPrompt"],i),r}function MG(e,t){const r={},n=f(e,["_self"]);n!=null&&m(r,["mask"],iC(n));const s=f(e,["labels"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(i=>i)),m(r,["labels"],a)}return r}function DG(e,t){const r={},n=f(e,["video"]);return n!=null&&m(r,["video"],kW(n)),r}function LG(e,t){const r={},n=f(e,["_self"]);return n!=null&&m(r,["video"],bW(n)),r}function OG(e,t){const r={},n=f(e,["modelSelectionConfig"]);n!=null&&m(r,["modelConfig"],n);const s=f(e,["responseJsonSchema"]);s!=null&&m(r,["responseJsonSchema"],s);const a=f(e,["audioTimestamp"]);a!=null&&m(r,["audioTimestamp"],a);const i=f(e,["candidateCount"]);i!=null&&m(r,["candidateCount"],i);const o=f(e,["enableAffectiveDialog"]);o!=null&&m(r,["enableAffectiveDialog"],o);const l=f(e,["frequencyPenalty"]);l!=null&&m(r,["frequencyPenalty"],l);const c=f(e,["logprobs"]);c!=null&&m(r,["logprobs"],c);const u=f(e,["maxOutputTokens"]);u!=null&&m(r,["maxOutputTokens"],u);const h=f(e,["mediaResolution"]);h!=null&&m(r,["mediaResolution"],h);const p=f(e,["presencePenalty"]);p!=null&&m(r,["presencePenalty"],p);const g=f(e,["responseLogprobs"]);g!=null&&m(r,["responseLogprobs"],g);const v=f(e,["responseMimeType"]);v!=null&&m(r,["responseMimeType"],v);const x=f(e,["responseModalities"]);x!=null&&m(r,["responseModalities"],x);const y=f(e,["responseSchema"]);y!=null&&m(r,["responseSchema"],y);const w=f(e,["routingConfig"]);w!=null&&m(r,["routingConfig"],w);const k=f(e,["seed"]);k!=null&&m(r,["seed"],k);const _=f(e,["speechConfig"]);_!=null&&m(r,["speechConfig"],_);const b=f(e,["stopSequences"]);b!=null&&m(r,["stopSequences"],b);const T=f(e,["temperature"]);T!=null&&m(r,["temperature"],T);const E=f(e,["thinkingConfig"]);E!=null&&m(r,["thinkingConfig"],E);const S=f(e,["topK"]);S!=null&&m(r,["topK"],S);const M=f(e,["topP"]);if(M!=null&&m(r,["topP"],M),f(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function UG(e,t,r){const n={},s=f(t,["model"]);return s!=null&&m(n,["_url","name"],Dt(e,s)),n}function BG(e,t,r){const n={},s=f(t,["model"]);return s!=null&&m(n,["_url","name"],Dt(e,s)),n}function jG(e,t){const r={};if(f(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(e,["enableWidget"]);return n!=null&&m(r,["enableWidget"],n),r}function $G(e,t){const r={};if(f(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(e,["timeRangeFilter"]);return n!=null&&m(r,["timeRangeFilter"],n),r}function VG(e,t){const r={},n=f(e,["aspectRatio"]);n!=null&&m(r,["aspectRatio"],n);const s=f(e,["imageSize"]);if(s!=null&&m(r,["imageSize"],s),f(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(f(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return r}function HG(e,t){const r={},n=f(e,["aspectRatio"]);n!=null&&m(r,["aspectRatio"],n);const s=f(e,["imageSize"]);s!=null&&m(r,["imageSize"],s);const a=f(e,["personGeneration"]);a!=null&&m(r,["personGeneration"],a);const i=f(e,["outputMimeType"]);i!=null&&m(r,["imageOutputOptions","mimeType"],i);const o=f(e,["outputCompressionQuality"]);return o!=null&&m(r,["imageOutputOptions","compressionQuality"],o),r}function GG(e,t){const r={},n=f(e,["bytesBase64Encoded"]);n!=null&&m(r,["imageBytes"],ei(n));const s=f(e,["mimeType"]);return s!=null&&m(r,["mimeType"],s),r}function iC(e,t){const r={},n=f(e,["gcsUri"]);n!=null&&m(r,["gcsUri"],n);const s=f(e,["bytesBase64Encoded"]);s!=null&&m(r,["imageBytes"],ei(s));const a=f(e,["mimeType"]);return a!=null&&m(r,["mimeType"],a),r}function T0(e,t){const r={};if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=f(e,["imageBytes"]);n!=null&&m(r,["bytesBase64Encoded"],ei(n));const s=f(e,["mimeType"]);return s!=null&&m(r,["mimeType"],s),r}function Is(e,t){const r={},n=f(e,["gcsUri"]);n!=null&&m(r,["gcsUri"],n);const s=f(e,["imageBytes"]);s!=null&&m(r,["bytesBase64Encoded"],ei(s));const a=f(e,["mimeType"]);return a!=null&&m(r,["mimeType"],a),r}function WG(e,t,r,n){const s={},a=f(t,["pageSize"]);r!==void 0&&a!=null&&m(r,["_query","pageSize"],a);const i=f(t,["pageToken"]);r!==void 0&&i!=null&&m(r,["_query","pageToken"],i);const o=f(t,["filter"]);r!==void 0&&o!=null&&m(r,["_query","filter"],o);const l=f(t,["queryBase"]);return r!==void 0&&l!=null&&m(r,["_url","models_url"],ZT(e,l)),s}function zG(e,t,r,n){const s={},a=f(t,["pageSize"]);r!==void 0&&a!=null&&m(r,["_query","pageSize"],a);const i=f(t,["pageToken"]);r!==void 0&&i!=null&&m(r,["_query","pageToken"],i);const o=f(t,["filter"]);r!==void 0&&o!=null&&m(r,["_query","filter"],o);const l=f(t,["queryBase"]);return r!==void 0&&l!=null&&m(r,["_url","models_url"],ZT(e,l)),s}function qG(e,t,r){const n={},s=f(t,["config"]);return s!=null&&WG(e,s,n),n}function KG(e,t,r){const n={},s=f(t,["config"]);return s!=null&&zG(e,s,n),n}function JG(e,t){const r={},n=f(e,["sdkHttpResponse"]);n!=null&&m(r,["sdkHttpResponse"],n);const s=f(e,["nextPageToken"]);s!=null&&m(r,["nextPageToken"],s);const a=f(e,["_self"]);if(a!=null){let i=eC(a);Array.isArray(i)&&(i=i.map(o=>lm(o))),m(r,["models"],i)}return r}function YG(e,t){const r={},n=f(e,["sdkHttpResponse"]);n!=null&&m(r,["sdkHttpResponse"],n);const s=f(e,["nextPageToken"]);s!=null&&m(r,["nextPageToken"],s);const a=f(e,["_self"]);if(a!=null){let i=eC(a);Array.isArray(i)&&(i=i.map(o=>cm(o))),m(r,["models"],i)}return r}function XG(e,t){const r={},n=f(e,["maskMode"]);n!=null&&m(r,["maskMode"],n);const s=f(e,["segmentationClasses"]);s!=null&&m(r,["maskClasses"],s);const a=f(e,["maskDilation"]);return a!=null&&m(r,["dilation"],a),r}function lm(e,t){const r={},n=f(e,["name"]);n!=null&&m(r,["name"],n);const s=f(e,["displayName"]);s!=null&&m(r,["displayName"],s);const a=f(e,["description"]);a!=null&&m(r,["description"],a);const i=f(e,["version"]);i!=null&&m(r,["version"],i);const o=f(e,["_self"]);o!=null&&m(r,["tunedModelInfo"],hW(o));const l=f(e,["inputTokenLimit"]);l!=null&&m(r,["inputTokenLimit"],l);const c=f(e,["outputTokenLimit"]);c!=null&&m(r,["outputTokenLimit"],c);const u=f(e,["supportedGenerationMethods"]);u!=null&&m(r,["supportedActions"],u);const h=f(e,["temperature"]);h!=null&&m(r,["temperature"],h);const p=f(e,["maxTemperature"]);p!=null&&m(r,["maxTemperature"],p);const g=f(e,["topP"]);g!=null&&m(r,["topP"],g);const v=f(e,["topK"]);v!=null&&m(r,["topK"],v);const x=f(e,["thinking"]);return x!=null&&m(r,["thinking"],x),r}function cm(e,t){const r={},n=f(e,["name"]);n!=null&&m(r,["name"],n);const s=f(e,["displayName"]);s!=null&&m(r,["displayName"],s);const a=f(e,["description"]);a!=null&&m(r,["description"],a);const i=f(e,["versionId"]);i!=null&&m(r,["version"],i);const o=f(e,["deployedModels"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(g=>uG(g))),m(r,["endpoints"],p)}const l=f(e,["labels"]);l!=null&&m(r,["labels"],l);const c=f(e,["_self"]);c!=null&&m(r,["tunedModelInfo"],pW(c));const u=f(e,["defaultCheckpointId"]);u!=null&&m(r,["defaultCheckpointId"],u);const h=f(e,["checkpoints"]);if(h!=null){let p=h;Array.isArray(p)&&(p=p.map(g=>g)),m(r,["checkpoints"],p)}return r}function QG(e,t){const r={},n=f(e,["mediaResolution"]);n!=null&&m(r,["mediaResolution"],n);const s=f(e,["codeExecutionResult"]);s!=null&&m(r,["codeExecutionResult"],s);const a=f(e,["executableCode"]);a!=null&&m(r,["executableCode"],a);const i=f(e,["fileData"]);i!=null&&m(r,["fileData"],dG(i));const o=f(e,["functionCall"]);o!=null&&m(r,["functionCall"],fG(o));const l=f(e,["functionResponse"]);l!=null&&m(r,["functionResponse"],l);const c=f(e,["inlineData"]);c!=null&&m(r,["inlineData"],OH(c));const u=f(e,["text"]);u!=null&&m(r,["text"],u);const h=f(e,["thought"]);h!=null&&m(r,["thought"],h);const p=f(e,["thoughtSignature"]);p!=null&&m(r,["thoughtSignature"],p);const g=f(e,["videoMetadata"]);return g!=null&&m(r,["videoMetadata"],g),r}function ZG(e,t){const r={},n=f(e,["productImage"]);return n!=null&&m(r,["image"],Is(n)),r}function eW(e,t,r){const n={},s=f(e,["numberOfImages"]);t!==void 0&&s!=null&&m(t,["parameters","sampleCount"],s);const a=f(e,["baseSteps"]);t!==void 0&&a!=null&&m(t,["parameters","baseSteps"],a);const i=f(e,["outputGcsUri"]);t!==void 0&&i!=null&&m(t,["parameters","storageUri"],i);const o=f(e,["seed"]);t!==void 0&&o!=null&&m(t,["parameters","seed"],o);const l=f(e,["safetyFilterLevel"]);t!==void 0&&l!=null&&m(t,["parameters","safetySetting"],l);const c=f(e,["personGeneration"]);t!==void 0&&c!=null&&m(t,["parameters","personGeneration"],c);const u=f(e,["addWatermark"]);t!==void 0&&u!=null&&m(t,["parameters","addWatermark"],u);const h=f(e,["outputMimeType"]);t!==void 0&&h!=null&&m(t,["parameters","outputOptions","mimeType"],h);const p=f(e,["outputCompressionQuality"]);t!==void 0&&p!=null&&m(t,["parameters","outputOptions","compressionQuality"],p);const g=f(e,["enhancePrompt"]);t!==void 0&&g!=null&&m(t,["parameters","enhancePrompt"],g);const v=f(e,["labels"]);return t!==void 0&&v!=null&&m(t,["labels"],v),n}function tW(e,t,r){const n={},s=f(t,["model"]);s!=null&&m(n,["_url","model"],Dt(e,s));const a=f(t,["source"]);a!=null&&nW(a,n);const i=f(t,["config"]);return i!=null&&eW(i,n),n}function rW(e,t){const r={},n=f(e,["predictions"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>E0(a))),m(r,["generatedImages"],s)}return r}function nW(e,t,r){const n={},s=f(e,["prompt"]);t!==void 0&&s!=null&&m(t,["instances[0]","prompt"],s);const a=f(e,["personImage"]);t!==void 0&&a!=null&&m(t,["instances[0]","personImage","image"],Is(a));const i=f(e,["productImages"]);if(t!==void 0&&i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>ZG(l))),m(t,["instances[0]","productImages"],o)}return n}function sW(e,t){const r={},n=f(e,["referenceImage"]);n!=null&&m(r,["referenceImage"],Is(n));const s=f(e,["referenceId"]);s!=null&&m(r,["referenceId"],s);const a=f(e,["referenceType"]);a!=null&&m(r,["referenceType"],a);const i=f(e,["maskImageConfig"]);i!=null&&m(r,["maskImageConfig"],XG(i));const o=f(e,["controlImageConfig"]);o!=null&&m(r,["controlImageConfig"],GH(o));const l=f(e,["styleImageConfig"]);l!=null&&m(r,["styleImageConfig"],l);const c=f(e,["subjectImageConfig"]);return c!=null&&m(r,["subjectImageConfig"],c),r}function oC(e,t){const r={},n=f(e,["safetyAttributes","categories"]);n!=null&&m(r,["categories"],n);const s=f(e,["safetyAttributes","scores"]);s!=null&&m(r,["scores"],s);const a=f(e,["contentType"]);return a!=null&&m(r,["contentType"],a),r}function lC(e,t){const r={},n=f(e,["safetyAttributes","categories"]);n!=null&&m(r,["categories"],n);const s=f(e,["safetyAttributes","scores"]);s!=null&&m(r,["scores"],s);const a=f(e,["contentType"]);return a!=null&&m(r,["contentType"],a),r}function aW(e,t){const r={},n=f(e,["category"]);if(n!=null&&m(r,["category"],n),f(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=f(e,["threshold"]);return s!=null&&m(r,["threshold"],s),r}function iW(e,t){const r={},n=f(e,["image"]);return n!=null&&m(r,["image"],Is(n)),r}function oW(e,t,r){const n={},s=f(e,["mode"]);t!==void 0&&s!=null&&m(t,["parameters","mode"],s);const a=f(e,["maxPredictions"]);t!==void 0&&a!=null&&m(t,["parameters","maxPredictions"],a);const i=f(e,["confidenceThreshold"]);t!==void 0&&i!=null&&m(t,["parameters","confidenceThreshold"],i);const o=f(e,["maskDilation"]);t!==void 0&&o!=null&&m(t,["parameters","maskDilation"],o);const l=f(e,["binaryColorThreshold"]);t!==void 0&&l!=null&&m(t,["parameters","binaryColorThreshold"],l);const c=f(e,["labels"]);return t!==void 0&&c!=null&&m(t,["labels"],c),n}function lW(e,t,r){const n={},s=f(t,["model"]);s!=null&&m(n,["_url","model"],Dt(e,s));const a=f(t,["source"]);a!=null&&uW(a,n);const i=f(t,["config"]);return i!=null&&oW(i,n),n}function cW(e,t){const r={},n=f(e,["predictions"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>MG(a))),m(r,["generatedMasks"],s)}return r}function uW(e,t,r){const n={},s=f(e,["prompt"]);t!==void 0&&s!=null&&m(t,["instances[0]","prompt"],s);const a=f(e,["image"]);t!==void 0&&a!=null&&m(t,["instances[0]","image"],Is(a));const i=f(e,["scribbleImage"]);return t!==void 0&&i!=null&&m(t,["instances[0]","scribble"],iW(i)),n}function dW(e,t){const r={},n=f(e,["retrievalConfig"]);n!=null&&m(r,["retrievalConfig"],n);const s=f(e,["functionCallingConfig"]);return s!=null&&m(r,["functionCallingConfig"],hG(s)),r}function fW(e,t){const r={};if(f(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(e,["computerUse"]);n!=null&&m(r,["computerUse"],n);const s=f(e,["fileSearch"]);s!=null&&m(r,["fileSearch"],s);const a=f(e,["codeExecution"]);if(a!=null&&m(r,["codeExecution"],a),f(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=f(e,["functionDeclarations"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(p=>p)),m(r,["functionDeclarations"],h)}const o=f(e,["googleMaps"]);o!=null&&m(r,["googleMaps"],jG(o));const l=f(e,["googleSearch"]);l!=null&&m(r,["googleSearch"],$G(l));const c=f(e,["googleSearchRetrieval"]);c!=null&&m(r,["googleSearchRetrieval"],c);const u=f(e,["urlContext"]);return u!=null&&m(r,["urlContext"],u),r}function cC(e,t){const r={},n=f(e,["retrieval"]);n!=null&&m(r,["retrieval"],n);const s=f(e,["computerUse"]);if(s!=null&&m(r,["computerUse"],s),f(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=f(e,["codeExecution"]);a!=null&&m(r,["codeExecution"],a);const i=f(e,["enterpriseWebSearch"]);i!=null&&m(r,["enterpriseWebSearch"],i);const o=f(e,["functionDeclarations"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(g=>pG(g))),m(r,["functionDeclarations"],p)}const l=f(e,["googleMaps"]);l!=null&&m(r,["googleMaps"],l);const c=f(e,["googleSearch"]);c!=null&&m(r,["googleSearch"],c);const u=f(e,["googleSearchRetrieval"]);u!=null&&m(r,["googleSearchRetrieval"],u);const h=f(e,["urlContext"]);return h!=null&&m(r,["urlContext"],h),r}function hW(e,t){const r={},n=f(e,["baseModel"]);n!=null&&m(r,["baseModel"],n);const s=f(e,["createTime"]);s!=null&&m(r,["createTime"],s);const a=f(e,["updateTime"]);return a!=null&&m(r,["updateTime"],a),r}function pW(e,t){const r={},n=f(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&m(r,["baseModel"],n);const s=f(e,["createTime"]);s!=null&&m(r,["createTime"],s);const a=f(e,["updateTime"]);return a!=null&&m(r,["updateTime"],a),r}function mW(e,t,r){const n={},s=f(e,["displayName"]);t!==void 0&&s!=null&&m(t,["displayName"],s);const a=f(e,["description"]);t!==void 0&&a!=null&&m(t,["description"],a);const i=f(e,["defaultCheckpointId"]);return t!==void 0&&i!=null&&m(t,["defaultCheckpointId"],i),n}function gW(e,t,r){const n={},s=f(e,["displayName"]);t!==void 0&&s!=null&&m(t,["displayName"],s);const a=f(e,["description"]);t!==void 0&&a!=null&&m(t,["description"],a);const i=f(e,["defaultCheckpointId"]);return t!==void 0&&i!=null&&m(t,["defaultCheckpointId"],i),n}function xW(e,t,r){const n={},s=f(t,["model"]);s!=null&&m(n,["_url","name"],Dt(e,s));const a=f(t,["config"]);return a!=null&&mW(a,n),n}function vW(e,t,r){const n={},s=f(t,["model"]);s!=null&&m(n,["_url","model"],Dt(e,s));const a=f(t,["config"]);return a!=null&&gW(a,n),n}function yW(e,t,r){const n={},s=f(e,["outputGcsUri"]);t!==void 0&&s!=null&&m(t,["parameters","storageUri"],s);const a=f(e,["safetyFilterLevel"]);t!==void 0&&a!=null&&m(t,["parameters","safetySetting"],a);const i=f(e,["personGeneration"]);t!==void 0&&i!=null&&m(t,["parameters","personGeneration"],i);const o=f(e,["includeRaiReason"]);t!==void 0&&o!=null&&m(t,["parameters","includeRaiReason"],o);const l=f(e,["outputMimeType"]);t!==void 0&&l!=null&&m(t,["parameters","outputOptions","mimeType"],l);const c=f(e,["outputCompressionQuality"]);t!==void 0&&c!=null&&m(t,["parameters","outputOptions","compressionQuality"],c);const u=f(e,["enhanceInputImage"]);t!==void 0&&u!=null&&m(t,["parameters","upscaleConfig","enhanceInputImage"],u);const h=f(e,["imagePreservationFactor"]);t!==void 0&&h!=null&&m(t,["parameters","upscaleConfig","imagePreservationFactor"],h);const p=f(e,["labels"]);t!==void 0&&p!=null&&m(t,["labels"],p);const g=f(e,["numberOfImages"]);t!==void 0&&g!=null&&m(t,["parameters","sampleCount"],g);const v=f(e,["mode"]);return t!==void 0&&v!=null&&m(t,["parameters","mode"],v),n}function _W(e,t,r){const n={},s=f(t,["model"]);s!=null&&m(n,["_url","model"],Dt(e,s));const a=f(t,["image"]);a!=null&&m(n,["instances[0]","image"],Is(a));const i=f(t,["upscaleFactor"]);i!=null&&m(n,["parameters","upscaleConfig","upscaleFactor"],i);const o=f(t,["config"]);return o!=null&&yW(o,n),n}function wW(e,t){const r={},n=f(e,["sdkHttpResponse"]);n!=null&&m(r,["sdkHttpResponse"],n);const s=f(e,["predictions"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(i=>E0(i))),m(r,["generatedImages"],a)}return r}function kW(e,t){const r={},n=f(e,["uri"]);n!=null&&m(r,["uri"],n);const s=f(e,["encodedVideo"]);s!=null&&m(r,["videoBytes"],ei(s));const a=f(e,["encoding"]);return a!=null&&m(r,["mimeType"],a),r}function bW(e,t){const r={},n=f(e,["gcsUri"]);n!=null&&m(r,["uri"],n);const s=f(e,["bytesBase64Encoded"]);s!=null&&m(r,["videoBytes"],ei(s));const a=f(e,["mimeType"]);return a!=null&&m(r,["mimeType"],a),r}function SW(e,t){const r={},n=f(e,["image"]);n!=null&&m(r,["_self"],Is(n));const s=f(e,["maskMode"]);return s!=null&&m(r,["maskMode"],s),r}function EW(e,t){const r={},n=f(e,["image"]);n!=null&&m(r,["image"],T0(n));const s=f(e,["referenceType"]);return s!=null&&m(r,["referenceType"],s),r}function TW(e,t){const r={},n=f(e,["image"]);n!=null&&m(r,["image"],Is(n));const s=f(e,["referenceType"]);return s!=null&&m(r,["referenceType"],s),r}function uC(e,t){const r={},n=f(e,["uri"]);n!=null&&m(r,["uri"],n);const s=f(e,["videoBytes"]);s!=null&&m(r,["encodedVideo"],ei(s));const a=f(e,["mimeType"]);return a!=null&&m(r,["encoding"],a),r}function dC(e,t){const r={},n=f(e,["uri"]);n!=null&&m(r,["gcsUri"],n);const s=f(e,["videoBytes"]);s!=null&&m(r,["bytesBase64Encoded"],ei(s));const a=f(e,["mimeType"]);return a!=null&&m(r,["mimeType"],a),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CW(e,t){const r={},n=f(e,["displayName"]);return t!==void 0&&n!=null&&m(t,["displayName"],n),r}function AW(e){const t={},r=f(e,["config"]);return r!=null&&CW(r,t),t}function NW(e,t){const r={},n=f(e,["force"]);return t!==void 0&&n!=null&&m(t,["_query","force"],n),r}function IW(e){const t={},r=f(e,["name"]);r!=null&&m(t,["_url","name"],r);const n=f(e,["config"]);return n!=null&&NW(n,t),t}function RW(e){const t={},r=f(e,["name"]);return r!=null&&m(t,["_url","name"],r),t}function PW(e,t){const r={},n=f(e,["customMetadata"]);if(t!==void 0&&n!=null){let a=n;Array.isArray(a)&&(a=a.map(i=>i)),m(t,["customMetadata"],a)}const s=f(e,["chunkingConfig"]);return t!==void 0&&s!=null&&m(t,["chunkingConfig"],s),r}function FW(e){const t={},r=f(e,["name"]);r!=null&&m(t,["name"],r);const n=f(e,["metadata"]);n!=null&&m(t,["metadata"],n);const s=f(e,["done"]);s!=null&&m(t,["done"],s);const a=f(e,["error"]);a!=null&&m(t,["error"],a);const i=f(e,["response"]);return i!=null&&m(t,["response"],DW(i)),t}function MW(e){const t={},r=f(e,["fileSearchStoreName"]);r!=null&&m(t,["_url","file_search_store_name"],r);const n=f(e,["fileName"]);n!=null&&m(t,["fileName"],n);const s=f(e,["config"]);return s!=null&&PW(s,t),t}function DW(e){const t={},r=f(e,["sdkHttpResponse"]);r!=null&&m(t,["sdkHttpResponse"],r);const n=f(e,["parent"]);n!=null&&m(t,["parent"],n);const s=f(e,["documentName"]);return s!=null&&m(t,["documentName"],s),t}function LW(e,t){const r={},n=f(e,["pageSize"]);t!==void 0&&n!=null&&m(t,["_query","pageSize"],n);const s=f(e,["pageToken"]);return t!==void 0&&s!=null&&m(t,["_query","pageToken"],s),r}function OW(e){const t={},r=f(e,["config"]);return r!=null&&LW(r,t),t}function UW(e){const t={},r=f(e,["sdkHttpResponse"]);r!=null&&m(t,["sdkHttpResponse"],r);const n=f(e,["nextPageToken"]);n!=null&&m(t,["nextPageToken"],n);const s=f(e,["fileSearchStores"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(i=>i)),m(t,["fileSearchStores"],a)}return t}function fC(e,t){const r={},n=f(e,["mimeType"]);t!==void 0&&n!=null&&m(t,["mimeType"],n);const s=f(e,["displayName"]);t!==void 0&&s!=null&&m(t,["displayName"],s);const a=f(e,["customMetadata"]);if(t!==void 0&&a!=null){let o=a;Array.isArray(o)&&(o=o.map(l=>l)),m(t,["customMetadata"],o)}const i=f(e,["chunkingConfig"]);return t!==void 0&&i!=null&&m(t,["chunkingConfig"],i),r}function BW(e){const t={},r=f(e,["fileSearchStoreName"]);r!=null&&m(t,["_url","file_search_store_name"],r);const n=f(e,["config"]);return n!=null&&fC(n,t),t}function jW(e){const t={},r=f(e,["sdkHttpResponse"]);return r!=null&&m(t,["sdkHttpResponse"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $W="Content-Type",VW="X-Server-Timeout",HW="User-Agent",um="x-goog-api-client",GW="1.40.0",WW=`google-genai-sdk/${GW}`,zW="v1beta1",qW="v1beta";class KW{constructor(t){var r,n,s;this.clientOptions=Object.assign({},t),this.customBaseUrl=(r=t.httpOptions)===null||r===void 0?void 0:r.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const a={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const o=t.project&&t.location||!!t.apiKey;this.customBaseUrl&&!o?(a.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?a.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(a.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),a.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:zW}else{if(!this.clientOptions.apiKey)throw new Yc({message:"API key must be set when using the Gemini API.",status:403});a.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:qW,a.baseUrl="https://generativelanguage.googleapis.com/"}a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const n=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&n.push(t.apiVersion),n.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),r=new URL(t);return r.protocol=r.protocol=="http:"?"ws":"wss",r.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,r,n){const s=[this.getRequestUrlInternal(r)];return n&&s.push(this.getBaseResourcePath()),t!==""&&s.push(t),new URL(`${s.join("/")}`)}shouldPrependVertexProjectPath(t,r){return!(r.baseUrl&&r.baseUrlResourceScope===sm.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let r=this.clientOptions.httpOptions;t.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const n=this.shouldPrependVertexProjectPath(t,r),s=this.constructUrl(t.path,r,n);if(t.queryParams)for(const[i,o]of Object.entries(t.queryParams))s.searchParams.append(i,String(o));let a={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=t.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,r,s.toString(),t.abortSignal),this.unaryApiCall(s,a,t.httpMethod)}patchHttpOptions(t,r){const n=JSON.parse(JSON.stringify(t));for(const[s,a]of Object.entries(r))typeof a=="object"?n[s]=Object.assign(Object.assign({},n[s]),a):a!==void 0&&(n[s]=a);return n}async requestStream(t){let r=this.clientOptions.httpOptions;t.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const n=this.shouldPrependVertexProjectPath(t,r),s=this.constructUrl(t.path,r,n);(!s.searchParams.has("alt")||s.searchParams.get("alt")!=="sse")&&s.searchParams.set("alt","sse");let a={};return a.body=t.body,a=await this.includeExtraHttpOptionsToRequestInit(a,r,s.toString(),t.abortSignal),this.streamApiCall(s,a,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,r,n,s){if(r&&r.timeout||s){const a=new AbortController,i=a.signal;if(r.timeout&&(r==null?void 0:r.timeout)>0){const o=setTimeout(()=>a.abort(),r.timeout);o&&typeof o.unref=="function"&&o.unref()}s&&s.addEventListener("abort",()=>{a.abort()}),t.signal=i}return r&&r.extraBody!==null&&JW(t,r.extraBody),t.headers=await this.getHeadersInternal(r,n),t}async unaryApiCall(t,r,n){return this.apiCall(t.toString(),Object.assign(Object.assign({},r),{method:n})).then(async s=>(await u2(s),new am(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}async streamApiCall(t,r,n){return this.apiCall(t.toString(),Object.assign(Object.assign({},r),{method:n})).then(async s=>(await u2(s),this.processStreamResponse(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}processStreamResponse(t){return Cs(this,arguments,function*(){var n;const s=(n=t==null?void 0:t.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!s)throw new Error("Response body is empty");try{let i="";const o="data:",l=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:c,value:u}=yield vt(s.read());if(c){if(i.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=a.decode(u,{stream:!0});try{const v=JSON.parse(h);if("error"in v){const x=JSON.parse(JSON.stringify(v.error)),y=x.status,w=x.code,k=`got status: ${y}. ${JSON.stringify(v)}`;if(w>=400&&w<600)throw new Yc({message:k,status:w})}}catch(v){if(v.name==="ApiError")throw v}i+=h;let p=-1,g=0;for(;;){p=-1,g=0;for(const y of l){const w=i.indexOf(y);w!==-1&&(p===-1||w<p)&&(p=w,g=y.length)}if(p===-1)break;const v=i.substring(0,p);i=i.substring(p+g);const x=v.trim();if(x.startsWith(o)){const y=x.substring(o.length).trim();try{const w=new Response(y,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield vt(new am(w))}catch(w){throw new Error(`exception parsing stream chunk ${y}. ${w}`)}}}}}finally{s.releaseLock()}})}async apiCall(t,r){return fetch(t,r).catch(n=>{throw new Error(`exception ${n} sending request`)})}getDefaultHeaders(){const t={},r=WW+" "+this.clientOptions.userAgentExtra;return t[HW]=r,t[um]=r,t[$W]="application/json",t}async getHeadersInternal(t,r){const n=new Headers;if(t&&t.headers){for(const[s,a]of Object.entries(t.headers))n.append(s,a);t.timeout&&t.timeout>0&&n.append(VW,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n,r),n}getFileName(t){var r;let n="";return typeof t=="string"&&(n=t.replace(/[/\\]+$/,""),n=(r=n.split(/[/\\]/).pop())!==null&&r!==void 0?r:""),n}async uploadFile(t,r){var n;const s={};r!=null&&(s.mimeType=r.mimeType,s.name=r.name,s.displayName=r.displayName),s.name&&!s.name.startsWith("files/")&&(s.name=`files/${s.name}`);const a=this.clientOptions.uploader,i=await a.stat(t);s.sizeBytes=String(i.size);const o=(n=r==null?void 0:r.mimeType)!==null&&n!==void 0?n:i.type;if(o===void 0||o==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");s.mimeType=o;const l={file:s},c=this.getFileName(t),u=Ge("upload/v1beta/files",l._url),h=await this.fetchUploadUrl(u,s.sizeBytes,s.mimeType,c,l,r==null?void 0:r.httpOptions);return a.upload(t,h,this)}async uploadFileToFileSearchStore(t,r,n){var s;const a=this.clientOptions.uploader,i=await a.stat(r),o=String(i.size),l=(s=n==null?void 0:n.mimeType)!==null&&s!==void 0?s:i.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const c=`upload/v1beta/${t}:uploadToFileSearchStore`,u=this.getFileName(r),h={};n!=null&&fC(n,h);const p=await this.fetchUploadUrl(c,o,l,u,h,n==null?void 0:n.httpOptions);return a.uploadToFileSearchStore(r,p,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,r,n,s,a,i){var o;let l={};i?l=i:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r}`,"X-Goog-Upload-Header-Content-Type":`${n}`},s?{"X-Goog-Upload-File-Name":s}:{})};const c=await this.request({path:t,body:JSON.stringify(a),httpMethod:"POST",httpOptions:l});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(o=c==null?void 0:c.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function u2(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const r=e.status;let n;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?n=await e.json():n={error:{message:await e.text(),code:e.status,status:e.statusText}};const s=JSON.stringify(n);throw r>=400&&r<600?new Yc({message:s,status:r}):new Error(s)}}function JW(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let r={};if(typeof e.body=="string"&&e.body.length>0)try{const a=JSON.parse(e.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))r=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function n(a,i){const o=Object.assign({},a);for(const l in i)if(Object.prototype.hasOwnProperty.call(i,l)){const c=i[l],u=o[l];c&&typeof c=="object"&&!Array.isArray(c)&&u&&typeof u=="object"&&!Array.isArray(u)?o[l]=n(u,c):(u&&c&&typeof u!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof u}, New type: ${typeof c}. Overwriting.`),o[l]=c)}return o}const s=n(r,t);e.body=JSON.stringify(s)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const YW="mcp_used/unknown";let XW=!1;function hC(e){for(const t of e)if(QW(t)||typeof t=="object"&&"inputSchema"in t)return!0;return XW}function pC(e){var t;const r=(t=e[um])!==null&&t!==void 0?t:"";e[um]=(r+` ${YW}`).trimStart()}function QW(e){return e!==null&&typeof e=="object"&&e instanceof _1}function ZW(e){return Cs(this,arguments,function*(r,n=100){let s,a=0;for(;a<n;){const i=yield vt(r.listTools({cursor:s}));for(const o of i.tools)yield yield vt(o),a++;if(!i.nextCursor)break;s=i.nextCursor}})}class _1{constructor(t=[],r){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=r}static create(t,r){return new _1(t,r)}async initialize(){var t,r,n,s;if(this.mcpTools.length>0)return;const a={},i=[];for(const u of this.mcpClients)try{for(var o=!0,l=(r=void 0,As(ZW(u))),c;c=await l.next(),t=c.done,!t;o=!0){s=c.value,o=!1;const h=s;i.push(h);const p=h.name;if(a[p])throw new Error(`Duplicate function name ${p} found in MCP tools. Please ensure function names are unique.`);a[p]=u}}catch(h){r={error:h}}finally{try{!o&&!t&&(n=l.return)&&await n.call(l)}finally{if(r)throw r.error}}this.mcpTools=i,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),A$(this.mcpTools,this.config)}async callTool(t){await this.initialize();const r=[];for(const n of t)if(n.name in this.functionNameToMcpClient){const s=this.functionNameToMcpClient[n.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const i=await s.callTool({name:n.name,arguments:n.args},void 0,a);r.push({functionResponse:{name:n.name,response:i.isError?{error:i}:i}})}return r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function ez(e,t,r){const n=new _$;let s;r.data instanceof Blob?s=JSON.parse(await r.data.text()):s=JSON.parse(r.data),Object.assign(n,s),t(n)}class tz{constructor(t,r,n){this.apiClient=t,this.auth=r,this.webSocketFactory=n}async connect(t){var r,n;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const s=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),i=sz(this.apiClient.getDefaultHeaders()),o=this.apiClient.getApiKey(),l=`${s}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${o}`;let c=()=>{};const u=new Promise(_=>{c=_}),h=t.callbacks,p=function(){c({})},g=this.apiClient,v={onopen:p,onmessage:_=>{ez(g,h.onmessage,_)},onerror:(r=h==null?void 0:h.onerror)!==null&&r!==void 0?r:function(_){},onclose:(n=h==null?void 0:h.onclose)!==null&&n!==void 0?n:function(_){}},x=this.webSocketFactory.create(l,nz(i),v);x.connect(),await u;const k={setup:{model:Dt(this.apiClient,t.model)}};return x.send(JSON.stringify(k)),new rz(x,this.apiClient)}}class rz{constructor(t,r){this.conn=t,this.apiClient=r}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const r=CH(t);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const r=TH(t);this.conn.send(JSON.stringify(r))}sendPlaybackControl(t){const r={playbackControl:t};this.conn.send(JSON.stringify(r))}play(){this.sendPlaybackControl(No.PLAY)}pause(){this.sendPlaybackControl(No.PAUSE)}stop(){this.sendPlaybackControl(No.STOP)}resetContext(){this.sendPlaybackControl(No.RESET_CONTEXT)}close(){this.conn.close()}}function nz(e){const t={};return e.forEach((r,n)=>{t[n]=r}),t}function sz(e){const t=new Headers;for(const[r,n]of Object.entries(e))t.append(r,n);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const az="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function iz(e,t,r){const n=new y$;let s;r.data instanceof Blob?s=await r.data.text():r.data instanceof ArrayBuffer?s=new TextDecoder().decode(r.data):s=r.data;const a=JSON.parse(s);if(e.isVertexAI()){const i=IH(a);Object.assign(n,i)}else Object.assign(n,a);t(n)}class oz{constructor(t,r,n){this.apiClient=t,this.auth=r,this.webSocketFactory=n,this.music=new tz(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var r,n,s,a,i,o;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let u;const h=this.apiClient.getHeaders();t.config&&t.config.tools&&hC(t.config.tools)&&pC(h);const p=dz(h);if(this.apiClient.isVertexAI()){const F=this.apiClient.getProject(),z=this.apiClient.getLocation(),Y=this.apiClient.getApiKey(),U=!!F&&!!z||!!Y;this.apiClient.getCustomBaseUrl()&&!U?u=l:(u=`${l}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(p,u))}else{const F=this.apiClient.getApiKey();let z="BidiGenerateContent",Y="key";F!=null&&F.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),z="BidiGenerateContentConstrained",Y="access_token"),u=`${l}/ws/google.ai.generativelanguage.${c}.GenerativeService.${z}?${Y}=${F}`}let g=()=>{};const v=new Promise(F=>{g=F}),x=t.callbacks,y=function(){var F;(F=x==null?void 0:x.onopen)===null||F===void 0||F.call(x),g({})},w=this.apiClient,k={onopen:y,onmessage:F=>{iz(w,x.onmessage,F)},onerror:(r=x==null?void 0:x.onerror)!==null&&r!==void 0?r:function(F){},onclose:(n=x==null?void 0:x.onclose)!==null&&n!==void 0?n:function(F){}},_=this.webSocketFactory.create(u,uz(p),k);_.connect(),await v;let b=Dt(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&b.startsWith("publishers/")){const F=this.apiClient.getProject(),z=this.apiClient.getLocation();F&&z&&(b=`projects/${F}/locations/${z}/`+b)}let T={};this.apiClient.isVertexAI()&&((s=t.config)===null||s===void 0?void 0:s.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[hf.AUDIO]}:t.config.responseModalities=[hf.AUDIO]),!((a=t.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const E=(o=(i=t.config)===null||i===void 0?void 0:i.tools)!==null&&o!==void 0?o:[],S=[];for(const F of E)if(this.isCallableTool(F)){const z=F;S.push(await z.tool())}else S.push(F);S.length>0&&(t.config.tools=S);const M={model:b,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?T=EH(this.apiClient,M):T=SH(this.apiClient,M),delete T.config,_.send(JSON.stringify(T)),new cz(_,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const lz={turnComplete:!0};class cz{constructor(t,r){this.conn=t,this.apiClient=r}tLiveClientContent(t,r){if(r.turns!==null&&r.turns!==void 0){let n=[];try{n=rs(r.turns),t.isVertexAI()||(n=n.map(s=>S0(s)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof r.turns}'`)}return{clientContent:{turns:n,turnComplete:r.turnComplete}}}return{clientContent:{turnComplete:r.turnComplete}}}tLiveClienttToolResponse(t,r){let n=[];if(r.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(r.functionResponses)?n=r.functionResponses:n=[r.functionResponses],n.length===0)throw new Error("functionResponses is required.");for(const a of n){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!t.isVertexAI()&&!("id"in a))throw new Error(az)}return{toolResponse:{functionResponses:n}}}sendClientContent(t){t=Object.assign(Object.assign({},lz),t);const r=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(r))}sendRealtimeInput(t){let r={};this.apiClient.isVertexAI()?r={realtimeInput:NH(t)}:r={realtimeInput:AH(t)},this.conn.send(JSON.stringify(r))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const r=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(r))}close(){this.conn.close()}}function uz(e){const t={};return e.forEach((r,n)=>{t[n]=r}),t}function dz(e){const t=new Headers;for(const[r,n]of Object.entries(e))t.append(r,n);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const d2=10;function f2(e){var t,r,n;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let s=!1;for(const i of(r=e==null?void 0:e.tools)!==null&&r!==void 0?r:[])if(Ho(i)){s=!0;break}if(!s)return!0;const a=(n=e==null?void 0:e.automaticFunctionCalling)===null||n===void 0?void 0:n.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function Ho(e){return"callTool"in e&&typeof e.callTool=="function"}function fz(e){var t,r,n;return(n=(r=(t=e.config)===null||t===void 0?void 0:t.tools)===null||r===void 0?void 0:r.some(s=>Ho(s)))!==null&&n!==void 0?n:!1}function h2(e){var t;const r=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((n,s)=>{if(Ho(n))return;const a=n;a.functionDeclarations&&a.functionDeclarations.length>0&&r.push(s)}),r}function p2(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hz extends ua{constructor(t){super(),this.apiClient=t,this.generateContent=async r=>{var n,s,a,i,o;const l=await this.processParamsMaybeAddMcpUsage(r);if(this.maybeMoveToResponseJsonSchem(r),!fz(r)||f2(r.config))return await this.generateContentInternal(l);const c=h2(r);if(c.length>0){const x=c.map(y=>`tools[${y}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${x}.`)}let u,h;const p=rs(l.contents),g=(a=(s=(n=l.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&a!==void 0?a:d2;let v=0;for(;v<g&&(u=await this.generateContentInternal(l),!(!u.functionCalls||u.functionCalls.length===0));){const x=u.candidates[0].content,y=[];for(const w of(o=(i=r.config)===null||i===void 0?void 0:i.tools)!==null&&o!==void 0?o:[])if(Ho(w)){const _=await w.callTool(u.functionCalls);y.push(..._)}v++,h={role:"user",parts:y},l.contents=rs(l.contents),l.contents.push(x),l.contents.push(h),p2(l.config)&&(p.push(x),p.push(h))}return p2(l.config)&&(u.automaticFunctionCallingHistory=p),u},this.generateContentStream=async r=>{var n,s,a,i,o;if(this.maybeMoveToResponseJsonSchem(r),f2(r.config)){const h=await this.processParamsMaybeAddMcpUsage(r);return await this.generateContentStreamInternal(h)}const l=h2(r);if(l.length>0){const h=l.map(p=>`tools[${p}]`).join(", ");throw new Error(`Incompatible tools found at ${h}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const c=(a=(s=(n=r==null?void 0:r.config)===null||n===void 0?void 0:n.toolConfig)===null||s===void 0?void 0:s.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,u=(o=(i=r==null?void 0:r.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.disable;if(c&&!u)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(r)},this.generateImages=async r=>await this.generateImagesInternal(r).then(n=>{var s;let a;const i=[];if(n!=null&&n.generatedImages)for(const l of n.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((s=l==null?void 0:l.safetyAttributes)===null||s===void 0?void 0:s.contentType)==="Positive Prompt"?a=l==null?void 0:l.safetyAttributes:i.push(l);let o;return a?o={generatedImages:i,positivePromptSafetyAttributes:a,sdkHttpResponse:n.sdkHttpResponse}:o={generatedImages:i,sdkHttpResponse:n.sdkHttpResponse},o}),this.list=async r=>{var n;const i={config:Object.assign(Object.assign({},{queryBase:!0}),r==null?void 0:r.config)};if(this.apiClient.isVertexAI()&&!i.config.queryBase){if(!((n=i.config)===null||n===void 0)&&n.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");i.config.filter="labels.tune-type:*"}return new Ji(sa.PAGED_ITEM_MODELS,o=>this.listInternal(o),await this.listInternal(i),i)},this.editImage=async r=>{const n={model:r.model,prompt:r.prompt,referenceImages:[],config:r.config};return r.referenceImages&&r.referenceImages&&(n.referenceImages=r.referenceImages.map(s=>s.toReferenceImageAPI())),await this.editImageInternal(n)},this.upscaleImage=async r=>{let n={numberOfImages:1,mode:"upscale"};r.config&&(n=Object.assign(Object.assign({},n),r.config));const s={model:r.model,image:r.image,upscaleFactor:r.upscaleFactor,config:n};return await this.upscaleImageInternal(s)},this.generateVideos=async r=>{var n,s,a,i,o,l;if((r.prompt||r.image||r.video)&&r.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((n=r.video)===null||n===void 0)&&n.uri&&(!((s=r.video)===null||s===void 0)&&s.videoBytes)?r.video={uri:r.video.uri,mimeType:r.video.mimeType}:!((i=(a=r.source)===null||a===void 0?void 0:a.video)===null||i===void 0)&&i.uri&&(!((l=(o=r.source)===null||o===void 0?void 0:o.video)===null||l===void 0)&&l.videoBytes)&&(r.source.video={uri:r.source.video.uri,mimeType:r.source.video.mimeType})),await this.generateVideosInternal(r)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var r,n,s;const a=(r=t.config)===null||r===void 0?void 0:r.tools;if(!a)return t;const i=await Promise.all(a.map(async l=>Ho(l)?await l.tool():l)),o={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:i})};if(o.config.tools=i,t.config&&t.config.tools&&hC(t.config.tools)){const l=(s=(n=t.config.httpOptions)===null||n===void 0?void 0:n.headers)!==null&&s!==void 0?s:{};let c=Object.assign({},l);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),pC(c),o.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:c})}return o}async initAfcToolsMap(t){var r,n,s;const a=new Map;for(const i of(n=(r=t.config)===null||r===void 0?void 0:r.tools)!==null&&n!==void 0?n:[])if(Ho(i)){const o=i,l=await o.tool();for(const c of(s=l.functionDeclarations)!==null&&s!==void 0?s:[]){if(!c.name)throw new Error("Function declaration name is required.");if(a.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);a.set(c.name,o)}}return a}async processAfcStream(t){var r,n,s;const a=(s=(n=(r=t.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||n===void 0?void 0:n.maximumRemoteCalls)!==null&&s!==void 0?s:d2;let i=!1,o=0;const l=await this.initAfcToolsMap(t);return function(c,u,h){return Cs(this,arguments,function*(){for(var p,g,v,x,y,w;o<a;){i&&(o++,i=!1);const T=yield vt(c.processParamsMaybeAddMcpUsage(h)),E=yield vt(c.generateContentStreamInternal(T)),S=[],M=[];try{for(var k=!0,_=(g=void 0,As(E)),b;b=yield vt(_.next()),p=b.done,!p;k=!0){x=b.value,k=!1;const F=x;if(yield yield vt(F),F.candidates&&(!((y=F.candidates[0])===null||y===void 0)&&y.content)){M.push(F.candidates[0].content);for(const z of(w=F.candidates[0].content.parts)!==null&&w!==void 0?w:[])if(o<a&&z.functionCall){if(!z.functionCall.name)throw new Error("Function call name was not returned by the model.");if(u.has(z.functionCall.name)){const Y=yield vt(u.get(z.functionCall.name).callTool([z.functionCall]));S.push(...Y)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${u.keys()}, mising tool: ${z.functionCall.name}`)}}}}catch(F){g={error:F}}finally{try{!k&&!p&&(v=_.return)&&(yield vt(v.call(_)))}finally{if(g)throw g.error}}if(S.length>0){i=!0;const F=new Nl;F.candidates=[{content:{role:"user",parts:S}}],yield yield vt(F);const z=[];z.push(...M),z.push({role:"user",parts:S});const Y=rs(h.contents).concat(z);h.contents=Y}else break}})}(this,l,t)}async generateContentInternal(t){var r,n,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=o2(this.apiClient,t);return o=Ge("{model}:generateContent",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:u.headers},p})),i.then(u=>{const h=c2(u),p=new Nl;return Object.assign(p,h),p})}else{const c=i2(this.apiClient,t);return o=Ge("{model}:generateContent",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:u.headers},p})),i.then(u=>{const h=l2(u),p=new Nl;return Object.assign(p,h),p})}}async generateContentStreamInternal(t){var r,n,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=o2(this.apiClient,t);return o=Ge("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.requestStream({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}),i.then(function(h){return Cs(this,arguments,function*(){var p,g,v,x;try{for(var y=!0,w=As(h),k;k=yield vt(w.next()),p=k.done,!p;y=!0){x=k.value,y=!1;const _=x,b=c2(yield vt(_.json()),t);b.sdkHttpResponse={headers:_.headers};const T=new Nl;Object.assign(T,b),yield yield vt(T)}}catch(_){g={error:_}}finally{try{!y&&!p&&(v=w.return)&&(yield vt(v.call(w)))}finally{if(g)throw g.error}}})})}else{const c=i2(this.apiClient,t);return o=Ge("{model}:streamGenerateContent?alt=sse",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.requestStream({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),i.then(function(h){return Cs(this,arguments,function*(){var p,g,v,x;try{for(var y=!0,w=As(h),k;k=yield vt(w.next()),p=k.done,!p;y=!0){x=k.value,y=!1;const _=x,b=l2(yield vt(_.json()),t);b.sdkHttpResponse={headers:_.headers};const T=new Nl;Object.assign(T,b),yield yield vt(T)}}catch(_){g={error:_}}finally{try{!y&&!p&&(v=w.return)&&(yield vt(v.call(w)))}finally{if(g)throw g.error}}})})}}async embedContent(t){var r,n,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=oG(this.apiClient,t);return o=Ge("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:u.headers},p})),i.then(u=>{const h=cG(u),p=new Hw;return Object.assign(p,h),p})}else{const c=iG(this.apiClient,t);return o=Ge("{model}:batchEmbedContents",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:u.headers},p})),i.then(u=>{const h=lG(u),p=new Hw;return Object.assign(p,h),p})}}async generateImagesInternal(t){var r,n,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=_G(this.apiClient,t);return o=Ge("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:u.headers},p})),i.then(u=>{const h=kG(u),p=new Gw;return Object.assign(p,h),p})}else{const c=yG(this.apiClient,t);return o=Ge("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:u.headers},p})),i.then(u=>{const h=wG(u),p=new Gw;return Object.assign(p,h),p})}}async editImageInternal(t){var r,n;let s,a="",i={};if(this.apiClient.isVertexAI()){const o=rG(this.apiClient,t);return a=Ge("{model}:predict",o._url),i=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:a,queryParams:i,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),s.then(l=>{const c=nG(l),u=new o$;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var r,n;let s,a="",i={};if(this.apiClient.isVertexAI()){const o=_W(this.apiClient,t);return a=Ge("{model}:predict",o._url),i=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:a,queryParams:i,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),s.then(l=>{const c=wW(l),u=new l$;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var r,n;let s,a="",i={};if(this.apiClient.isVertexAI()){const o=tW(this.apiClient,t);return a=Ge("{model}:predict",o._url),i=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:a,queryParams:i,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),s.then(l=>{const c=rW(l),u=new c$;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var r,n;let s,a="",i={};if(this.apiClient.isVertexAI()){const o=lW(this.apiClient,t);return a=Ge("{model}:predict",o._url),i=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:a,queryParams:i,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),s.then(l=>{const c=cW(l),u=new u$;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var r,n,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=BG(this.apiClient,t);return o=Ge("{name}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),i.then(u=>cm(u))}else{const c=UG(this.apiClient,t);return o=Ge("{name}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),i.then(u=>lm(u))}}async listInternal(t){var r,n,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=KG(this.apiClient,t);return o=Ge("{models_url}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:u.headers},p})),i.then(u=>{const h=YG(u),p=new Ww;return Object.assign(p,h),p})}else{const c=qG(this.apiClient,t);return o=Ge("{models_url}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:u.headers},p})),i.then(u=>{const h=JG(u),p=new Ww;return Object.assign(p,h),p})}}async update(t){var r,n,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=vW(this.apiClient,t);return o=Ge("{model}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),i.then(u=>cm(u))}else{const c=xW(this.apiClient,t);return o=Ge("{name}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),i.then(u=>lm(u))}}async delete(t){var r,n,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=QH(this.apiClient,t);return o=Ge("{name}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:u.headers},p})),i.then(u=>{const h=eG(u),p=new zw;return Object.assign(p,h),p})}else{const c=XH(this.apiClient,t);return o=Ge("{name}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:u.headers},p})),i.then(u=>{const h=ZH(u),p=new zw;return Object.assign(p,h),p})}}async countTokens(t){var r,n,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=KH(this.apiClient,t);return o=Ge("{model}:countTokens",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:u.headers},p})),i.then(u=>{const h=YH(u),p=new qw;return Object.assign(p,h),p})}else{const c=qH(this.apiClient,t);return o=Ge("{model}:countTokens",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:u.headers},p})),i.then(u=>{const h=JH(u),p=new qw;return Object.assign(p,h),p})}}async computeTokens(t){var r,n;let s,a="",i={};if(this.apiClient.isVertexAI()){const o=jH(this.apiClient,t);return a=Ge("{model}:computeTokens",o._url),i=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:a,queryParams:i,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),s.then(l=>{const c=$H(l),u=new d$;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var r,n,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=AG(this.apiClient,t);return o=Ge("{model}:predictLongRunning",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),i.then(u=>{const h=TG(u),p=new pf;return Object.assign(p,h),p})}else{const c=CG(this.apiClient,t);return o=Ge("{model}:predictLongRunning",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),i.then(u=>{const h=EG(u),p=new pf;return Object.assign(p,h),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pz extends ua{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const r=t.operation,n=t.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=r.name.split("/operations/")[0];let a;n&&"httpOptions"in n&&(a=n.httpOptions);const i=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:s,config:{httpOptions:a}});return r._fromAPIResponse({apiResponse:i,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:r.name,config:n});return r._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async get(t){const r=t.operation,n=t.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=r.name.split("/operations/")[0];let a;n&&"httpOptions"in n&&(a=n.httpOptions);const i=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:s,config:{httpOptions:a}});return r._fromAPIResponse({apiResponse:i,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:r.name,config:n});return r._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async getVideosOperationInternal(t){var r,n,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=t$(t);return o=Ge("{operationName}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),i}else{const c=e$(t);return o=Ge("{operationName}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json()),i}}async fetchPredictVideosOperationInternal(t){var r,n;let s,a="",i={};if(this.apiClient.isVertexAI()){const o=qj(t);return a=Ge("{resourceName}:fetchPredictOperation",o._url),i=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:a,queryParams:i,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),s}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mz(e){const t={},r=f(e,["data"]);if(r!=null&&m(t,["data"],r),f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(e,["mimeType"]);return n!=null&&m(t,["mimeType"],n),t}function gz(e){const t={},r=f(e,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>Ez(a))),m(t,["parts"],s)}const n=f(e,["role"]);return n!=null&&m(t,["role"],n),t}function xz(e,t,r){const n={},s=f(t,["expireTime"]);r!==void 0&&s!=null&&m(r,["expireTime"],s);const a=f(t,["newSessionExpireTime"]);r!==void 0&&a!=null&&m(r,["newSessionExpireTime"],a);const i=f(t,["uses"]);r!==void 0&&i!=null&&m(r,["uses"],i);const o=f(t,["liveConnectConstraints"]);r!==void 0&&o!=null&&m(r,["bidiGenerateContentSetup"],Sz(e,o));const l=f(t,["lockAdditionalFields"]);return r!==void 0&&l!=null&&m(r,["fieldMask"],l),n}function vz(e,t){const r={},n=f(t,["config"]);return n!=null&&m(r,["config"],xz(e,n,r)),r}function yz(e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(e,["fileUri"]);r!=null&&m(t,["fileUri"],r);const n=f(e,["mimeType"]);return n!=null&&m(t,["mimeType"],n),t}function _z(e){const t={},r=f(e,["id"]);r!=null&&m(t,["id"],r);const n=f(e,["args"]);n!=null&&m(t,["args"],n);const s=f(e,["name"]);if(s!=null&&m(t,["name"],s),f(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function wz(e){const t={};if(f(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=f(e,["enableWidget"]);return r!=null&&m(t,["enableWidget"],r),t}function kz(e){const t={};if(f(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=f(e,["timeRangeFilter"]);return r!=null&&m(t,["timeRangeFilter"],r),t}function bz(e,t){const r={},n=f(e,["generationConfig"]);t!==void 0&&n!=null&&m(t,["setup","generationConfig"],n);const s=f(e,["responseModalities"]);t!==void 0&&s!=null&&m(t,["setup","generationConfig","responseModalities"],s);const a=f(e,["temperature"]);t!==void 0&&a!=null&&m(t,["setup","generationConfig","temperature"],a);const i=f(e,["topP"]);t!==void 0&&i!=null&&m(t,["setup","generationConfig","topP"],i);const o=f(e,["topK"]);t!==void 0&&o!=null&&m(t,["setup","generationConfig","topK"],o);const l=f(e,["maxOutputTokens"]);t!==void 0&&l!=null&&m(t,["setup","generationConfig","maxOutputTokens"],l);const c=f(e,["mediaResolution"]);t!==void 0&&c!=null&&m(t,["setup","generationConfig","mediaResolution"],c);const u=f(e,["seed"]);t!==void 0&&u!=null&&m(t,["setup","generationConfig","seed"],u);const h=f(e,["speechConfig"]);t!==void 0&&h!=null&&m(t,["setup","generationConfig","speechConfig"],y1(h));const p=f(e,["thinkingConfig"]);t!==void 0&&p!=null&&m(t,["setup","generationConfig","thinkingConfig"],p);const g=f(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&m(t,["setup","generationConfig","enableAffectiveDialog"],g);const v=f(e,["systemInstruction"]);t!==void 0&&v!=null&&m(t,["setup","systemInstruction"],gz(nn(v)));const x=f(e,["tools"]);if(t!==void 0&&x!=null){let E=fl(x);Array.isArray(E)&&(E=E.map(S=>Cz(dl(S)))),m(t,["setup","tools"],E)}const y=f(e,["sessionResumption"]);t!==void 0&&y!=null&&m(t,["setup","sessionResumption"],Tz(y));const w=f(e,["inputAudioTranscription"]);t!==void 0&&w!=null&&m(t,["setup","inputAudioTranscription"],w);const k=f(e,["outputAudioTranscription"]);t!==void 0&&k!=null&&m(t,["setup","outputAudioTranscription"],k);const _=f(e,["realtimeInputConfig"]);t!==void 0&&_!=null&&m(t,["setup","realtimeInputConfig"],_);const b=f(e,["contextWindowCompression"]);t!==void 0&&b!=null&&m(t,["setup","contextWindowCompression"],b);const T=f(e,["proactivity"]);if(t!==void 0&&T!=null&&m(t,["setup","proactivity"],T),f(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return r}function Sz(e,t){const r={},n=f(t,["model"]);n!=null&&m(r,["setup","model"],Dt(e,n));const s=f(t,["config"]);return s!=null&&m(r,["config"],bz(s,r)),r}function Ez(e){const t={},r=f(e,["mediaResolution"]);r!=null&&m(t,["mediaResolution"],r);const n=f(e,["codeExecutionResult"]);n!=null&&m(t,["codeExecutionResult"],n);const s=f(e,["executableCode"]);s!=null&&m(t,["executableCode"],s);const a=f(e,["fileData"]);a!=null&&m(t,["fileData"],yz(a));const i=f(e,["functionCall"]);i!=null&&m(t,["functionCall"],_z(i));const o=f(e,["functionResponse"]);o!=null&&m(t,["functionResponse"],o);const l=f(e,["inlineData"]);l!=null&&m(t,["inlineData"],mz(l));const c=f(e,["text"]);c!=null&&m(t,["text"],c);const u=f(e,["thought"]);u!=null&&m(t,["thought"],u);const h=f(e,["thoughtSignature"]);h!=null&&m(t,["thoughtSignature"],h);const p=f(e,["videoMetadata"]);return p!=null&&m(t,["videoMetadata"],p),t}function Tz(e){const t={},r=f(e,["handle"]);if(r!=null&&m(t,["handle"],r),f(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Cz(e){const t={};if(f(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(e,["computerUse"]);r!=null&&m(t,["computerUse"],r);const n=f(e,["fileSearch"]);n!=null&&m(t,["fileSearch"],n);const s=f(e,["codeExecution"]);if(s!=null&&m(t,["codeExecution"],s),f(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=f(e,["functionDeclarations"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(h=>h)),m(t,["functionDeclarations"],u)}const i=f(e,["googleMaps"]);i!=null&&m(t,["googleMaps"],wz(i));const o=f(e,["googleSearch"]);o!=null&&m(t,["googleSearch"],kz(o));const l=f(e,["googleSearchRetrieval"]);l!=null&&m(t,["googleSearchRetrieval"],l);const c=f(e,["urlContext"]);return c!=null&&m(t,["urlContext"],c),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Az(e){const t=[];for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const n=e[r];if(typeof n=="object"&&n!=null&&Object.keys(n).length>0){const s=Object.keys(n).map(a=>`${r}.${a}`);t.push(...s)}else t.push(r)}return t.join(",")}function Nz(e,t){let r=null;const n=e.bidiGenerateContentSetup;if(typeof n=="object"&&n!==null&&"setup"in n){const a=n.setup;typeof a=="object"&&a!==null?(e.bidiGenerateContentSetup=a,r=a):delete e.bidiGenerateContentSetup}else n!==void 0&&delete e.bidiGenerateContentSetup;const s=e.fieldMask;if(r){const a=Az(r);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)a?e.fieldMask=a:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&s!==null&&Array.isArray(s)&&s.length>0){const i=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let o=[];s.length>0&&(o=s.map(c=>i.includes(c)?`generationConfig.${c}`:c));const l=[];a&&l.push(a),o.length>0&&l.push(...o),l.length>0?e.fieldMask=l.join(","):delete e.fieldMask}else delete e.fieldMask}else s!==null&&Array.isArray(s)&&s.length>0?e.fieldMask=s.join(","):delete e.fieldMask;return e}class Iz extends ua{constructor(t){super(),this.apiClient=t}async create(t){var r,n;let s,a="",i={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const o=vz(this.apiClient,t);a=Ge("auth_tokens",o._url),i=o._query,delete o.config,delete o._url,delete o._query;const l=Nz(o,t.config);return s=this.apiClient.request({path:a,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),s.then(c=>c)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rz(e,t){const r={},n=f(e,["force"]);return t!==void 0&&n!=null&&m(t,["_query","force"],n),r}function Pz(e){const t={},r=f(e,["name"]);r!=null&&m(t,["_url","name"],r);const n=f(e,["config"]);return n!=null&&Rz(n,t),t}function Fz(e){const t={},r=f(e,["name"]);return r!=null&&m(t,["_url","name"],r),t}function Mz(e,t){const r={},n=f(e,["pageSize"]);t!==void 0&&n!=null&&m(t,["_query","pageSize"],n);const s=f(e,["pageToken"]);return t!==void 0&&s!=null&&m(t,["_query","pageToken"],s),r}function Dz(e){const t={},r=f(e,["parent"]);r!=null&&m(t,["_url","parent"],r);const n=f(e,["config"]);return n!=null&&Mz(n,t),t}function Lz(e){const t={},r=f(e,["sdkHttpResponse"]);r!=null&&m(t,["sdkHttpResponse"],r);const n=f(e,["nextPageToken"]);n!=null&&m(t,["nextPageToken"],n);const s=f(e,["documents"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(i=>i)),m(t,["documents"],a)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Oz=class extends ua{constructor(t){super(),this.apiClient=t,this.list=async r=>new Ji(sa.PAGED_ITEM_DOCUMENTS,n=>this.listInternal({parent:r.parent,config:n.config}),await this.listInternal(r),r)}async get(t){var r,n;let s,a="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Fz(t);return a=Ge("{name}",o._url),i=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:a,queryParams:i,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),s.then(l=>l)}}async delete(t){var r,n;let s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const i=Pz(t);s=Ge("{name}",i._url),a=i._query,delete i._url,delete i._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(i),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal})}}async listInternal(t){var r,n;let s,a="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Dz(t);return a=Ge("{parent}/documents",o._url),i=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:a,queryParams:i,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),s.then(l=>{const c=Lz(l),u=new f$;return Object.assign(u,c),u})}}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Uz extends ua{constructor(t,r=new Oz(t)){super(),this.apiClient=t,this.documents=r,this.list=async(n={})=>new Ji(sa.PAGED_ITEM_FILE_SEARCH_STORES,s=>this.listInternal(s),await this.listInternal(n),n)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var r,n;let s,a="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=AW(t);return a=Ge("fileSearchStores",o._url),i=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:a,queryParams:i,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),s.then(l=>l)}}async get(t){var r,n;let s,a="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=RW(t);return a=Ge("{name}",o._url),i=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:a,queryParams:i,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),s.then(l=>l)}}async delete(t){var r,n;let s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const i=IW(t);s=Ge("{name}",i._url),a=i._query,delete i._url,delete i._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(i),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal})}}async listInternal(t){var r,n;let s,a="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=OW(t);return a=Ge("fileSearchStores",o._url),i=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:a,queryParams:i,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),s.then(l=>{const c=UW(l),u=new h$;return Object.assign(u,c),u})}}async uploadToFileSearchStoreInternal(t){var r,n;let s,a="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=BW(t);return a=Ge("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",o._url),i=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:a,queryParams:i,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),s.then(l=>{const c=jW(l),u=new p$;return Object.assign(u,c),u})}}async importFile(t){var r,n;let s,a="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=MW(t);return a=Ge("{file_search_store_name}:importFile",o._url),i=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:a,queryParams:i,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json()),s.then(l=>{const c=FW(l),u=new p1;return Object.assign(u,c),u})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let mC=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return mC=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),r=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,n=>(+n^r()&15>>+n/4).toString(16))};const Bz=()=>mC();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dm(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const fm=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class is extends Error{}class gn extends is{constructor(t,r,n,s){super(`${gn.makeMessage(t,r,n)}`),this.status=t,this.headers=s,this.error=r}static makeMessage(t,r,n){const s=r!=null&&r.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):n;return t&&s?`${t} ${s}`:t?`${t} status code (no body)`:s||"(no status code or body)"}static generate(t,r,n,s){if(!t||!s)return new C0({message:n,cause:fm(r)});const a=r;return t===400?new xC(t,a,n,s):t===401?new vC(t,a,n,s):t===403?new yC(t,a,n,s):t===404?new _C(t,a,n,s):t===409?new wC(t,a,n,s):t===422?new kC(t,a,n,s):t===429?new bC(t,a,n,s):t>=500?new SC(t,a,n,s):new gn(t,a,n,s)}}class hm extends gn{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class C0 extends gn{constructor({message:t,cause:r}){super(void 0,void 0,t||"Connection error.",void 0),r&&(this.cause=r)}}class gC extends C0{constructor({message:t}={}){super({message:t??"Request timed out."})}}class xC extends gn{}class vC extends gn{}class yC extends gn{}class _C extends gn{}class wC extends gn{}class kC extends gn{}class bC extends gn{}class SC extends gn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jz=/^[a-z][a-z0-9+.-]*:/i,$z=e=>jz.test(e);let pm=e=>(pm=Array.isArray,pm(e));const Vz=pm;let Hz=Vz;const m2=Hz;function Gz(e){if(!e)return!0;for(const t in e)return!1;return!0}function Wz(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const zz=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new is(`${e} must be an integer`);if(t<0)throw new is(`${e} must be a positive integer`);return t},qz=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Kz=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const po="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jz(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Yz=()=>{var e,t,r,n,s;const a=Jz();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":po,"X-Stainless-OS":x2(Deno.build.os),"X-Stainless-Arch":g2(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":po,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":po,"X-Stainless-OS":x2((r=globalThis.process.platform)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Arch":g2((n=globalThis.process.arch)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(s=globalThis.process.version)!==null&&s!==void 0?s:"unknown"};const i=Xz();return i?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":po,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${i.browser}`,"X-Stainless-Runtime-Version":i.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":po,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Xz(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:r}of e){const n=r.exec(navigator.userAgent);if(n){const s=n[1]||0,a=n[2]||0,i=n[3]||0;return{browser:t,version:`${s}.${a}.${i}`}}}return null}const g2=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",x2=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let rd;const Qz=()=>rd??(rd=Yz());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zz(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function EC(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function eq(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return EC({start(){},async pull(r){const{done:n,value:s}=await t.next();n?r.close():r.enqueue(s)},async cancel(){var r;await((r=t.return)===null||r===void 0?void 0:r.call(t))}})}function TC(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const r=await t.read();return r!=null&&r.done&&t.releaseLock(),r}catch(r){throw t.releaseLock(),r}},async return(){const r=t.cancel();return t.releaseLock(),await r,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function tq(e){var t,r;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((r=(t=e[Symbol.asyncIterator]()).return)===null||r===void 0?void 0:r.call(t));return}const n=e.getReader(),s=n.cancel();n.releaseLock(),await s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rq=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CC=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,r=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(r?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Rh(e,t,r){return CC(),new File(e,t??"unknown_file",r)}function nq(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const sq=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const AC=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",aq=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&AC(e),iq=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function oq(e,t,r){if(CC(),e=await e,aq(e))return e instanceof File?e:Rh([await e.arrayBuffer()],e.name);if(iq(e)){const s=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),Rh(await mm(s),t,r)}const n=await mm(e);if(t||(t=nq(e)),!(r!=null&&r.type)){const s=n.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof s=="string"&&(r=Object.assign(Object.assign({},r),{type:s}))}return Rh(n,t,r)}async function mm(e){var t,r,n,s,a;let i=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)i.push(e);else if(AC(e))i.push(e instanceof Blob?e:await e.arrayBuffer());else if(sq(e))try{for(var o=!0,l=As(e),c;c=await l.next(),t=c.done,!t;o=!0){s=c.value,o=!1;const u=s;i.push(...await mm(u))}}catch(u){r={error:u}}finally{try{!o&&!t&&(n=l.return)&&await n.call(l)}finally{if(r)throw r.error}}else{const u=(a=e==null?void 0:e.constructor)===null||a===void 0?void 0:a.name;throw new Error(`Unexpected data type: ${typeof e}${u?`; constructor: ${u}`:""}${lq(e)}`)}return i}function lq(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(r=>`"${r}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NC{constructor(t){this._client=t}}NC._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IC(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const v2=Object.freeze(Object.create(null)),cq=(e=IC)=>function(r,...n){if(r.length===1)return r[0];let s=!1;const a=[],i=r.reduce((u,h,p)=>{var g,v,x;/[?#]/.test(h)&&(s=!0);const y=n[p];let w=(s?encodeURIComponent:e)(""+y);return p!==n.length&&(y==null||typeof y=="object"&&y.toString===((x=Object.getPrototypeOf((v=Object.getPrototypeOf((g=y.hasOwnProperty)!==null&&g!==void 0?g:v2))!==null&&v!==void 0?v:v2))===null||x===void 0?void 0:x.toString))&&(w=y+"",a.push({start:u.length+h.length,length:w.length,error:`Value of type ${Object.prototype.toString.call(y).slice(8,-1)} is not a valid path parameter`})),u+h+(p===n.length?"":w)},""),o=i.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let c;for(;(c=l.exec(o))!==null;)a.push({start:c.index,length:c[0].length,error:`Value "${c[0]}" can't be safely passed as a path parameter`});if(a.sort((u,h)=>u.start-h.start),a.length>0){let u=0;const h=a.reduce((p,g)=>{const v=" ".repeat(g.start-u),x="^".repeat(g.length);return u=g.start+g.length,p+v+x},"");throw new is(`Path parameters result in path with invalid segments:
${a.map(p=>p.error).join(`
`)}
${i}
${h}`)}return i},nd=cq(IC);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RC extends NC{create(t,r){var n;const{api_version:s=this._client.apiVersion}=t,a=gf(t,["api_version"]);if("model"in a&&"agent_config"in a)throw new is("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in a&&"generation_config"in a)throw new is("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(nd`/${s}/interactions`,Object.assign(Object.assign({body:a},r),{stream:(n=t.stream)!==null&&n!==void 0?n:!1}))}delete(t,r={},n){const{api_version:s=this._client.apiVersion}=r??{};return this._client.delete(nd`/${s}/interactions/${t}`,n)}cancel(t,r={},n){const{api_version:s=this._client.apiVersion}=r??{};return this._client.post(nd`/${s}/interactions/${t}/cancel`,n)}get(t,r={},n){var s;const a=r??{},{api_version:i=this._client.apiVersion}=a,o=gf(a,["api_version"]);return this._client.get(nd`/${i}/interactions/${t}`,Object.assign(Object.assign({query:o},n),{stream:(s=r==null?void 0:r.stream)!==null&&s!==void 0?s:!1}))}}RC._key=Object.freeze(["interactions"]);class PC extends RC{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uq(e){let t=0;for(const s of e)t+=s.length;const r=new Uint8Array(t);let n=0;for(const s of e)r.set(s,n),n+=s.length;return r}let sd;function w1(e){let t;return(sd??(t=new globalThis.TextEncoder,sd=t.encode.bind(t)))(e)}let ad;function y2(e){let t;return(ad??(t=new globalThis.TextDecoder,ad=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class A0{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const r=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?w1(t):t;this.buffer=uq([this.buffer,r]);const n=[];let s;for(;(s=dq(this.buffer,this.carriageReturnIndex))!=null;){if(s.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=s.index;continue}if(this.carriageReturnIndex!=null&&(s.index!==this.carriageReturnIndex+1||s.carriage)){n.push(y2(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const a=this.carriageReturnIndex!==null?s.preceding-1:s.preceding,i=y2(this.buffer.subarray(0,a));n.push(i),this.buffer=this.buffer.subarray(s.index),this.carriageReturnIndex=null}return n}flush(){return this.buffer.length?this.decode(`
`):[]}}A0.NEWLINE_CHARS=new Set([`
`,"\r"]);A0.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function dq(e,t){for(let s=t??0;s<e.length;s++){if(e[s]===10)return{preceding:s,index:s+1,carriage:!1};if(e[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function fq(e){for(let n=0;n<e.length-1;n++){if(e[n]===10&&e[n+1]===10||e[n]===13&&e[n+1]===13)return n+2;if(e[n]===13&&e[n+1]===10&&n+3<e.length&&e[n+2]===13&&e[n+3]===10)return n+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xf={off:0,error:200,warn:300,info:400,debug:500},_2=(e,t,r)=>{if(e){if(Wz(xf,e))return e;cn(r).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(xf))}`)}};function Bl(){}function id(e,t,r){return!t||xf[e]>xf[r]?Bl:t[e].bind(t)}const hq={error:Bl,warn:Bl,info:Bl,debug:Bl};let w2=new WeakMap;function cn(e){var t;const r=e.logger,n=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!r)return hq;const s=w2.get(r);if(s&&s[0]===n)return s[1];const a={error:id("error",r,n),warn:id("warn",r,n),info:id("info",r,n),debug:id("debug",r,n)};return w2.set(r,[n,a]),a}const ui=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,r])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":r]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Io{constructor(t,r,n){this.iterator=t,this.controller=r,this.client=n}static fromSSEResponse(t,r,n){let s=!1;const a=n?cn(n):console;function i(){return Cs(this,arguments,function*(){var l,c,u,h;if(s)throw new is("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let p=!1;try{try{for(var g=!0,v=As(pq(t,r)),x;x=yield vt(v.next()),l=x.done,!l;g=!0){h=x.value,g=!1;const y=h;if(!p)if(y.data.startsWith("[DONE]")){p=!0;continue}else try{yield yield vt(JSON.parse(y.data))}catch(w){throw a.error("Could not parse message into JSON:",y.data),a.error("From chunk:",y.raw),w}}}catch(y){c={error:y}}finally{try{!g&&!l&&(u=v.return)&&(yield vt(u.call(v)))}finally{if(c)throw c.error}}p=!0}catch(y){if(dm(y))return yield vt(void 0);throw y}finally{p||r.abort()}})}return new Io(i,r,n)}static fromReadableStream(t,r,n){let s=!1;function a(){return Cs(this,arguments,function*(){var l,c,u,h;const p=new A0,g=TC(t);try{for(var v=!0,x=As(g),y;y=yield vt(x.next()),l=y.done,!l;v=!0){h=y.value,v=!1;const w=h;for(const k of p.decode(w))yield yield vt(k)}}catch(w){c={error:w}}finally{try{!v&&!l&&(u=x.return)&&(yield vt(u.call(x)))}finally{if(c)throw c.error}}for(const w of p.flush())yield yield vt(w)})}function i(){return Cs(this,arguments,function*(){var l,c,u,h;if(s)throw new is("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let p=!1;try{try{for(var g=!0,v=As(a()),x;x=yield vt(v.next()),l=x.done,!l;g=!0){h=x.value,g=!1;const y=h;p||y&&(yield yield vt(JSON.parse(y)))}}catch(y){c={error:y}}finally{try{!g&&!l&&(u=v.return)&&(yield vt(u.call(v)))}finally{if(c)throw c.error}}p=!0}catch(y){if(dm(y))return yield vt(void 0);throw y}finally{p||r.abort()}})}return new Io(i,r,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],r=[],n=this.iterator(),s=a=>({next:()=>{if(a.length===0){const i=n.next();t.push(i),r.push(i)}return a.shift()}});return[new Io(()=>s(t),this.controller,this.client),new Io(()=>s(r),this.controller,this.client)]}toReadableStream(){const t=this;let r;return EC({async start(){r=t[Symbol.asyncIterator]()},async pull(n){try{const{value:s,done:a}=await r.next();if(a)return n.close();const i=w1(JSON.stringify(s)+`
`);n.enqueue(i)}catch(s){n.error(s)}},async cancel(){var n;await((n=r.return)===null||n===void 0?void 0:n.call(r))}})}}function pq(e,t){return Cs(this,arguments,function*(){var n,s,a,i;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new is("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new is("Attempted to iterate over a response with no body");const o=new gq,l=new A0,c=TC(e.body);try{for(var u=!0,h=As(mq(c)),p;p=yield vt(h.next()),n=p.done,!n;u=!0){i=p.value,u=!1;const g=i;for(const v of l.decode(g)){const x=o.decode(v);x&&(yield yield vt(x))}}}catch(g){s={error:g}}finally{try{!u&&!n&&(a=h.return)&&(yield vt(a.call(h)))}finally{if(s)throw s.error}}for(const g of l.flush()){const v=o.decode(g);v&&(yield yield vt(v))}})}function mq(e){return Cs(this,arguments,function*(){var r,n,s,a;let i=new Uint8Array;try{for(var o=!0,l=As(e),c;c=yield vt(l.next()),r=c.done,!r;o=!0){a=c.value,o=!1;const u=a;if(u==null)continue;const h=u instanceof ArrayBuffer?new Uint8Array(u):typeof u=="string"?w1(u):u;let p=new Uint8Array(i.length+h.length);p.set(i),p.set(h,i.length),i=p;let g;for(;(g=fq(i))!==-1;)yield yield vt(i.slice(0,g)),i=i.slice(g)}}catch(u){n={error:u}}finally{try{!o&&!r&&(s=l.return)&&(yield vt(s.call(l)))}finally{if(n)throw n.error}}i.length>0&&(yield yield vt(i))})}class gq{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(t),t.startsWith(":"))return null;let[r,n,s]=xq(t,":");return s.startsWith(" ")&&(s=s.substring(1)),r==="event"?this.event=s:r==="data"&&this.data.push(s),null}}function xq(e,t){const r=e.indexOf(t);return r!==-1?[e.substring(0,r),t,e.substring(r+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function vq(e,t){const{response:r,requestLogID:n,retryOfRequestLogID:s,startTime:a}=t,i=await(async()=>{var o;if(t.options.stream)return cn(e).debug("response",r.status,r.url,r.headers,r.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(r,t.controller,e):Io.fromSSEResponse(r,t.controller,e);if(r.status===204)return null;if(t.options.__binaryResponse)return r;const l=r.headers.get("content-type"),c=(o=l==null?void 0:l.split(";")[0])===null||o===void 0?void 0:o.trim();return(c==null?void 0:c.includes("application/json"))||(c==null?void 0:c.endsWith("+json"))?r.headers.get("content-length")==="0"?void 0:await r.json():await r.text()})();return cn(e).debug(`[${n}] response parsed`,ui({retryOfRequestLogID:s,url:r.url,status:r.status,body:i,durationMs:Date.now()-a})),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class k1 extends Promise{constructor(t,r,n=vq){super(s=>{s(null)}),this.responsePromise=r,this.parseResponse=n,this.client=t}_thenUnwrap(t){return new k1(this.client,this.responsePromise,async(r,n)=>t(await this.parseResponse(r,n),n))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,r]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:r}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,r){return this.parse().then(t,r)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const FC=Symbol("brand.privateNullableHeaders");function*yq(e){if(!e)return;if(FC in e){const{values:n,nulls:s}=e;yield*n.entries();for(const a of s)yield[a,null];return}let t=!1,r;e instanceof Headers?r=e.entries():m2(e)?r=e:(t=!0,r=Object.entries(e??{}));for(let n of r){const s=n[0];if(typeof s!="string")throw new TypeError("expected header name to be a string");const a=m2(n[1])?n[1]:[n[1]];let i=!1;for(const o of a)o!==void 0&&(t&&!i&&(i=!0,yield[s,null]),yield[s,o])}}const Il=e=>{const t=new Headers,r=new Set;for(const n of e){const s=new Set;for(const[a,i]of yq(n)){const o=a.toLowerCase();s.has(o)||(t.delete(a),s.add(o)),i===null?(t.delete(a),r.add(o)):(t.append(a,i),r.delete(o))}}return{[FC]:!0,values:t,nulls:r}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ph=e=>{var t,r,n,s,a,i;if(typeof globalThis.process<"u")return(n=(r=(t=$j)===null||t===void 0?void 0:t[e])===null||r===void 0?void 0:r.trim())!==null&&n!==void 0?n:void 0;if(typeof globalThis.Deno<"u")return(i=(a=(s=globalThis.Deno.env)===null||s===void 0?void 0:s.get)===null||a===void 0?void 0:a.call(s,e))===null||i===void 0?void 0:i.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var MC;class N0{constructor(t){var r,n,s,a,i,o,l,{baseURL:c=Ph("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:u=(r=Ph("GEMINI_API_KEY"))!==null&&r!==void 0?r:null,apiVersion:h="v1beta"}=t,p=gf(t,["baseURL","apiKey","apiVersion"]);const g=Object.assign(Object.assign({apiKey:u,apiVersion:h},p),{baseURL:c||"https://generativelanguage.googleapis.com"});this.baseURL=g.baseURL,this.timeout=(n=g.timeout)!==null&&n!==void 0?n:N0.DEFAULT_TIMEOUT,this.logger=(s=g.logger)!==null&&s!==void 0?s:console;const v="warn";this.logLevel=v,this.logLevel=(i=(a=_2(g.logLevel,"ClientOptions.logLevel",this))!==null&&a!==void 0?a:_2(Ph("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&i!==void 0?i:v,this.fetchOptions=g.fetchOptions,this.maxRetries=(o=g.maxRetries)!==null&&o!==void 0?o:2,this.fetch=(l=g.fetch)!==null&&l!==void 0?l:Zz(),this.encoder=rq,this._options=g,this.apiKey=u,this.apiVersion=h,this.clientAdapter=g.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:r}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!r.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const r=Il([t.headers]);if(!(r.values.has("authorization")||r.values.has("x-goog-api-key"))){if(this.apiKey)return Il([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Il([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([r,n])=>typeof n<"u").map(([r,n])=>{if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")return`${encodeURIComponent(r)}=${encodeURIComponent(n)}`;if(n===null)return`${encodeURIComponent(r)}=`;throw new is(`Cannot stringify type ${typeof n}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${po}`}defaultIdempotencyKey(){return`stainless-node-retry-${Bz()}`}makeStatusError(t,r,n,s){return gn.generate(t,r,n,s)}buildURL(t,r,n){const s=!this.baseURLOverridden()&&n||this.baseURL,a=$z(t)?new URL(t):new URL(s+(s.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),i=this.defaultQuery();return Gz(i)||(r=Object.assign(Object.assign({},i),r)),typeof r=="object"&&r&&!Array.isArray(r)&&(a.search=this.stringifyQuery(r)),a.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const r=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${r}`}}async prepareRequest(t,{url:r,options:n}){}get(t,r){return this.methodRequest("get",t,r)}post(t,r){return this.methodRequest("post",t,r)}patch(t,r){return this.methodRequest("patch",t,r)}put(t,r){return this.methodRequest("put",t,r)}delete(t,r){return this.methodRequest("delete",t,r)}methodRequest(t,r,n){return this.request(Promise.resolve(n).then(s=>Object.assign({method:t,path:r},s)))}request(t,r=null){return new k1(this,this.makeRequest(t,r,void 0))}async makeRequest(t,r,n){var s,a,i;const o=await t,l=(s=o.maxRetries)!==null&&s!==void 0?s:this.maxRetries;r==null&&(r=l),await this.prepareOptions(o);const{req:c,url:u,timeout:h}=await this.buildRequest(o,{retryCount:l-r});await this.prepareRequest(c,{url:u,options:o});const p="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),g=n===void 0?"":`, retryOf: ${n}`,v=Date.now();if(cn(this).debug(`[${p}] sending request`,ui({retryOfRequestLogID:n,method:o.method,url:u,options:o,headers:c.headers})),!((a=o.signal)===null||a===void 0)&&a.aborted)throw new hm;const x=new AbortController,y=await this.fetchWithTimeout(u,c,h,x).catch(fm),w=Date.now();if(y instanceof globalThis.Error){const _=`retrying, ${r} attempts remaining`;if(!((i=o.signal)===null||i===void 0)&&i.aborted)throw new hm;const b=dm(y)||/timed? ?out/i.test(String(y)+("cause"in y?String(y.cause):""));if(r)return cn(this).info(`[${p}] connection ${b?"timed out":"failed"} - ${_}`),cn(this).debug(`[${p}] connection ${b?"timed out":"failed"} (${_})`,ui({retryOfRequestLogID:n,url:u,durationMs:w-v,message:y.message})),this.retryRequest(o,r,n??p);throw cn(this).info(`[${p}] connection ${b?"timed out":"failed"} - error; no more retries left`),cn(this).debug(`[${p}] connection ${b?"timed out":"failed"} (error; no more retries left)`,ui({retryOfRequestLogID:n,url:u,durationMs:w-v,message:y.message})),b?new gC:new C0({cause:y})}const k=`[${p}${g}] ${c.method} ${u} ${y.ok?"succeeded":"failed"} with status ${y.status} in ${w-v}ms`;if(!y.ok){const _=await this.shouldRetry(y);if(r&&_){const F=`retrying, ${r} attempts remaining`;return await tq(y.body),cn(this).info(`${k} - ${F}`),cn(this).debug(`[${p}] response error (${F})`,ui({retryOfRequestLogID:n,url:y.url,status:y.status,headers:y.headers,durationMs:w-v})),this.retryRequest(o,r,n??p,y.headers)}const b=_?"error; no more retries left":"error; not retryable";cn(this).info(`${k} - ${b}`);const T=await y.text().catch(F=>fm(F).message),E=qz(T),S=E?void 0:T;throw cn(this).debug(`[${p}] response error (${b})`,ui({retryOfRequestLogID:n,url:y.url,status:y.status,headers:y.headers,message:S,durationMs:Date.now()-v})),this.makeStatusError(y.status,E,S,y.headers)}return cn(this).info(k),cn(this).debug(`[${p}] response start`,ui({retryOfRequestLogID:n,url:y.url,status:y.status,headers:y.headers,durationMs:w-v})),{response:y,options:o,controller:x,requestLogID:p,retryOfRequestLogID:n,startTime:v}}async fetchWithTimeout(t,r,n,s){const a=r||{},{signal:i,method:o}=a,l=gf(a,["signal","method"]),c=s.abort.bind(s);i&&i.addEventListener("abort",c,{once:!0});const u=setTimeout(c,n),h=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||typeof l.body=="object"&&l.body!==null&&Symbol.asyncIterator in l.body,p=Object.assign(Object.assign(Object.assign({signal:s.signal},h?{duplex:"half"}:{}),{method:"GET"}),l);o&&(p.method=o.toUpperCase());try{return await this.fetch.call(void 0,t,p)}finally{clearTimeout(u)}}async shouldRetry(t){const r=t.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,r,n,s){var a;let i;const o=s==null?void 0:s.get("retry-after-ms");if(o){const c=parseFloat(o);Number.isNaN(c)||(i=c)}const l=s==null?void 0:s.get("retry-after");if(l&&!i){const c=parseFloat(l);Number.isNaN(c)?i=Date.parse(l)-Date.now():i=c*1e3}if(!(i&&0<=i&&i<60*1e3)){const c=(a=t.maxRetries)!==null&&a!==void 0?a:this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(r,c)}return await Kz(i),this.makeRequest(t,r-1,n)}calculateDefaultRetryTimeoutMillis(t,r){const a=r-t,i=Math.min(.5*Math.pow(2,a),8),o=1-Math.random()*.25;return i*o*1e3}async buildRequest(t,{retryCount:r=0}={}){var n,s,a;const i=Object.assign({},t),{method:o,path:l,query:c,defaultBaseURL:u}=i,h=this.buildURL(l,c,u);"timeout"in i&&zz("timeout",i.timeout),i.timeout=(n=i.timeout)!==null&&n!==void 0?n:this.timeout;const{bodyHeaders:p,body:g}=this.buildBody({options:i}),v=await this.buildHeaders({options:t,method:o,bodyHeaders:p,retryCount:r});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:o,headers:v},i.signal&&{signal:i.signal}),globalThis.ReadableStream&&g instanceof globalThis.ReadableStream&&{duplex:"half"}),g&&{body:g}),(s=this.fetchOptions)!==null&&s!==void 0?s:{}),(a=i.fetchOptions)!==null&&a!==void 0?a:{}),url:h,timeout:i.timeout}}async buildHeaders({options:t,method:r,bodyHeaders:n,retryCount:s}){let a={};this.idempotencyHeader&&r!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=t.idempotencyKey);const i=await this.authHeaders(t);let o=Il([a,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(s)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),Qz()),this._options.defaultHeaders,n,t.headers,i]);return this.validateHeaders(o),o.values}buildBody({options:{body:t,headers:r}}){if(!t)return{bodyHeaders:void 0,body:void 0};const n=Il([r]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&n.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:eq(t)}:this.encoder({body:t,headers:n})}}N0.DEFAULT_TIMEOUT=6e4;class Or extends N0{constructor(){super(...arguments),this.interactions=new PC(this)}}MC=Or;Or.GeminiNextGenAPIClient=MC;Or.GeminiNextGenAPIClientError=is;Or.APIError=gn;Or.APIConnectionError=C0;Or.APIConnectionTimeoutError=gC;Or.APIUserAbortError=hm;Or.NotFoundError=_C;Or.ConflictError=wC;Or.RateLimitError=bC;Or.BadRequestError=xC;Or.AuthenticationError=vC;Or.InternalServerError=SC;Or.PermissionDeniedError=yC;Or.UnprocessableEntityError=kC;Or.toFile=oq;Or.Interactions=PC;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _q(e,t){const r={},n=f(e,["name"]);return n!=null&&m(r,["_url","name"],n),r}function wq(e,t){const r={},n=f(e,["name"]);return n!=null&&m(r,["_url","name"],n),r}function kq(e,t){const r={},n=f(e,["sdkHttpResponse"]);return n!=null&&m(r,["sdkHttpResponse"],n),r}function bq(e,t){const r={},n=f(e,["sdkHttpResponse"]);return n!=null&&m(r,["sdkHttpResponse"],n),r}function Sq(e,t,r){const n={};if(f(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const s=f(e,["tunedModelDisplayName"]);if(t!==void 0&&s!=null&&m(t,["displayName"],s),f(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=f(e,["epochCount"]);t!==void 0&&a!=null&&m(t,["tuningTask","hyperparameters","epochCount"],a);const i=f(e,["learningRateMultiplier"]);if(i!=null&&m(n,["tuningTask","hyperparameters","learningRateMultiplier"],i),f(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(f(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(f(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(f(e,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(f(e,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const o=f(e,["batchSize"]);t!==void 0&&o!=null&&m(t,["tuningTask","hyperparameters","batchSize"],o);const l=f(e,["learningRate"]);if(t!==void 0&&l!=null&&m(t,["tuningTask","hyperparameters","learningRate"],l),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(f(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(f(e,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(f(e,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(f(e,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(f(e,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");return n}function Eq(e,t,r){const n={};let s=f(r,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const T=f(e,["validationDataset"]);t!==void 0&&T!=null&&m(t,["supervisedTuningSpec"],Fh(T))}else if(s==="PREFERENCE_TUNING"){const T=f(e,["validationDataset"]);t!==void 0&&T!=null&&m(t,["preferenceOptimizationSpec"],Fh(T))}else if(s==="DISTILLATION"){const T=f(e,["validationDataset"]);t!==void 0&&T!=null&&m(t,["distillationSpec"],Fh(T))}const a=f(e,["tunedModelDisplayName"]);t!==void 0&&a!=null&&m(t,["tunedModelDisplayName"],a);const i=f(e,["description"]);t!==void 0&&i!=null&&m(t,["description"],i);let o=f(r,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const T=f(e,["epochCount"]);t!==void 0&&T!=null&&m(t,["supervisedTuningSpec","hyperParameters","epochCount"],T)}else if(o==="PREFERENCE_TUNING"){const T=f(e,["epochCount"]);t!==void 0&&T!=null&&m(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],T)}else if(o==="DISTILLATION"){const T=f(e,["epochCount"]);t!==void 0&&T!=null&&m(t,["distillationSpec","hyperParameters","epochCount"],T)}let l=f(r,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const T=f(e,["learningRateMultiplier"]);t!==void 0&&T!=null&&m(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],T)}else if(l==="PREFERENCE_TUNING"){const T=f(e,["learningRateMultiplier"]);t!==void 0&&T!=null&&m(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],T)}else if(l==="DISTILLATION"){const T=f(e,["learningRateMultiplier"]);t!==void 0&&T!=null&&m(t,["distillationSpec","hyperParameters","learningRateMultiplier"],T)}let c=f(r,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const T=f(e,["exportLastCheckpointOnly"]);t!==void 0&&T!=null&&m(t,["supervisedTuningSpec","exportLastCheckpointOnly"],T)}else if(c==="PREFERENCE_TUNING"){const T=f(e,["exportLastCheckpointOnly"]);t!==void 0&&T!=null&&m(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],T)}else if(c==="DISTILLATION"){const T=f(e,["exportLastCheckpointOnly"]);t!==void 0&&T!=null&&m(t,["distillationSpec","exportLastCheckpointOnly"],T)}let u=f(r,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const T=f(e,["adapterSize"]);t!==void 0&&T!=null&&m(t,["supervisedTuningSpec","hyperParameters","adapterSize"],T)}else if(u==="PREFERENCE_TUNING"){const T=f(e,["adapterSize"]);t!==void 0&&T!=null&&m(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],T)}else if(u==="DISTILLATION"){const T=f(e,["adapterSize"]);t!==void 0&&T!=null&&m(t,["distillationSpec","hyperParameters","adapterSize"],T)}let h=f(r,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const T=f(e,["tuningMode"]);t!==void 0&&T!=null&&m(t,["supervisedTuningSpec","tuningMode"],T)}const p=f(e,["customBaseModel"]);t!==void 0&&p!=null&&m(t,["customBaseModel"],p);let g=f(r,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const T=f(e,["batchSize"]);t!==void 0&&T!=null&&m(t,["supervisedTuningSpec","hyperParameters","batchSize"],T)}let v=f(r,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const T=f(e,["learningRate"]);t!==void 0&&T!=null&&m(t,["supervisedTuningSpec","hyperParameters","learningRate"],T)}const x=f(e,["labels"]);t!==void 0&&x!=null&&m(t,["labels"],x);const y=f(e,["beta"]);t!==void 0&&y!=null&&m(t,["preferenceOptimizationSpec","hyperParameters","beta"],y);const w=f(e,["baseTeacherModel"]);t!==void 0&&w!=null&&m(t,["distillationSpec","baseTeacherModel"],w);const k=f(e,["tunedTeacherModelSource"]);t!==void 0&&k!=null&&m(t,["distillationSpec","tunedTeacherModelSource"],k);const _=f(e,["sftLossWeightMultiplier"]);t!==void 0&&_!=null&&m(t,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],_);const b=f(e,["outputUri"]);return t!==void 0&&b!=null&&m(t,["outputUri"],b),n}function Tq(e,t){const r={},n=f(e,["baseModel"]);n!=null&&m(r,["baseModel"],n);const s=f(e,["preTunedModel"]);s!=null&&m(r,["preTunedModel"],s);const a=f(e,["trainingDataset"]);a!=null&&Oq(a);const i=f(e,["config"]);return i!=null&&Sq(i,r),r}function Cq(e,t){const r={},n=f(e,["baseModel"]);n!=null&&m(r,["baseModel"],n);const s=f(e,["preTunedModel"]);s!=null&&m(r,["preTunedModel"],s);const a=f(e,["trainingDataset"]);a!=null&&Uq(a,r,t);const i=f(e,["config"]);return i!=null&&Eq(i,r,t),r}function Aq(e,t){const r={},n=f(e,["name"]);return n!=null&&m(r,["_url","name"],n),r}function Nq(e,t){const r={},n=f(e,["name"]);return n!=null&&m(r,["_url","name"],n),r}function Iq(e,t,r){const n={},s=f(e,["pageSize"]);t!==void 0&&s!=null&&m(t,["_query","pageSize"],s);const a=f(e,["pageToken"]);t!==void 0&&a!=null&&m(t,["_query","pageToken"],a);const i=f(e,["filter"]);return t!==void 0&&i!=null&&m(t,["_query","filter"],i),n}function Rq(e,t,r){const n={},s=f(e,["pageSize"]);t!==void 0&&s!=null&&m(t,["_query","pageSize"],s);const a=f(e,["pageToken"]);t!==void 0&&a!=null&&m(t,["_query","pageToken"],a);const i=f(e,["filter"]);return t!==void 0&&i!=null&&m(t,["_query","filter"],i),n}function Pq(e,t){const r={},n=f(e,["config"]);return n!=null&&Iq(n,r),r}function Fq(e,t){const r={},n=f(e,["config"]);return n!=null&&Rq(n,r),r}function Mq(e,t){const r={},n=f(e,["sdkHttpResponse"]);n!=null&&m(r,["sdkHttpResponse"],n);const s=f(e,["nextPageToken"]);s!=null&&m(r,["nextPageToken"],s);const a=f(e,["tunedModels"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(o=>DC(o))),m(r,["tuningJobs"],i)}return r}function Dq(e,t){const r={},n=f(e,["sdkHttpResponse"]);n!=null&&m(r,["sdkHttpResponse"],n);const s=f(e,["nextPageToken"]);s!=null&&m(r,["nextPageToken"],s);const a=f(e,["tuningJobs"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(o=>gm(o))),m(r,["tuningJobs"],i)}return r}function Lq(e,t){const r={},n=f(e,["name"]);n!=null&&m(r,["model"],n);const s=f(e,["name"]);return s!=null&&m(r,["endpoint"],s),r}function Oq(e,t){const r={};if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=f(e,["examples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>a)),m(r,["examples","examples"],s)}return r}function Uq(e,t,r){const n={};let s=f(r,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const i=f(e,["gcsUri"]);t!==void 0&&i!=null&&m(t,["supervisedTuningSpec","trainingDatasetUri"],i)}else if(s==="PREFERENCE_TUNING"){const i=f(e,["gcsUri"]);t!==void 0&&i!=null&&m(t,["preferenceOptimizationSpec","trainingDatasetUri"],i)}else if(s==="DISTILLATION"){const i=f(e,["gcsUri"]);t!==void 0&&i!=null&&m(t,["distillationSpec","promptDatasetUri"],i)}let a=f(r,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const i=f(e,["vertexDatasetResource"]);t!==void 0&&i!=null&&m(t,["supervisedTuningSpec","trainingDatasetUri"],i)}else if(a==="PREFERENCE_TUNING"){const i=f(e,["vertexDatasetResource"]);t!==void 0&&i!=null&&m(t,["preferenceOptimizationSpec","trainingDatasetUri"],i)}else if(a==="DISTILLATION"){const i=f(e,["vertexDatasetResource"]);t!==void 0&&i!=null&&m(t,["distillationSpec","promptDatasetUri"],i)}if(f(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function DC(e,t){const r={},n=f(e,["sdkHttpResponse"]);n!=null&&m(r,["sdkHttpResponse"],n);const s=f(e,["name"]);s!=null&&m(r,["name"],s);const a=f(e,["state"]);a!=null&&m(r,["state"],XT(a));const i=f(e,["createTime"]);i!=null&&m(r,["createTime"],i);const o=f(e,["tuningTask","startTime"]);o!=null&&m(r,["startTime"],o);const l=f(e,["tuningTask","completeTime"]);l!=null&&m(r,["endTime"],l);const c=f(e,["updateTime"]);c!=null&&m(r,["updateTime"],c);const u=f(e,["description"]);u!=null&&m(r,["description"],u);const h=f(e,["baseModel"]);h!=null&&m(r,["baseModel"],h);const p=f(e,["_self"]);return p!=null&&m(r,["tunedModel"],Lq(p)),r}function gm(e,t){const r={},n=f(e,["sdkHttpResponse"]);n!=null&&m(r,["sdkHttpResponse"],n);const s=f(e,["name"]);s!=null&&m(r,["name"],s);const a=f(e,["state"]);a!=null&&m(r,["state"],XT(a));const i=f(e,["createTime"]);i!=null&&m(r,["createTime"],i);const o=f(e,["startTime"]);o!=null&&m(r,["startTime"],o);const l=f(e,["endTime"]);l!=null&&m(r,["endTime"],l);const c=f(e,["updateTime"]);c!=null&&m(r,["updateTime"],c);const u=f(e,["error"]);u!=null&&m(r,["error"],u);const h=f(e,["description"]);h!=null&&m(r,["description"],h);const p=f(e,["baseModel"]);p!=null&&m(r,["baseModel"],p);const g=f(e,["tunedModel"]);g!=null&&m(r,["tunedModel"],g);const v=f(e,["preTunedModel"]);v!=null&&m(r,["preTunedModel"],v);const x=f(e,["supervisedTuningSpec"]);x!=null&&m(r,["supervisedTuningSpec"],x);const y=f(e,["preferenceOptimizationSpec"]);y!=null&&m(r,["preferenceOptimizationSpec"],y);const w=f(e,["distillationSpec"]);w!=null&&m(r,["distillationSpec"],w);const k=f(e,["tuningDataStats"]);k!=null&&m(r,["tuningDataStats"],k);const _=f(e,["encryptionSpec"]);_!=null&&m(r,["encryptionSpec"],_);const b=f(e,["partnerModelTuningSpec"]);b!=null&&m(r,["partnerModelTuningSpec"],b);const T=f(e,["customBaseModel"]);T!=null&&m(r,["customBaseModel"],T);const E=f(e,["experiment"]);E!=null&&m(r,["experiment"],E);const S=f(e,["labels"]);S!=null&&m(r,["labels"],S);const M=f(e,["outputUri"]);M!=null&&m(r,["outputUri"],M);const F=f(e,["pipelineJob"]);F!=null&&m(r,["pipelineJob"],F);const z=f(e,["serviceAccount"]);z!=null&&m(r,["serviceAccount"],z);const Y=f(e,["tunedModelDisplayName"]);Y!=null&&m(r,["tunedModelDisplayName"],Y);const U=f(e,["veoTuningSpec"]);return U!=null&&m(r,["veoTuningSpec"],U),r}function Bq(e,t){const r={},n=f(e,["sdkHttpResponse"]);n!=null&&m(r,["sdkHttpResponse"],n);const s=f(e,["name"]);s!=null&&m(r,["name"],s);const a=f(e,["metadata"]);a!=null&&m(r,["metadata"],a);const i=f(e,["done"]);i!=null&&m(r,["done"],i);const o=f(e,["error"]);return o!=null&&m(r,["error"],o),r}function Fh(e,t){const r={},n=f(e,["gcsUri"]);n!=null&&m(r,["validationDatasetUri"],n);const s=f(e,["vertexDatasetResource"]);return s!=null&&m(r,["validationDatasetUri"],s),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jq extends ua{constructor(t){super(),this.apiClient=t,this.list=async(r={})=>new Ji(sa.PAGED_ITEM_TUNING_JOBS,n=>this.listInternal(n),await this.listInternal(r),r),this.get=async r=>await this.getInternal(r),this.tune=async r=>{var n;if(this.apiClient.isVertexAI())if(r.baseModel.startsWith("projects/")){const s={tunedModelName:r.baseModel};!((n=r.config)===null||n===void 0)&&n.preTunedModelCheckpointId&&(s.checkpointId=r.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},r),{preTunedModel:s});return a.baseModel=void 0,await this.tuneInternal(a)}else{const s=Object.assign({},r);return await this.tuneInternal(s)}else{const s=Object.assign({},r),a=await this.tuneMldevInternal(s);let i="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?i=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(i=a.name.split("/operations/")[0]),{name:i,state:nm.JOB_STATE_QUEUED}}}}async getInternal(t){var r,n,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=Nq(t);return o=Ge("{name}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:u.headers},p})),i.then(u=>gm(u))}else{const c=Aq(t);return o=Ge("{name}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:u.headers},p})),i.then(u=>DC(u))}}async listInternal(t){var r,n,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=Fq(t);return o=Ge("tuningJobs",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:u.headers},p})),i.then(u=>{const h=Dq(u),p=new Kw;return Object.assign(p,h),p})}else{const c=Pq(t);return o=Ge("tunedModels",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:u.headers},p})),i.then(u=>{const h=Mq(u),p=new Kw;return Object.assign(p,h),p})}}async cancel(t){var r,n,s,a;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=wq(t);return o=Ge("{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:u.headers},p})),i.then(u=>{const h=bq(u),p=new Jw;return Object.assign(p,h),p})}else{const c=_q(t);return o=Ge("{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(u=>u.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:u.headers},p})),i.then(u=>{const h=kq(u),p=new Jw;return Object.assign(p,h),p})}}async tuneInternal(t){var r,n;let s,a="",i={};if(this.apiClient.isVertexAI()){const o=Cq(t,t);return a=Ge("tuningJobs",o._url),i=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:a,queryParams:i,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),s.then(l=>gm(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var r,n;let s,a="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Tq(t);return a=Ge("tunedModels",o._url),i=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:a,queryParams:i,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(l=>l.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:l.headers},u})),s.then(l=>Bq(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $q{async download(t,r){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Vq=1024*1024*8,Hq=3,Gq=1e3,Wq=2,vf="x-goog-upload-status";async function zq(e,t,r){var n;const s=await LC(e,t,r),a=await(s==null?void 0:s.json());if(((n=s==null?void 0:s.headers)===null||n===void 0?void 0:n[vf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function qq(e,t,r){var n;const s=await LC(e,t,r),a=await(s==null?void 0:s.json());if(((n=s==null?void 0:s.headers)===null||n===void 0?void 0:n[vf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const i=WT(a),o=new m1;return Object.assign(o,i),o}async function LC(e,t,r){var n,s;let a=0,i=0,o=new am(new Response),l="upload";for(a=e.size;i<a;){const c=Math.min(Vq,a-i),u=e.slice(i,i+c);i+c>=a&&(l+=", finalize");let h=0,p=Gq;for(;h<Hq&&(o=await r.request({path:"",body:u,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(i),"Content-Length":String(c)}}}),!(!((n=o==null?void 0:o.headers)===null||n===void 0)&&n[vf]));)h++,await Jq(p),p=p*Wq;if(i+=c,((s=o==null?void 0:o.headers)===null||s===void 0?void 0:s[vf])!=="active")break;if(a<=i)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return o}async function Kq(e){return{size:e.size,type:e.type}}function Jq(e){return new Promise(t=>setTimeout(t,e))}class Yq{async upload(t,r,n){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await zq(t,r,n)}async uploadToFileSearchStore(t,r,n){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await qq(t,r,n)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Kq(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xq{create(t,r,n){return new Qq(t,r,n)}}class Qq{constructor(t,r,n){this.url=t,this.headers=r,this.callbacks=n}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const k2="x-goog-api-key";class Zq{constructor(t){this.apiKey=t}async addAuthHeaders(t,r){if(t.get(k2)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(k2,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eK="gl-node/";class tK{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const r=new Or({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=r.interactions,this._interactions}constructor(t){var r;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(r=t.vertexai)!==null&&r!==void 0?r:!1,this.apiKey=t.apiKey;const n=Wj(t.httpOptions,t.vertexai,void 0,void 0);n&&(t.httpOptions?t.httpOptions.baseUrl=n:t.httpOptions={baseUrl:n}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const s=new Zq(this.apiKey);this.apiClient=new KW({auth:s,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:eK+"web",uploader:new Yq,downloader:new $q}),this.models=new hz(this.apiClient),this.live=new oz(this.apiClient,s,new Xq),this.batches=new wV(this.apiClient),this.chats=new rH(this.models,this.apiClient),this.caches=new ZV(this.apiClient),this.files=new pH(this.apiClient),this.operations=new pz(this.apiClient),this.authTokens=new Iz(this.apiClient),this.tunings=new jq(this.apiClient),this.fileSearchStores=new Uz(this.apiClient)}}const rK=({user:e})=>{const[t,r]=V.useState(!1),[n,s]=V.useState(""),[a,i]=V.useState([{id:"1",role:"model",text:` ${e.fullName} 
  .           .`}]),[o,l]=V.useState(!1),c=V.useRef(null);V.useEffect(()=>{var p;(p=c.current)==null||p.scrollIntoView({behavior:"smooth"})},[a]);const u=async()=>{try{const{data:p}=await It.from("cartable_items").select("*").eq("module","WORK_ORDER").order("created_at",{ascending:!1}).limit(20),g=(p||[]).map(w=>{const k=w.data||{};return{code:w.tracking_code,title:w.title,status:k.status||w.status,equipment:k.equipName||"",failure:k.failureDesc,date:w.created_at,requester:k.requester}}),{data:v}=await It.from("cartable_items").select("*").eq("module","PART_REQUEST").limit(10),x=(v||[]).map(w=>{const k=w.data||{};return{part:k.partName,qty:k.qty,requester:w.description}});return`
          You are an intelligent assistant for a Factory Maintenance Management System (CMMS).
          Your goal is to help the maintenance manager by analyzing the provided data.
          
          HERE IS THE LIVE DATA FROM THE DATABASE (Supabase):
          ${JSON.stringify({currentTime:new Date().toLocaleString("fa-IR"),currentUser:e.fullName,recentWorkOrders:g,activePartsRequests:x})}

          INSTRUCTIONS:
          1. Answer solely based on the data provided above.
          2. If asked for "Top Failures" or similar, count the occurrences of equipment names in the workOrdersSummary.
          3. Respond in Persian (Farsi).
          4. Be concise and professional.
          5. Use formatting (bullet points, bold text) to make it readable.
          6. If the data is empty, say so.
          7. For "Most frequent failures", calculate the frequency of equipment names in the work orders list and show the top 10.
        `}catch(p){return console.error("Error collecting context:",p),"Error loading system data. Please answer generally."}},h=async p=>{if(p.preventDefault(),!n.trim())return;const g={id:Date.now().toString(),role:"user",text:n};i(v=>[...v,g]),s(""),l(!0);try{const v="AIzaSyBbrl8wKH28MYJn0yx2AZO6fqQUyhlm-KI",x=new tK({apiKey:v}),y=await u(),k=(await x.models.generateContent({model:"gemini-3-flash-preview",contents:[{role:"user",parts:[{text:y+`

User Question: `+n}]}],config:{temperature:.3}})).text||"    .";i(_=>[..._,{id:(Date.now()+1).toString(),role:"model",text:k}])}catch(v){console.error("AI Error:",v);let x=`: ${v.message||"      ."}`;v.message&&v.message.toLowerCase().includes("failed to fetch")?x=`        .

         (VPN)        .`:v.message&&(v.message.includes("403")||v.message.includes("400"))&&(x="  API        ."),i(y=>[...y,{id:(Date.now()+1).toString(),role:"model",text:x}])}finally{l(!1)}};return d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>r(!t),className:`fixed bottom-6 left-6 z-50 p-4 rounded-full shadow-2xl transition-all duration-300 transform hover:scale-110 flex items-center gap-2
            ${t?"bg-red-500 rotate-90":"bg-gradient-to-r from-blue-600 to-purple-600 animate-pulse"} text-white`,children:t?d.jsx(ki,{className:"w-6 h-6"}):d.jsx(g4,{className:"w-7 h-7"})}),t&&d.jsxs("div",{className:"fixed bottom-24 left-6 z-50 w-full max-w-sm md:max-w-md bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden flex flex-col h-[500px] animate-slideUp",children:[d.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-4 flex items-center gap-3 text-white",children:[d.jsx("div",{className:"bg-white/20 p-2 rounded-full",children:d.jsx(G4,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold",children:" "}),d.jsx("p",{className:"text-xs opacity-80",children:"  "})]})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50 dark:bg-gray-900/50",children:[a.map(p=>d.jsx("div",{className:`flex ${p.role==="user"?"justify-start":"justify-end"}`,children:d.jsx("div",{className:`max-w-[85%] p-3 rounded-2xl text-sm leading-relaxed whitespace-pre-wrap shadow-sm
                        ${p.role==="user"?"bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-100 rounded-br-none border border-gray-100 dark:border-gray-600":"bg-blue-600 text-white rounded-bl-none"}
                     `,children:p.text})},p.id)),o&&d.jsx("div",{className:"flex justify-end",children:d.jsxs("div",{className:"bg-blue-600/10 text-blue-600 p-3 rounded-2xl rounded-bl-none flex items-center gap-2 text-xs font-bold",children:[d.jsx(tS,{className:"w-4 h-4 animate-spin"}),"   ..."]})}),d.jsx("div",{ref:c})]}),d.jsxs("form",{onSubmit:h,className:"p-3 bg-white dark:bg-gray-800 border-t dark:border-gray-700 flex gap-2",children:[d.jsx("input",{type:"text",value:n,onChange:p=>s(p.target.value),placeholder:"   ...",className:"flex-1 bg-gray-100 dark:bg-gray-700 border-none rounded-xl px-4 py-3 text-sm focus:ring-2 focus:ring-blue-500 outline-none"}),d.jsx("button",{type:"submit",disabled:o||!n.trim(),className:"bg-blue-600 text-white p-3 rounded-xl hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition",children:d.jsx(a0,{className:"w-5 h-5"})})]}),d.jsx("div",{className:"px-4 py-1 bg-gray-50 dark:bg-gray-900 text-[10px] text-center text-gray-400 border-t dark:border-gray-700",children:"           ."})]})]})},nK=()=>{const[e,t]=V.useState(0),[r,n]=V.useState(!1);return V.useEffect(()=>{setTimeout(()=>n(!0),3800);const s=6e3,a=30,o=100/(s/a),l=setInterval(()=>{t(c=>c>=100?(clearInterval(l),100):Math.min(c+o,100))},a);return()=>{clearInterval(l)}},[]),d.jsxs("div",{className:"fixed inset-0 z-[100] flex flex-col items-center justify-center bg-gray-50 dark:bg-gray-900 transition-colors overflow-hidden",children:[d.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[d.jsx("div",{className:"absolute -top-[20%] -right-[10%] w-[70vw] h-[70vw] rounded-full bg-[#800020]/5 blur-3xl animate-pulse"}),d.jsx("div",{className:"absolute top-[40%] -left-[10%] w-[50vw] h-[50vw] rounded-full bg-blue-500/5 blur-3xl animate-pulse",style:{animationDelay:"1s"}})]}),d.jsxs("div",{className:"flex flex-col items-center z-10 relative",children:[d.jsx("div",{className:"w-48 h-48 mb-6 relative",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 200 200",fill:"none",className:"w-full h-full drop-shadow-xl",children:[d.jsxs("defs",{children:[d.jsxs("filter",{id:"softGlow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:[d.jsx("feGaussianBlur",{stdDeviation:"2",result:"blur"}),d.jsx("feComposite",{in:"SourceGraphic",in2:"blur",operator:"over"})]}),d.jsxs("filter",{id:"flashEffect",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[d.jsx("feGaussianBlur",{stdDeviation:"4",result:"coloredBlur"}),d.jsxs("feMerge",{children:[d.jsx("feMergeNode",{in:"coloredBlur"}),d.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),d.jsx("g",{className:"triangle-rotator",style:{transformOrigin:"100px 115px"},children:d.jsx("path",{className:"logo-triangle-morph",stroke:"#7f1d1d",strokeWidth:"16",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",opacity:"0.15"})}),d.jsxs("g",{strokeLinejoin:"round",strokeLinecap:"round",children:[d.jsx("path",{d:"M100 180 L150 155 L100 130 L50 155 Z",fill:"#7f1d1d",stroke:"#7f1d1d",strokeWidth:"4",className:"logo-part-rhombus-bottom"}),d.jsx("path",{d:"M100 145 L140 120 L100 95 L60 120 Z",fill:"#991b1b",stroke:"#991b1b",strokeWidth:"4",className:"logo-part-rhombus-middle"}),d.jsx("path",{d:"M100 110 L130 90 L100 70 L70 90 Z",fill:"#b91c1c",stroke:"#b91c1c",strokeWidth:"4",className:"logo-part-rhombus-top"})]}),d.jsx("circle",{cx:"100",cy:"40",r:"8",fill:"#7f1d1d",className:"logo-part-dot"})]})}),d.jsxs("div",{className:`text-center transition-all duration-1000 transform ${r?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[d.jsx("h1",{className:"text-4xl font-black text-[#800020] dark:text-red-400 mb-3 tracking-wide",children:""}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium mb-10 tracking-widest",children:"     "})]}),d.jsx("div",{className:"w-48 h-1 bg-gray-200 dark:bg-gray-800 rounded-full overflow-hidden relative",children:d.jsx("div",{className:"h-full bg-gradient-to-r from-[#800020] to-red-500 rounded-full transition-all duration-100 ease-linear shadow-[0_0_10px_rgba(128,0,32,0.5)]",style:{width:`${e}%`}})})]}),d.jsx("style",{children:`
        /* 1. Morph: Flat Line -> Triangle (0s to 1.2s) */
        .logo-triangle-morph {
            animation: morphTriangle 1.2s cubic-bezier(0.4, 0, 0.2, 1) forwards;
        }
        @keyframes morphTriangle {
            0% { 
                /* Flat horizontal line at bottom */
                d: path("M 25 165 L 175 165 L 175 165 Z"); 
                opacity: 0;
            }
            20% {
                d: path("M 25 165 L 175 165 L 175 165 Z"); 
                opacity: 0.15;
            }
            100% { 
                /* Equilateral Triangle */
                d: path("M 100 35 L 175 165 L 25 165 Z");
                opacity: 0.15;
            }
        }

        /* 2. Rotate: 360 Degrees in 2 stages (1.2s to 2.8s) */
        .triangle-rotator {
            animation: rotateTriangle 1.6s ease-in-out forwards;
            animation-delay: 1.2s; /* Wait for morph to finish */
            transform-origin: 100px 115px;
        }
        @keyframes rotateTriangle {
            0% { transform: rotate(0deg); }
            45% { transform: rotate(180deg); } /* First 180 Flip */
            55% { transform: rotate(180deg); } /* Short Pause */
            100% { transform: rotate(360deg); } /* Second 180 Flip (Total 360) */
        }

        /* 3. Rhombus Rising Animations (Start after rotation ~2.9s) */
        .logo-part-rhombus-bottom {
            opacity: 0;
            transform: translateY(50px);
            animation: riseUp 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
            animation-delay: 2.9s;
        }
        .logo-part-rhombus-middle {
            opacity: 0;
            transform: translateY(50px);
            animation: riseUp 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
            animation-delay: 3.1s;
        }
        .logo-part-rhombus-top {
            opacity: 0;
            transform: translateY(50px);
            animation: riseUp 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
            animation-delay: 3.3s;
        }

        @keyframes riseUp {
            0% { opacity: 0; transform: translateY(50px) scale(0.8); }
            100% { opacity: 1; transform: translateY(0) scale(1); }
        }

        /* 4. Dot Appearance & Flash (Starts ~3.6s) */
        .logo-part-dot {
            opacity: 0;
            transform-origin: center;
            animation: popInAndFlash 2.0s ease-out forwards;
            animation-delay: 3.6s;
        }
        @keyframes popInAndFlash {
            0% { opacity: 0; transform: scale(0); fill: #7f1d1d; }
            20% { opacity: 1; transform: scale(1); fill: #7f1d1d; }
            40% { fill: #ff9999; filter: url(#flashEffect); r: 10; } /* Flash */
            100% { fill: #7f1d1d; filter: none; r: 8; opacity: 1; transform: scale(1); }
        }
      `})]})},sK=lt.lazy(()=>_t(()=>import("./Login-P-Xg1c1T.js"),__vite__mapDeps([0,1]))),aK=lt.lazy(()=>_t(()=>import("./Dashboard-DlVikEja.js"),__vite__mapDeps([2,3,4,5]))),b2=lt.lazy(()=>_t(()=>import("./AdminPanel-CxDp3yhQ.js"),[])),iK=lt.lazy(()=>_t(()=>import("./WorkOrders-DzOXS3Jr.js"),__vite__mapDeps([6,7]))),oK=lt.lazy(()=>_t(()=>import("./WorkOrderList-B_6yeh7t.js"),__vite__mapDeps([8,6,7]))),lK=lt.lazy(()=>_t(()=>import("./Inspections-cQuiHj7M.js"),__vite__mapDeps([9,10]))),cK=lt.lazy(()=>_t(()=>import("./PartRequests-CiO_blDk.js"),__vite__mapDeps([11,12]))),uK=lt.lazy(()=>_t(()=>import("./Documents-DLtLGtyU.js"),[])),dK=lt.lazy(()=>_t(()=>import("./Meetings-Bb8QW1d9.js"),[])),fK=lt.lazy(()=>_t(()=>import("./Suggestions-G8WNcj1y.js"),__vite__mapDeps([13,7]))),hK=lt.lazy(()=>_t(()=>import("./PurchaseRequests-BSmm6SGI.js"),[])),pK=lt.lazy(()=>_t(()=>import("./Settings-BF-_40UL.js"),[])),mK=lt.lazy(()=>_t(()=>import("./Projects-BF0wL_hu.js"),__vite__mapDeps([14,12]))),gK=lt.lazy(()=>_t(()=>import("./Performance-Dxn0R2rZ.js"),[])),xK=lt.lazy(()=>_t(()=>import("./Inbox-160ZYGiU.js"),__vite__mapDeps([15,6,7,16]))),vK=lt.lazy(()=>_t(()=>import("./Messages-BjUd7Bcr.js"),__vite__mapDeps([17,7]))),yK=lt.lazy(()=>_t(()=>import("./Notes-D8HADSFZ.js"),[])),_K=lt.lazy(()=>_t(()=>import("./WorkflowDesigner-8pLm5hL5.js"),__vite__mapDeps([18,19]))),wK=lt.lazy(()=>_t(()=>import("./Reports-CHRjeaf1.js"),__vite__mapDeps([20,21,4]))),kK=lt.lazy(()=>_t(()=>import("./ReportTemplateDesign-CaY-Qv1S.js"),__vite__mapDeps([22,23,4,24,5]))),bK=lt.lazy(()=>_t(()=>Promise.resolve().then(()=>Fj),void 0)),SK=lt.lazy(()=>_t(()=>import("./ReportTemplatePreview-Or5nQMhw.js"),__vite__mapDeps([25,23]))),EK=lt.lazy(()=>_t(()=>Promise.resolve().then(()=>Bj),void 0)),TK=lt.lazy(()=>_t(()=>import("./ShiftHandover-Btl7WGYn.js"),__vite__mapDeps([26,27,10,4,24,5,21,23,16]))),CK=lt.lazy(()=>_t(()=>import("./ProductionReport-8qcjYUL0.js"),__vite__mapDeps([28,29,4,23,16]))),AK=lt.lazy(()=>_t(()=>import("./WorkCalendar-BhoZwwMs.js"),__vite__mapDeps([30,6,7,27,10,4,24,5,21,3]))),NK=lt.lazy(()=>_t(()=>import("./ControlRoomReport-BDC1aYyF.js"),__vite__mapDeps([31,23,29,21,16]))),IK=lt.lazy(()=>_t(()=>import("./LabReport-Cy9HTkfe.js"),__vite__mapDeps([32,23]))),RK=lt.lazy(()=>_t(()=>import("./WarehouseReport-B0mazYmc.js"),__vite__mapDeps([33,23]))),PK=lt.lazy(()=>_t(()=>import("./ScaleReport-DIOSGkAY.js"),__vite__mapDeps([34,23]))),FK=lt.lazy(()=>_t(()=>import("./PMScheduler-DGCOek89.js"),__vite__mapDeps([35,19]))),MK=lt.lazy(()=>_t(()=>import("./BillOfMaterials-DP0QcIJI.js"),[])),DK=lt.lazy(()=>_t(()=>import("./PermitToWork-DW_X8B8F.js"),[])),LK=lt.lazy(()=>_t(()=>import("./Inventory-B7mFmGUh.js"),__vite__mapDeps([36,1]))),OK=lt.lazy(()=>_t(()=>import("./KPIs-BU6kpQ4G.js"),__vite__mapDeps([37,4,5]))),UK=lt.lazy(()=>_t(()=>import("./Training-BqIR9i0J.js"),[])),BK=lt.lazy(()=>_t(()=>import("./TrainingCourses-D6XuwGky.js"),[])),jK=lt.lazy(()=>_t(()=>import("./Integration-C7ODvHmW.js"),[])),$K=lt.lazy(()=>_t(()=>import("./HSEReport-GcVQL7m_.js"),__vite__mapDeps([38,23]))),VK=lt.lazy(()=>_t(()=>import("./SystemConfig-BOC2F_5B.js"),[])),HK=lt.lazy(()=>_t(()=>import("./DataEntryToolSettings-DZSNy8Nh.js"),[])),GK=lt.lazy(()=>_t(()=>import("./SoftwareErrors-gkWk2RRw.js"),__vite__mapDeps([39,21]))),WK=lt.lazy(()=>_t(()=>import("./DataChangeTracking-BI9TGHSY.js"),__vite__mapDeps([40,21,29]))),zK=()=>d.jsxs("div",{className:"flex flex-col items-center justify-center h-full w-full min-h-[400px]",children:[d.jsx(tS,{className:"w-10 h-10 text-primary animate-spin mb-4"}),d.jsx("span",{className:"text-gray-500 text-sm",children:"  ..."})]}),qK=()=>{const[e,t]=V.useState(!0),[r,n]=V.useState(3e5),[s,a]=V.useState(()=>{try{const y=localStorage.getItem("currentUser");return y?JSON.parse(y):null}catch{return localStorage.removeItem("currentUser"),null}}),[i,o]=V.useState(()=>localStorage.getItem("theme")==="dark"),[l,c]=V.useState(()=>localStorage.getItem("snowMode")==="true"),u=V.useRef(null),h=V.useCallback(async y=>{try{const{error:w}=await It.from("system_logs").insert([y]);if(!w)return;if(w.code==="23503"){const k={...y};delete k.user_id,await It.from("system_logs").insert([k]);return}throw w}catch(w){console.warn("System log insert skipped:",w)}},[]);V.useEffect(()=>{(async()=>{try{const{data:w,error:k}=await It.from("app_settings").select("session_timeout_minutes, org_logo").order("created_at",{ascending:!0}).limit(1);if(k)throw k;const _=Array.isArray(w)?w[0]:null;if(_&&_.session_timeout_minutes&&n(_.session_timeout_minutes*6e4),_!=null&&_.org_logo&&s&&String(s.username||"").toLowerCase()==="admin"&&!s.avatar){const b={...s,avatar:_.org_logo};a(b),localStorage.setItem("currentUser",JSON.stringify(b))}}catch{console.warn("Failed to fetch settings, using defaults.")}})()},[s]),V.useEffect(()=>{const y=localStorage.getItem("lastActivityTime");y&&s&&Date.now()-parseInt(y,10)>r&&p(!0)},[s,r]),V.useEffect(()=>{const y=setTimeout(()=>{t(!1)},6e3);return()=>clearTimeout(y)},[]);const p=V.useCallback(async(y=!1)=>{if(s){const w=await sy();await h({user_id:s.id,user_name:s.fullName,personnel_code:s.personnelCode||"---",action:y?"  ( )":"  ",ip_address:w,details:`Logout Time: ${Tn()} ${qd()}`});const k=localStorage.getItem("theme"),_=localStorage.getItem("snowMode");localStorage.clear(),k&&localStorage.setItem("theme",k),_&&localStorage.setItem("snowMode",_)}a(null),y&&alert(`        ${Math.round(r/6e4)}       .`)},[s,r,h]),g=V.useCallback(()=>{s&&(localStorage.setItem("lastActivityTime",Date.now().toString()),u.current&&clearTimeout(u.current),u.current=setTimeout(()=>{p(!0)},r))},[s,p,r]);V.useEffect(()=>{if(!s)return;const y=["mousedown","mousemove","keydown","scroll","touchstart"],w=()=>g();return y.forEach(k=>document.addEventListener(k,w)),g(),()=>{y.forEach(k=>document.removeEventListener(k,w)),u.current&&clearTimeout(u.current)}},[s,g]),V.useEffect(()=>{i?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[i]);const v=async y=>{a(y),localStorage.setItem("currentUser",JSON.stringify(y)),localStorage.setItem("lastActivityTime",Date.now().toString());const w=await sy();await h({user_id:y.id,user_name:y.fullName,personnel_code:y.personnelCode||(y.username==="admin"?"9999":"0000"),action:"  ",ip_address:w,details:`Role: ${y.role}`})},x=y=>{a(y),localStorage.setItem("currentUser",JSON.stringify(y))};return e?d.jsx(nK,{}):d.jsxs(l4,{children:[d.jsx(jj,{enabled:l}),s&&d.jsx(rK,{user:s}),d.jsx(qP,{user:s,onLogout:()=>p(!1),darkMode:i,toggleDarkMode:()=>o(!i),children:d.jsx(V.Suspense,{fallback:d.jsx(zK,{}),children:d.jsxs(a4,{children:[d.jsx(pt,{path:"/login",element:s?d.jsx(xt,{to:"/"}):d.jsx(sK,{onLogin:v})}),d.jsx(pt,{path:"/",element:s?d.jsx(aK,{}):d.jsx(xt,{to:"/login"})}),d.jsx(pt,{path:"/work-calendar",element:s?d.jsx(AK,{}):d.jsx(xt,{to:"/login"})}),d.jsx(pt,{path:"/inbox",element:s?d.jsx(xK,{user:s}):d.jsx(xt,{to:"/login"})}),d.jsx(pt,{path:"/messages",element:s?d.jsx(vK,{user:s}):d.jsx(xt,{to:"/login"})}),d.jsx(pt,{path:"/notes",element:s?d.jsx(yK,{user:s}):d.jsx(xt,{to:"/login"})}),d.jsx(pt,{path:"/reports",element:s?d.jsx(wK,{}):d.jsx(xt,{to:"/login"})}),d.jsx(pt,{path:"/report-template-design",element:s?d.jsx(kK,{}):d.jsx(xt,{to:"/login"})}),d.jsx(pt,{path:"/report-form-design",element:(s==null?void 0:s.role)===_n.ADMIN?d.jsx(bK,{user:s}):d.jsx(xt,{to:"/"})}),d.jsx(pt,{path:"/report-template-preview",element:s?d.jsx(SK,{}):d.jsx(xt,{to:"/login"})}),d.jsx(pt,{path:"/reports/:slug",element:s?d.jsx(EK,{user:s}):d.jsx(xt,{to:"/login"})}),d.jsx(pt,{path:"/control-room",element:s?d.jsx(ai,{path:"/control-room",FallbackComponent:NK,user:s}):d.jsx(xt,{to:"/login"})}),d.jsx(pt,{path:"/shift-report",element:s?d.jsx(ai,{path:"/shift-report",FallbackComponent:TK,user:s}):d.jsx(xt,{to:"/login"})}),d.jsx(pt,{path:"/production-report",element:s?d.jsx(ai,{path:"/production-report",FallbackComponent:CK,user:s}):d.jsx(xt,{to:"/login"})}),d.jsx(pt,{path:"/lab-report",element:s?d.jsx(ai,{path:"/lab-report",FallbackComponent:IK,user:s}):d.jsx(xt,{to:"/login"})}),d.jsx(pt,{path:"/warehouse-report",element:s?d.jsx(ai,{path:"/warehouse-report",FallbackComponent:RK,user:s}):d.jsx(xt,{to:"/login"})}),d.jsx(pt,{path:"/scale-report",element:s?d.jsx(ai,{path:"/scale-report",FallbackComponent:PK,user:s}):d.jsx(xt,{to:"/login"})}),d.jsx(pt,{path:"/hse-report",element:s?d.jsx(ai,{path:"/hse-report",FallbackComponent:$K,user:s}):d.jsx(xt,{to:"/login"})}),d.jsx(pt,{path:"/work-orders",element:s?d.jsx(oK,{}):d.jsx(xt,{to:"/login"})}),d.jsx(pt,{path:"/work-orders/new",element:s?d.jsx(iK,{}):d.jsx(xt,{to:"/login"})}),d.jsx(pt,{path:"/projects",element:s?d.jsx(mK,{user:s}):d.jsx(xt,{to:"/login"})}),d.jsx(pt,{path:"/performance",element:s?d.jsx(gK,{user:s}):d.jsx(xt,{to:"/login"})}),d.jsx(pt,{path:"/part-requests",element:s?d.jsx(cK,{user:s}):d.jsx(xt,{to:"/login"})}),d.jsx(pt,{path:"/inspections",element:s?d.jsx(lK,{user:s}):d.jsx(xt,{to:"/login"})}),d.jsx(pt,{path:"/documents",element:s?d.jsx(uK,{}):d.jsx(xt,{to:"/login"})}),d.jsx(pt,{path:"/meetings",element:s?d.jsx(dK,{user:s}):d.jsx(xt,{to:"/login"})}),d.jsx(pt,{path:"/suggestions",element:s?d.jsx(fK,{user:s}):d.jsx(xt,{to:"/login"})}),d.jsx(pt,{path:"/purchases",element:s?d.jsx(hK,{user:s}):d.jsx(xt,{to:"/login"})}),d.jsx(pt,{path:"/workflow-designer",element:(s==null?void 0:s.role)===_n.ADMIN?d.jsx(_K,{}):d.jsx(xt,{to:"/"})}),d.jsx(pt,{path:"/admin",element:(s==null?void 0:s.role)===_n.ADMIN?d.jsx(b2,{}):d.jsx(xt,{to:"/"})}),d.jsx(pt,{path:"/admin/:tab",element:(s==null?void 0:s.role)===_n.ADMIN?d.jsx(b2,{}):d.jsx(xt,{to:"/"})}),d.jsx(pt,{path:"/settings",element:s?d.jsx(pK,{user:s,onUpdateUser:x,snowMode:l,setSnowMode:c}):d.jsx(xt,{to:"/login"})}),d.jsx(pt,{path:"/system-config",element:(s==null?void 0:s.role)===_n.ADMIN?d.jsx(VK,{}):d.jsx(xt,{to:"/"})}),d.jsx(pt,{path:"/data-entry-tool-settings",element:(s==null?void 0:s.role)===_n.ADMIN?d.jsx(HK,{}):d.jsx(xt,{to:"/"})}),d.jsx(pt,{path:"/software-errors",element:(s==null?void 0:s.role)===_n.ADMIN?d.jsx(GK,{}):d.jsx(xt,{to:"/"})}),d.jsx(pt,{path:"/data-change-tracking",element:(s==null?void 0:s.role)===_n.ADMIN?d.jsx(WK,{}):d.jsx(xt,{to:"/"})}),d.jsx(pt,{path:"/pm-scheduler",element:s?d.jsx(FK,{user:s}):d.jsx(xt,{to:"/login"})}),d.jsx(pt,{path:"/bom",element:s?d.jsx(MK,{user:s}):d.jsx(xt,{to:"/login"})}),d.jsx(pt,{path:"/permits",element:s?d.jsx(DK,{user:s}):d.jsx(xt,{to:"/login"})}),d.jsx(pt,{path:"/inventory",element:s?d.jsx(LK,{}):d.jsx(xt,{to:"/login"})}),d.jsx(pt,{path:"/kpis",element:s?d.jsx(OK,{}):d.jsx(xt,{to:"/login"})}),d.jsx(pt,{path:"/training",element:s?d.jsx(UK,{}):d.jsx(xt,{to:"/login"})}),d.jsx(pt,{path:"/training-courses",element:s?d.jsx(BK,{}):d.jsx(xt,{to:"/login"})}),d.jsx(pt,{path:"/integration",element:s?d.jsx(jK,{}):d.jsx(xt,{to:"/login"})}),d.jsx(pt,{path:"*",element:d.jsx(xt,{to:"/"})})]})})})]})};class KK extends V.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("Uncaught error in application:",t,r)}render(){var t;return this.state.hasError?d.jsx("div",{style:{padding:"20px",fontFamily:"sans-serif",textAlign:"center",direction:"rtl",minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"#f9fafb"},children:d.jsxs("div",{style:{padding:"40px",background:"white",borderRadius:"24px",boxShadow:"0 20px 25px -5px rgba(0,0,0,0.1)",maxWidth:"500px"},children:[d.jsx("h1",{style:{color:"#800020",marginBottom:"16px",fontSize:"24px",fontWeight:"bold"},children:"    "}),d.jsx("p",{style:{marginBottom:"24px",color:"#4b5563",lineHeight:"1.6"},children:"                ."}),d.jsx("div",{style:{marginBottom:"24px",padding:"12px",background:"#fee2e2",color:"#991b1b",borderRadius:"12px",textAlign:"left",direction:"ltr",overflow:"auto",maxHeight:"150px",fontSize:"11px",fontFamily:"monospace"},children:(t=this.state.error)==null?void 0:t.toString()}),d.jsx("button",{onClick:()=>{localStorage.clear(),window.location.reload()},style:{padding:"14px 32px",backgroundColor:"#800020",color:"white",border:"none",borderRadius:"12px",cursor:"pointer",fontWeight:"bold",fontSize:"16px",transition:"all 0.2s",boxShadow:"0 10px 15px -3px rgba(128,0,32,0.3)"},children:"    "})]})}):this.props.children||null}}const OC=document.getElementById("root");if(!OC)throw new Error("Failed to find the root element");const JK=Ob(OC);JK.render(d.jsx(V.StrictMode,{children:d.jsx(KK,{children:d.jsx(qK,{})})}));export{YP as $,nl as A,XK as B,sh as C,Ec as D,Ap as E,Zv as F,vg as G,F4 as H,gx as I,HI as J,jg as K,zP as L,eJ as M,xt as N,Q4 as O,e0 as P,W4 as Q,al as R,i0 as S,ix as T,_n as U,hn as V,u0 as W,ki as X,Oa as Y,Ag as Z,XP as _,Vg as a,Zb as a$,Ya as a0,Z4 as a1,Qb as a2,Of as a3,VT as a4,r0 as a5,Ua as a6,Ug as a7,_d as a8,rJ as a9,lJ as aA,cJ as aB,q4 as aC,zf as aD,Hf as aE,Xv as aF,ey as aG,h4 as aH,n3 as aI,pJ as aJ,es as aK,t0 as aL,Qi as aM,z4 as aN,m4 as aO,f4 as aP,p4 as aQ,b4 as aR,k4 as aS,lt as aT,yd as aU,Bg as aV,L4 as aW,J4 as aX,$4 as aY,mx as aZ,Tc as a_,VB as aa,ES as ab,d4 as ac,C4 as ad,tn as ae,nJ as af,D4 as ag,a0 as ah,ty as ai,rx as aj,x4 as ak,_g as al,li as am,su as an,Bf as ao,Xf as ap,$a as aq,Yb as ar,hJ as as,xJ as at,gJ as au,LP as av,lu as aw,Mg as ax,Ss as ay,Gf as az,w4 as b,Pi as b0,RS as b1,Np as b2,uJ as b3,Zp as b4,au as b5,j_ as b6,l0 as b7,y4 as b8,c0 as b9,Fg as bA,n0 as bB,Xb as bC,sj as bD,Qf as bE,_x as bF,qf as bG,Cc as bH,s0 as bI,Pg as bJ,dx as bK,Vf as bL,Yf as bM,H4 as bN,Wf as bO,P4 as bP,M4 as bQ,lj as ba,cj as bb,uj as bc,dj as bd,fj as be,hj as bf,pj as bg,mj as bh,vJ as bi,Oj as bj,gs as bk,dJ as bl,ou as bm,Uf as bn,K4 as bo,hx as bp,cx as bq,nS as br,qd as bs,iJ as bt,eS as bu,sS as bv,fJ as bw,mJ as bx,aJ as by,ny as bz,oe as c,tS as d,X4 as e,ZK as f,E4 as g,Tn as h,Ip as i,d as j,sJ as k,S4 as l,_4 as m,tJ as n,o0 as o,Zf as p,BC as q,V as r,It as s,oJ as t,fg as u,YK as v,SS as w,QK as x,O_ as y,Th as z};
